{"version":3,"sources":["webpack:///static/js/app.0d49ba3f62883c7e7341.js","webpack:///./src/assets/heartfill.svg","webpack:///./src/assets/123-0.png","webpack:///./src/_common/js/api.js","webpack:///./src/App.vue","webpack:///./src/_common/js/util.js","webpack:///./src/components/HelloWorld.vue","webpack:///./src/components/common/BigCard.vue","webpack:///./src/_common/js/magic.js","webpack:///./src/components/Square.vue","webpack:///./src/components/NMBMaker.vue","webpack:///./src/components/common/countButton.vue","webpack:///./src/components/NMBViewer.vue","webpack:///./src/components/common/pieProgress.vue","webpack:///./src/components/MBRollMaker.vue","webpack:///./src/components/common/workCard.vue","webpack:///./src/components/common/tagDialog.vue","webpack:///./src/components/MusixiserDetail.vue","webpack:///./src/components/MyFav.vue","webpack:///./src/components/ProductList.vue","webpack:///./src/components/OrderConfirm.vue","webpack:///./src/components/common/Order.vue","webpack:///./src/components/MyOrders.vue","webpack:///./src/components/common/workFlatCard.vue","webpack:///./src/components/RankBoard.vue","webpack:///./src/_common/js/filters.js","webpack:///./src/store/actions.js","webpack:///./src/store/mutations.js","webpack:///./src/store/getters.js","webpack:///./src/store/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?d1dc","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?1c42","webpack:///src/components/common/BigCard.vue","webpack:///./src/components/common/BigCard.vue?1599","webpack:///./src/_common/js/wx_share.js","webpack:///./src/_common/js/mixin.js","webpack:///src/components/Square.vue","webpack:///./src/components/Square.vue?ca53","webpack:///src/components/NMBMaker.vue","webpack:///./src/components/NMBMaker.vue?b236","webpack:///src/components/common/countButton.vue","webpack:///./src/components/common/countButton.vue?9b71","webpack:///src/components/NMBViewer.vue","webpack:///./src/components/NMBViewer.vue?3fff","webpack:///./src/_common/js/rolldemo.js","webpack:///./src/_common/js/seqModes.js","webpack:///src/components/common/pieProgress.vue","webpack:///./src/components/common/pieProgress.vue?71be","webpack:///src/components/common/anotherPieProgress.vue","webpack:///./src/components/common/anotherPieProgress.vue?a8a1","webpack:///./src/components/common/anotherPieProgress.vue","webpack:///src/components/MBRollMaker.vue","webpack:///./src/components/MBRollMaker.vue?9cd7","webpack:///src/components/common/workCard.vue","webpack:///./src/components/common/workCard.vue?4b5c","webpack:///src/components/common/tagDialog.vue","webpack:///./src/components/common/tagDialog.vue?2bf6","webpack:///src/components/MusixiserDetail.vue","webpack:///./src/components/MusixiserDetail.vue?825c","webpack:///src/components/MyFav.vue","webpack:///./src/components/MyFav.vue?6119","webpack:///src/components/ProductList.vue","webpack:///./src/components/ProductList.vue?9c1b","webpack:///src/components/OrderConfirm.vue","webpack:///./src/components/OrderConfirm.vue?86b8","webpack:///src/components/common/Order.vue","webpack:///./src/components/common/Order.vue?90b0","webpack:///src/components/MyOrders.vue","webpack:///./src/components/MyOrders.vue?68d0","webpack:///src/components/common/workFlatCard.vue","webpack:///./src/components/common/workFlatCard.vue?9c27","webpack:///src/components/RankBoard.vue","webpack:///./src/components/RankBoard.vue?602e","webpack:///./src/router/index.js","webpack:///./src/_common/js/directives.js","webpack:///./src/main.js","webpack:///./src/assets/123-2.png","webpack:///./src/assets/download2.svg","webpack:///./src/assets/heartstroke.svg","webpack:///./src/assets/mb-tag.svg","webpack:///./src/assets/download1.svg","webpack:///./src/assets/crownbronze.png","webpack:///./src/assets/crownsilver.png","webpack:///./src/assets/stop.svg","webpack:///./src/assets/viewer/trans-play.png","webpack:///./src/assets/123-3.png","webpack:///./src/assets/123-1.png","webpack:///./src/assets/crowngold.png"],"names":["webpackJsonp","48cV","module","exports","4sIA","7SH3","K/aD","K8+z","M+BT","NHnr","__webpack_exports__","__webpack_require__","getUserInfo","wxcode","tokenInCookie","Cookies","reqConfig","headers","Authorization","axios","get","promise_default","a","resolve","reject","post","then","res","data","errcode","serviceToken","id_token","expires","catch","err","uploadRecord","record","info","_this","this","midi","MidiConvert","create","console","log","reduce","acc","cur","note","Tone","Frequency","toMidi","time","track","patch","formReqConfig","Content-Type","processData","binaryString","encode","bytes","Uint8Array","length","i","charCodeAt","blob","Blob","type","reader","FileReader","onload","_ref","asyncToGenerator_default","regenerator_default","mark","_callee","event","fd","postFix","workURL","param","wrap","_context","prev","next","FormData","append","target","result","sent","t0","extends_default","url","abrupt","stringify_default","stop","_x","apply","arguments","readAsDataURL","downloadAsWav","_this2","_ref2","_callee2","wavURL","_context2","_x2","_x3","fetchMbox","id","fetchMusixiser","fetchWorksFromMusixiser","page","fetchFavWorks","toggleFavSong","_ref3","workId","status","updateWork","_ref4","title","cover","content","put","createOrder","_ref5","pid","wid","amount","addressId","message","payOrder","_ref6","orderId","fetchOrders","sendAddress","addressVO","getWXMedia","_ref7","media_id","fetchProductList","fetchSquareWorks","_ref9","size","category","orderStrategy","reqUrl","injectStyle","ssrContext","getUrlParam","key","reg","RegExp","match","location","search","HelloWorld_injectStyle","BigCard_injectStyle","RealMagic","items","tasksObj","forEach","item","itemNoteFreq","parseInt","toFrequency","push","taskTypes","keys_default","taskTimeArrays","values_default","taskTimeArraysCycle","map","b","val","concat","sort","machines","groups","timeArray","final","j","test","allPreviousOccupied","successFound","counter","SAME_NOTE_INTERVAL","indexOf","toConsumableArray_default","set_default","Math","max","group","index","count","lastMachine","mapNoteTimeToColor","COLOR1","COLOR2","COLOR3","rgb","floor","mapNoteMidiToLength","noteName","clearTone","parts","part","dispose","e","musicPreview","preview","start","Transport","state","oncePlayed","mbox","triggerAttack","Part","value","triggerAttackRelease","loop","lastNote","loopEnd","duration","position","previewMidi","load","tracks","notes","bounceAsWavBlob","callback","onReady","rendered","context","render","originalContext","buffer","Buffer","sampleRate","OfflineContext","onSynthLoaded","synth","wav","toWav","window","DataView","Sampler","B3","E4","G4","B4","C#5","E5","G5","B5","C#6","toMaster","Square_injectStyle","NMBMaker_injectStyle","countButton_injectStyle","NMBViewer_injectStyle","pieProgress_injectStyle","MBRollMaker_injectStyle","workCard_injectStyle","tagDialog_injectStyle","MusixiserDetail_injectStyle","MyFav_injectStyle","ProductList_injectStyle","OrderConfirm_injectStyle","Order_injectStyle","MyOrders_injectStyle","workFlatCard_injectStyle","RankBoard_injectStyle","getDateDiff","dateTimeStamp","newdateTimeStamp","Date","replace","now","getTime","diffValue","yearC","month","monthC","day","weekC","dayC","hour","hourC","minute","minC","Object","defineProperty","vue_esm","vuex_router_sync","lib","lib_default","n","vuex_esm","regenerator","promise","asyncToGenerator","stringify","helpers_extends","js_cookie","require","interceptors","response","use","alert","resmsg","Accept","actions__this","actions","BOUNCE_PROJECT","commit","FETCH_MBOX","project","userId","musixiser","userVO","mergeNotes","FETCH_MUSIXISER","musixiserInfo","FETCH_SQUARE_WORKS","_ref8","works","squareWorksObj","FETCH_BOARD_WORKS","_ref10","_ref11","boardWorksObj","FETCH_WORKS_FROM_MUSIXISER","_ref12","_ref13","musixiserWorksObj","FETCH_FAV_WORKS","_ref14","_ref15","favWorksObj","FETCH_PRODUCTLIST","_ref16","_ref17","products","list","productList","filter","FETCH_ORDERS","_ref18","_ref19","orders","mutations","SET_USER_INFO","activeType","SET_WORK_INFO","ids","lists","SET_MUSIXISER_INFO","Vue","set","SET_BOUNCE_PROJECT","recordProject","SET_ID_PROJECT","recordProjectInfo","SET_MUSIXISER","PUSH_SQUARE_WORKS","current","total","PUSH_MUSIXISER_WORKS","PUSH_FAV_WORKS","PUSH_BOARD_WORKS","RESET_WORK_LIST","SAVE_ORDER_INFO","work","product","address","orderToCreate","targetProduct","targetWork","PUSH_PRODUCTLIST","PUSH_ORDERS","OPERATE_WORK","operatingWorkId","PLAY_WORK","playingWorkId","LOCAL_UPDATE_LIST_FAV","favStatus","collectNum","LOCAL_UPDATE_LIST","findIndex","splice","LOCAL_UPDATE_ORDER_STATUS","order","PUSH_STACKS","_ref20","stacks","getters","activeIds","itemsPerPage","Number","route","params","end","slice","activeItems","_","Vuex","App","name","transitionName","screenOrientation","created","delaySetRem","clearTimeout","timeoutId","setTimeout","setRem","win","rem","docElem","getBoundingClientRect","width","style","fontSize","document","documentElement","on","setAttribute","devicePixelRatio","persisted","orientation","screen","$store","dispatch","beforeRouteUpdate","to","from","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","esExports","selectortype_template_index_0_src_App","normalizeComponent","__vue_styles__","Component","src_App","vue_router_esm","HelloWorld","msg","methods","redirectTo","path","$router","navigator","userAgent","toLowerCase","realname","HelloWorld_render","staticClass","_v","touchstart","$event","HelloWorld_staticRenderFns","HelloWorld_esExports","components_HelloWorld","HelloWorld_normalizeComponent","HelloWorld___vue_styles__","HelloWorld_Component","src_components_HelloWorld","BigCard","props","workInfo","playingStatus","Boolean","default","showAuthor","maskOn","onPlayWork","Function","onPurchaseWork","onShareWork","onHideWork","onDeleteWork","onToggleLike","onDownloadWork","onLongPress","onTapMask","computed","watch","mounted","updated","gotoWork","query","gotoMusixiser","BigCard_render","src","alt","_e","_s","touchend","click","staticStyle","display","align-items","smallAvatar","_f","lastModifiedDate","wavAccess","BigCard_staticRenderFns","BigCard_esExports","common_BigCard","BigCard_normalizeComponent","BigCard___vue_styles__","BigCard_Component","components_common_BigCard","vue_awesome_swiper","toConsumableArray","values","keys","cancel","release","baseUrl","node_modules_axios","axios_default","weixin_js_sdk","weixin_js_sdk_default","wx_share__this","prepareShareConfig","encodeURIComponent","href","split","wx","config","debug","appId","timestamp","nonceStr","signature","jsApiList","ready","prepareShareContent","desc","fullPath","imgUrl","link","onMenuShareTimeline","success","onMenuShareAppMessage","makeWxOrder","successCallback","failCalback","addressObj","payWxOrder","makeWavWxOrder","_x4","_x5","_x6","_callee3","payResult","_context3","signType","package","timeStamp","paySign","chooseWXPay","fail","_x7","_x8","_x9","createAddress","cb1","cb2","openAddress","selectAndUploadImage","chooseImage","sizeType","sourceType","localId","localIds","uploadImage","isShowProgressTips","_x10","_callee4","serverId","imgRes","_context4","error","mbMixin","everPlayFlag","playing","downloadWork","$toast","$ga","WxShare","$loading","Magic","Api","close","purchaseWork","machineNum","toggleLike","playWork","_this3","Square","mixins","components","Card","swiper","swiperSlide","cards","bigCardListOption","activeIndex","bigSwiper","$refs","bigCardList","redirectToMaker","loadWorks","busy","beforeRouteLeave","self","centeredSlides","slidesPerView","watchSlidesProgress","transitionEnd","_self$squareWorksObj","realIndex","progress","_progress","inWechat","origin","pathname","wx_share_prepareShareConfig","wx_share_prepareShareContent","Square_render","ref","options","_l","Square_staticRenderFns","Square_esExports","components_Square","Square_normalizeComponent","Square___vue_styles__","Square_Component","src_components_Square","dist","dist_default","NMBMaker_Tone","touchIdKeyMap","piano","C4","D#4","F#4","A4","C5","D#5","F#5","A5","C6","tonepart","clientHeight","innerHeight","bouncepart","recordStartTime","isLinger","replayInterval","playOffset","lingerOffset","tutorOnceEnter","tutorTimeout","NMBMaker","vueSlider","portraitMode","activeNote","recordPart","recordParts","generalControllerShow","activeSwiperIndex","lastActiveSwiperIndex","vuetimeline","showExtendBtns","alertAppear","bouncing","tutorSession","handClass","tutorClass","menuAppear","fuckReady","timelineConfig","padding","dotSize","eventType","min","interval","disabled","show","tooltip","piecewise","reverse","class","direction","speed","bgStyle","backgroundColor","boxShadow","tooltipDir","tooltipStyle","borderColor","transform","transformOrigin","left","top","formatter","toFixed","processStyle","setInterval","toggleReplay","PROGRESS_INTERVAL_TIME","clearInterval","$nextTick","timeline","refresh","pianoRoll","activePartIndex","PARTNUM","lastActivePartIndex","performance","confirmRecordPart","handleNoteStart","noteId","noteTime","$set","handleNoteEnd","triggerRelease","touchNoteStartHandler","changedTouches","identifier","touchNoteEndHandler","shouldClearTime","clearRecordPart","trackNum","undefined","checkBouncibility","_events","noteInfo","bounceProject","t","magic_mapNoteTimeToColor","m","magic_mapNoteMidiToLength","adjustTimeline","onMiniKeyboardScroll","touches","clientY","onMiniKeyboardStart","removeNoteInRecordPart","partIndex","keng","elementFromPoint","clientX","classList","contains","getAttribute","tutorStart","tutorProgress","_this4","clearTutorTimeout","slidePrev","slideNext","v","height","pianoRollSwiperOption","initialSlide","NMBMaker_render","touchmove","stopPropagation","preventDefault","_k","keyCode","Db4","D4","Eb4","F4","Gb4","Ab4","Bb4","Db5","D5","Eb5","F5","Gb5","Ab5","Bb5","Db6","D6","Eb6","E6","F6","x","y","operator","radius","in","stdDeviation","flood-color","in2","rx","ry","fill","_b","model","$$v","expression","directives","rawName","currentTarget","NMBMaker_staticRenderFns","NMBMaker_esExports","components_NMBMaker","NMBMaker_normalizeComponent","NMBMaker___vue_styles__","NMBMaker_Component","src_components_NMBMaker","countButton","initCount","initActive","iconImg","String","onClickCall","currentActiveCount","currentActive","updateButton","countButton_render","countButton_staticRenderFns","countButton_esExports","common_countButton","countButton_normalizeComponent","countButton___vue_styles__","countButton_Component","components_common_countButton","NMBViewer","CountButton","loading","workIntroAppear","controlPanalAppear","workUpdateAppear","newWorkTitle","newMessage","newCover","finalNewWorkTitle","projectInfo","loadMusicById","togglePlay","toggleFav","uploadPic","wx_share_selectAndUploadImage","api_updateWork","guideShare","redirectToMusixiser","positionWindow","scroll","purchaseItem","NMBViewer_render","_m","placeholder","domProps","blur","input","composing","NMBViewer_staticRenderFns","NMBViewer_esExports","components_NMBViewer","NMBViewer_normalizeComponent","NMBViewer___vue_styles__","NMBViewer_Component","src_components_NMBViewer","helpers_typeof","typeof_default","demo1","tempo","rectArray","keyboardMode","scales","whitekey","musicScale","initKey","img","fullkey","pieProgress","pieProgress_render","background","pieProgress_staticRenderFns","pieProgress_esExports","common_pieProgress","pieProgress_normalizeComponent","pieProgress___vue_styles__","pieProgress_Component","components_common_pieProgress","anotherPieProgress","stroke","normalizedRadius","circumference","PI","strokeDashoffset","anotherPieProgress_render","stroke-dasharray","stroke-width","r","cx","cy","anotherPieProgress_staticRenderFns","anotherPieProgress_esExports","common_anotherPieProgress","anotherPieProgress_normalizeComponent","anotherPieProgress_Component","components_common_anotherPieProgress","vue_konva_min","vue_konva_min_default","last_i","last_j","cursorSchedules","MBRollMaker","NOTE_CATEGORY","ONE_PAGE_NOTE_NUM","NOTE_NUM_PER_SECTOR","CONST_NOTE_NUM_PER_SECTOR","MB_DUR","controlWidth","configKonva","borderConfig","halfConfig","noteRectConfig","activeJ","sector","Array","alertAppear2","fullloop","beat","currentTime","filters","intTime","floatTime","toNote","midiNum","tempoLength","k","setupCanvas","RECTWIDTH","RECTHEIGHT","perfectDrawEnabled","transformsEnabled","strokeWidth","dash","scheduleCursor","fullNoteNumWithinDur","ceil","TIME_PER_NOTE","currentSector","partNoteNumStart","partNoteNumEnd","FULL_NOTE_NUM","clear","scheduleRepeat","noteSeq","noteIndex","_scheduledEvents","setupBeat","setupHalf","setupRect","withinDur","handleTouchRect","newRow","saveProjectToLocaoStorage","handleMoveRect","fullJ","fullLastJ","newLastRow","startloop","resume","stoploop","minusTempo","seconds","bpm","rampTo","addTempo","scrolldown","scrollup","scrollToBegin","updateLoop","clearNotes","chooseKeyboard","updateBeat","newbeat","updateKeyboard","schedule","submitProject","btnEnd","localStorage","setItem","workInCookie","getItem","workInCookieObj","JSON","parse","MBRollMaker_render","background-color","color","z-index","justify-content","font-size","transform-origin","flex-direction","MBRollMaker_staticRenderFns","MBRollMaker_esExports","components_MBRollMaker","MBRollMaker_normalizeComponent","MBRollMaker___vue_styles__","MBRollMaker_Component","src_components_MBRollMaker","workCard","isMine","onChangeWorkStatus","onClickTag","createdDate","fileHash","username","tel","email","birth","gender","largeAvatar","nation","isMaster","brief","followNum","fansNum","songNum","workStatusMap","0","1","2","workCard_render","workCard_staticRenderFns","workCard_esExports","common_workCard","workCard_normalizeComponent","workCard___vue_styles__","workCard_Component","components_common_workCard","tagDialog","appear","handleClose","tagDialog_render","tagDialog_staticRenderFns","tagDialog_esExports","common_tagDialog","tagDialog_normalizeComponent","tagDialog___vue_styles__","tagDialog_Component","components_common_tagDialog","vue_infinite_scroll","vue_infinite_scroll_default","MusixiserDetail_workStatusMap","MusixiserDetail","infiniteScroll","isMe","tagAppear","loadMusixiserById","loadMore","operateWork","cancelOperate","shareWork","changeWorkStatus","_this5","MusixiserDetail_render","infinite-scroll-disabled","infinite-scroll-distance","MusixiserDetail_staticRenderFns","MusixiserDetail_esExports","components_MusixiserDetail","MusixiserDetail_normalizeComponent","MusixiserDetail___vue_styles__","MusixiserDetail_Component","src_components_MusixiserDetail","MyFav","MyFav_render","MyFav_staticRenderFns","MyFav_esExports","components_MyFav","MyFav_normalizeComponent","MyFav___vue_styles__","MyFav_Component","src_components_MyFav","ProductList","bigProductList","bigProductListOption","effect","slideTo","productListOption","slideToClickedSlide","_progress2","viewProductDetail","toConfirmOrder","ProductList_render","object-fit","border-radius","previewPic","flex","intro","price","invalid","ProductList_staticRenderFns","ProductList_esExports","components_ProductList","ProductList_normalizeComponent","ProductList___vue_styles__","ProductList_Component","src_components_ProductList","OrderConfirm","giftMsg","userName","telNum","beforeRouteEnter","editAddress","wx_share_createAddress","detailInfo","telNumber","addAmount","reduceAmount","OrderConfirm_render","modifiers","number","$forceUpdate","_n","OrderConfirm_staticRenderFns","margin","OrderConfirm_esExports","components_OrderConfirm","OrderConfirm_normalizeComponent","OrderConfirm___vue_styles__","OrderConfirm_Component","src_components_OrderConfirm","Order","onPayOrder","Order_render","orderTime","Order_staticRenderFns","Order_esExports","common_Order","Order_normalizeComponent","Order___vue_styles__","Order_Component","components_common_Order","MyOrders","MyOrders_render","MyOrders_staticRenderFns","MyOrders_esExports","components_MyOrders","MyOrders_normalizeComponent","MyOrders___vue_styles__","MyOrders_Component","src_components_MyOrders","workFlatCard","rank","marqueeStyle","insider","outsider","offsetWidth","workFlatCard_render","right","workFlatCard_staticRenderFns","workFlatCard_esExports","common_workFlatCard","workFlatCard_normalizeComponent","workFlatCard___vue_styles__","workFlatCard_Component","components_common_workFlatCard","RankBoard","playerGold","playerSilver","playerBronze","RankBoard_render","RankBoard_staticRenderFns","RankBoard_esExports","components_RankBoard","RankBoard_normalizeComponent","RankBoard___vue_styles__","RankBoard_Component","src_components_RankBoard","Router","router","routes","component","MBRoll","longpress","bind","el","binding","vNode","compName","warn","pressTimer","button","handler","addEventListener","vue_analytics","vue_analytics_default","VueAnalytics","Toast","defaultType","wordWrap","productionTip","directive","store","Store","myInfo","sync","template","SaBO","TAvg","UljX","Vart","XNAQ","YMvE","YhRN","bF52","cHe1","chZ4","e195","eTTF","g4AG","gNLL","h06G","iygZ","mave","naGj","oB2d","prJz","r+qM","rbt3","sHdO","t0gW","v2ns","vmYS","wJ+Q","x2ag","zjgq"],"mappings":"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","file":"static/js/app.0d49ba3f62883c7e7341.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"48cV\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjZweCIgaGVpZ2h0PSIyMnB4IiB2aWV3Qm94PSIwIDAgMjYgMjIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Db21iaW5lZCBTaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJtYWluMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iumfs+S5kOW5v+WcuiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwOC4wMDAwMDAsIC01MTcuMDAwMDAwKSIgZmlsbD0iIzhDOEM5MiI+CiAgICAgICAgICAgIDxnIGlkPSLmqKHlnZcv5YWr6Z+z55uS5L+h5oGvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMC4wMDAwMDAsIDExNi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLor7TmmI4iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAzNzguODQzNDA0KSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IueCuei1niIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjg4LjAwMDAwMCwgMjMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00LjIwMTIzNzY2LDE1LjQ1Mjg2NjQgQzAuMDMzNDkxMjEyLDExLjA0ODg5ODkgLTEuMDk2MDg1MzMsNi4wNzE1ODU3NiAxLjA5MzkwNzgxLDIuNzg4MTM3NTYgQzMuMjY1NDYxMTksLTAuNDY3NjY0MDA4IDkuODU2NzE0NjcsLTEuOTg1MjY1MzUgMTMsNC41NzYyNTc4OCBDMTYuMTQzMjg1MywtMS45ODUyNjUzNSAyMi43MzQ1Mzg4LC0wLjQ2NzY2NDAwOCAyNC45MDYwOTIyLDIuNzg4MTM3NTYgQzI3LjA5NjA4NTMsNi4wNzE1ODU3NiAyNS45NjY1MDg4LDExLjA0ODg5ODkgMjEuNzk4NzYyMywxNS40NTI4NjY0IEMxOS45MTU4Mzk1LDE3LjQ0MjUxMDIgMTYuOTMwMDM2OCwxOS4yOTE1NTQ3IDEzLDIxIEM5LjA2OTk2MzI0LDE5LjI5MTU1NDcgNi4wODQxNjA0OCwxNy40NDI1MTAyIDQuMjAxMjM3NjYsMTUuNDUyODY2NCBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\"\n\n/***/ }),\n\n/***/ \"4sIA\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"7SH3\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"K/aD\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"K8+z\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"M+BT\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// EXTERNAL MODULE: ./node_modules/vuex-router-sync/index.js\nvar vuex_router_sync = __webpack_require__(\"9JMe\");\nvar vuex_router_sync_default = /*#__PURE__*/__webpack_require__.n(vuex_router_sync);\n\n// EXTERNAL MODULE: ./node_modules/vue2-toast/lib/toast.css\nvar toast = __webpack_require__(\"e195\");\nvar toast_default = /*#__PURE__*/__webpack_require__.n(toast);\n\n// EXTERNAL MODULE: ./node_modules/vue2-toast/lib/index.js\nvar lib = __webpack_require__(\"1BT9\");\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"NYxO\");\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"Xxa5\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/promise.js\nvar promise = __webpack_require__(\"//Fk\");\nvar promise_default = /*#__PURE__*/__webpack_require__.n(promise);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"exGp\");\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/json/stringify.js\nvar stringify = __webpack_require__(\"mvHQ\");\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/extends.js\nvar helpers_extends = __webpack_require__(\"Dd8w\");\nvar extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);\n\n// EXTERNAL MODULE: ./node_modules/js-cookie/src/js.cookie.js\nvar js_cookie = __webpack_require__(\"lbHh\");\nvar js_cookie_default = /*#__PURE__*/__webpack_require__.n(js_cookie);\n\n// CONCATENATED MODULE: ./src/_common/js/api.js\n\n\n\n\n\n\n// import Vue from 'vue';\nvar axios = __webpack_require__(\"mtWM\");\n\naxios.interceptors.response.use(function (res) {\n  if (res.data.errcode !== '0') {\n    alert(res.data.resmsg);\n    return promise_default.a.reject(res);\n  }\n  return res;\n});\nvar reqConfig = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json'\n    // 'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJ1aWQiOjIzOSwic3ViIjoiMjM5IiwiZXhwIjoxNTU1MjIyNzcxLCJpYXQiOjE1NTI2MzA3NzEsImp0aSI6IjE1NTI2MzA3NzE2MzgifQ.J1WNccABxwadbcjF-GsCLUhBhyROpcxP52g6JXW0vKI'\n  }\n};\n// const tokenObj = { access_token: '' };\n// TODO:cause 500?????? just cuz this few lines???\n\nfunction getUserInfo(wxcode) {\n  var tokenInCookie = js_cookie[\"get\"]('serviceToken');\n  if (tokenInCookie) {\n    // alert('cookie used');\n    reqConfig.headers.Authorization = '' + tokenInCookie;\n    // tokenObj.access_token = tokenInCookie;\n    return axios.get('//api.octave-love.com/api/v1/user/getInfo', reqConfig);\n  } else if (!tokenInCookie && wxcode) {\n    // alert('no cookie');\n    return new promise_default.a(function (resolve, reject) {\n      axios.post('//api.octave-love.com/api/v1/user/oauth/wechat/callback?code=' + wxcode, '', reqConfig).then(function (res) {\n        if (res.data.errcode === 20001) {\n          reject(20001); // 相当于return了\n        }\n        var serviceToken = res.data.data.id_token;\n        reqConfig.headers.Authorization = '' + serviceToken;\n        // tokenObj.access_token = serviceToken;\n        js_cookie[\"set\"]('serviceToken', serviceToken, {\n          expires: 30\n        });\n        return axios.get('//api.octave-love.com/api/v1/user/getInfo', reqConfig);\n      }, function () {\n        reject();\n      }).then(function (res) {\n        resolve(res);\n      }).catch(function (err) {\n        reject(err);\n      });\n    });\n  }\n  // !tokenInCookie&&!wxcode的情况在app.js里处理, 不会走到这里\n  return false;\n}\n\nfunction uploadRecord(record, info) {\n  var _this = this;\n\n  return new promise_default.a(function (resolve, reject) {\n    // create a new midi file\n    var midi = MidiConvert.create();\n    console.log('record', record);\n    // record = [{ \"note\": \"E4\", \"time\": 0 }, { \"note\": \"E5\", \"time\": 0.098 }, { \"note\": \"G5\", \"time\": 1.058 }, { \"note\": \"G4\", \"time\": 1.074 }, { \"note\": \"A5\", \"time\": 1.074 }, { \"note\": \"A4\", \"time\": 1.102 }, { \"note\": \"C5\", \"time\": 1.19 }, { \"note\": \"G5\", \"time\": 1.69 }, { \"note\": \"A5\", \"time\": 2.029 }, { \"note\": \"A4\", \"time\": 2.047 }, { \"note\": \"A5\", \"time\": 2.109 }, { \"note\": \"F5\", \"time\": 2.198 }, { \"note\": \"G5\", \"time\": 2.587 }, { \"note\": \"A5\", \"time\": 2.646 }, { \"note\": \"C6\", \"time\": 3.082 }, { \"note\": \"A5\", \"time\": 3.582 }, { \"note\": \"A4\", \"time\": 3.7 }, { \"note\": \"A5\", \"time\": 3.702 }, { \"note\": \"G4\", \"time\": 4.541 }, { \"note\": \"G5\", \"time\": 4.569 }, { \"note\": \"E5\", \"time\": 5.074 }, { \"note\": \"E4\", \"time\": 5.075 }, { \"note\": \"C5\", \"time\": 6.015 }, { \"note\": \"E5\", \"time\": 6.209 }, { \"note\": \"E4\", \"time\": 6.239 }, { \"note\": \"G5\", \"time\": 6.498 }, { \"note\": \"A5\", \"time\": 6.881 }, { \"note\": \"G5\", \"time\": 7.331 }, { \"note\": \"E5\", \"time\": 7.778 }, { \"note\": \"E4\", \"time\": 7.779 }, { \"note\": \"G5\", \"time\": 8.445 }, { \"note\": \"G4\", \"time\": 8.46 }, { \"note\": \"F5\", \"time\": 8.966 }, { \"note\": \"A4\", \"time\": 9.059 }, { \"note\": \"A5\", \"time\": 9.06 }, { \"note\": \"A5\", \"time\": 9.449 }, { \"note\": \"C6\", \"time\": 9.866 }, { \"note\": \"A4\", \"time\": 10.126 }, { \"note\": \"A5\", \"time\": 10.127 }, { \"note\": \"A5\", \"time\": 10.317 }, { \"note\": \"A5\", \"time\": 11.56 }, { \"note\": \"A4\", \"time\": 11.598 }, { \"note\": \"C5\", \"time\": 11.6 }, { \"note\": \"B4\", \"time\": 11.8 }, { \"note\": \"E5\", \"time\": 12.093 }, { \"note\": \"C5\", \"time\": 12.168 }, { \"note\": \"E5\", \"time\": 12.18 }, { \"note\": \"B4\", \"time\": 12.206 }, { \"note\": \"G5\", \"time\": 12.373 }, { \"note\": \"G4\", \"time\": 12.404 }, { \"note\": \"G5\", \"time\": 12.73 }, { \"note\": \"E5\", \"time\": 13.005 }, { \"note\": \"E4\", \"time\": 13.007 }, { \"note\": \"E5\", \"time\": 13.864 }, { \"note\": \"F5\", \"time\": 14.708 }, { \"note\": \"F4\", \"time\": 14.744 }, { \"note\": \"E4\", \"time\": 15.04 }, { \"note\": \"E5\", \"time\": 15.098 }, { \"note\": \"D5\", \"time\": 15.478 }, { \"note\": \"D4\", \"time\": 15.479 }, { \"note\": \"D5\", \"time\": 16.1 }, { \"note\": \"G5\", \"time\": 16.573 }, { \"note\": \"B5\", \"time\": 16.901 }, { \"note\": \"G5\", \"time\": 17.33 }, { \"note\": \"C4\", \"time\": 17.382 }, { \"note\": \"C5\", \"time\": 17.426 }, { \"note\": \"C5\", \"time\": 17.749 }, { \"note\": \"E5\", \"time\": 18.796 }, { \"note\": \"F5\", \"time\": 19.343 }]\n\n    // add a track\n    // midi\n    //   .track()\n    //   // select an instrument by its MIDI patch number\n    //   .patch(32)\n    //   // chain note events: note, time, duration\n    //   .note(60, 0, 2)\n    //   .note(63, 1, 2)\n    //   .note(60, 2, 2);\n\n    record.reduce(function (acc, cur) {\n      return acc.note(Tone.Frequency(cur.note).toMidi(), //midiNo,\n      cur.time, //startTime,\n      1 //duration,\n      //velocity\n      );\n    }, midi.track(0).patch(32));\n\n    var formReqConfig = {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        processData: false,\n        Authorization: reqConfig.headers.Authorization\n      }\n    };\n    // const blob = new Blob([JSON.stringify(record)]);\n    // const blob = new Blob([JSON.stringify(midi.encode())]);\n\n    var binaryString = midi.encode();\n    // write the output\n    var bytes = new Uint8Array(binaryString.length);\n    for (var i = 0; i < binaryString.length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    var blob = new Blob([bytes], {\n      type: 'audio/midi;charset=binary'\n    });\n    var reader = new FileReader();\n    reader.onload = function () {\n      var _ref = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(event) {\n        var fd, postFix, workURL, param;\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                fd = new FormData();\n                // fd.append('fname', 'test.txt');\n\n                fd.append('fname', 'output.mid');\n                fd.append('data', event.target.result);\n                // fd.append('access_token', tokenObj.access_token);\n                postFix = '';\n                _context.prev = 4;\n                _context.next = 7;\n                return axios.post('//api.octave-love.com/api/v1/uploadAudio', fd, formReqConfig);\n\n              case 7:\n                postFix = _context.sent;\n                _context.next = 14;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context['catch'](4);\n\n                console.log(_context.t0);\n                reject(_context.t0);\n\n              case 14:\n                workURL = '' + postFix.data.data;\n                param = extends_default()({}, info, { // title,content.cover\n                  url: workURL\n                });\n\n                console.log(workURL);\n                return _context.abrupt('return', axios.post('//api.octave-love.com/api/v1/work/create', stringify_default()(param), reqConfig).then(function (res) {\n                  resolve(res.data.data);\n                }).catch(function (err) {\n                  reject(err);\n                }));\n\n              case 18:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this, [[4, 10]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    reader.readAsDataURL(blob);\n  });\n  // trigger the read from the reader...\n}\nfunction downloadAsWav(blob) {\n  var _this2 = this;\n\n  var formReqConfig = {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n      processData: false,\n      Authorization: reqConfig.headers.Authorization\n    }\n  };\n  return new promise_default.a(function () {\n    var _ref2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee2(resolve, reject) {\n      var fd, postFix, wavURL;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fd = new FormData();\n\n              fd.append('files', blob);\n              _context2.prev = 2;\n              _context2.next = 5;\n              return axios.post('//api.octave-love.com/api/v1/picture/uploadPic', fd, formReqConfig);\n\n            case 5:\n              postFix = _context2.sent;\n              wavURL = '' + postFix.data.data;\n\n              console.log(wavURL);\n              resolve(wavURL);\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2['catch'](2);\n\n              console.log(_context2.t0);\n              reject(_context2.t0);\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, _this2, [[2, 11]]);\n    }));\n\n    return function (_x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n}\nfunction fetchMbox(id) {\n  return axios.get('//api.octave-love.com/api/v1/work/detail/' + id, reqConfig);\n}\nfunction fetchMusixiser(id) {\n  return axios.get('//api.octave-love.com/api/v1/user/detail/' + id, reqConfig);\n}\nfunction fetchWorksFromMusixiser(id, page) {\n  return axios.get('//api.octave-love.com/api/v1/work/getListByUid/' + id + '?page=' + page + '&size=14', reqConfig);\n}\nfunction fetchFavWorks(id, page) {\n  return axios.get('//api.octave-love.com/api/v1/favorite/getWorkList/' + id + '?page=' + page + '&size=14', reqConfig);\n}\nfunction toggleFavSong(_ref3) {\n  var workId = _ref3.workId,\n      status = _ref3.status;\n\n  return axios.post('//api.octave-love.com/api/v1/favorite/create', stringify_default()({ workId: workId, status: status }), reqConfig);\n  // .then((res) => { console.log(res); })\n  // .catch((err) => { console.log(err); });\n}\nfunction api_updateWork(_ref4) {\n  var id = _ref4.id,\n      title = _ref4.title,\n      cover = _ref4.cover,\n      content = _ref4.content,\n      status = _ref4.status;\n\n  return axios.put('//api.octave-love.com/api/v1/work/updateWork/' + id, stringify_default()({ title: title, cover: cover, content: content, status: status }), reqConfig);\n  // .then((res) => { console.log(res); })\n  // .catch((err) => { console.log(err); });\n}\nfunction getRecommendations() {\n  return axios.post('//api.octave-love.com/api/v1/home', '', reqConfig);\n}\n\nfunction createOrder(_ref5) {\n  var pid = _ref5.pid,\n      wid = _ref5.wid,\n      amount = _ref5.amount,\n      addressId = _ref5.addressId,\n      message = _ref5.message;\n\n  return axios.post('//api.octave-love.com/api/v1/shop/orders/create', stringify_default()({ pid: pid, wid: wid, amount: amount, addressId: addressId, message: message }), reqConfig);\n}\n\nfunction api_payOrder(_ref6) {\n  var orderId = _ref6.orderId;\n\n  return axios.post('//api.octave-love.com/api/v1/shop/pay/unifiedorder?orderId=' + orderId, '', reqConfig);\n}\nfunction fetchOrders(page) {\n  return axios.get('//api.octave-love.com/api/v1/shop/orders/myOrderList?page=' + page + '&size=14', reqConfig);\n}\n\nfunction sendAddress(addressVO) {\n  return axios.post('//api.octave-love.com/api/v1/shop/address/create', stringify_default()(addressVO), reqConfig);\n}\nfunction getWXMedia(_ref7) {\n  var media_id = _ref7.media_id;\n\n  return axios.post('//api.octave-love.com/api/v1/wechat/saveMedia?media_id=' + media_id, '', reqConfig);\n}\nfunction fetchProductList() {\n  return axios.get('//api.octave-love.com/api/v1/admin/shop/products', reqConfig);\n}\n\nfunction fetchStacks(_ref8) {\n  var page = _ref8.page,\n      size = _ref8.size;\n\n  return axios.get('//api.octave-love.com//api/v1/admin/works?page=' + page + '&size=' + size, reqConfig);\n}\n\nfunction fetchSquareWorks(_ref9) {\n  var page = _ref9.page,\n      size = _ref9.size,\n      category = _ref9.category,\n      orderStrategy = _ref9.orderStrategy,\n      id = _ref9.id;\n\n  var reqUrl = '//api.octave-love.com/api/v1/home?page=' + page + '&size=' + size;\n  if (category) reqUrl += '&category=' + category;\n  if (orderStrategy) reqUrl += '&orderStrategy=' + orderStrategy;\n  return axios.get(reqUrl, reqConfig);\n}\n// CONCATENATED MODULE: ./src/store/actions.js\n\n\n\n\nvar actions__this = this;\n\n\n/*\n  getUserInfo\n  getWorkInfo\n  getMusixiserInfo\n  saveWork\n*/\n/* harmony default export */ var actions = ({\n  BOUNCE_PROJECT: function BOUNCE_PROJECT(_ref, _ref2) {\n    var commit = _ref.commit,\n        state = _ref.state;\n    var record = _ref2.record,\n        info = _ref2.info;\n    return uploadRecord(record, info);\n  },\n  // 存作品到后台\n  // uploadRecord(record, info).then(() => {\n  //   // commit('SET_BOUNCE_PROJECT', { record, info });\n  //   // 可以在组建直接跳链接，不commit 存store一道\n  // });\n\n  FETCH_MBOX: function () {\n    var _ref3 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(_ref4, _ref5) {\n      var commit = _ref4.commit,\n          state = _ref4.state;\n      var id = _ref5.id;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt('return',\n              // {\n              //   const project = await fetchMbox(id);\n              //   console.log('xxi', project.data.data.url);\n              //   console.log('xxi', project.data.data.userId);\n              //   const musixiser = await fetchMusixiser(project.data.data.userId);\n              //   console.log('work musixiser info: ', musixiser.data.data);\n              //   project.data.data.userVO = musixiser.data.data; // 拼接口。\n              //   // MidiConvert.load(project.data.data.url, (midi) => {\n              //   MidiConvert.load('//cdn.cnbj1.fds.api.mi-img.com/lftemp/silent_night_easy.mid', (midi) => {\n              //     commit('SET_ID_PROJECT', {\n              //       record: midi.tracks[0].notes,\n              //       info: project.data.data,\n              //     });\n              //   });\n              // },\n              new promise_default.a(function (resolve, reject) {\n                // 获取某id的音乐盒音乐内容\n                fetchMbox(id).then(function (project) {\n                  console.log('xxi', project.data.data.url);\n                  console.log('xxi', project.data.data.userId);\n                  fetchMusixiser(project.data.data.userId).then(function (musixiser) {\n                    console.log('work musixiser info: ', musixiser.data.data);\n                    project.data.data.userVO = musixiser.data.data; // 拼接口。\n                    // load music notes/ midi notes\n                    // '//cdn.cnbj1.fds.api.mi-img.com/lftemp/silent_night_easy.mid' => test url\n\n                    MidiConvert.load(project.data.data.url, function (midi) {\n                      console.log('midi', midi);\n                      var mergeNotes = midi.tracks.reduce(function (a, b) {\n                        return a.concat(b.notes);\n                      }, []);\n                      commit('SET_ID_PROJECT', {\n                        record: mergeNotes, // midi.tracks[1].notes, // TODO:稍后要改成0\n                        info: project.data.data\n                      });\n                      resolve();\n                    });\n                    // const request = new XMLHttpRequest();\n                    // request.open('GET', project.data.data.url, true);\n                    // request.send(null);\n                    // request.onreadystatechange = function () {\n                    //   if (request.readyState === 4 && request.status === 200) {\n                    //     const type = request.getResponseHeader('Content-Type');\n                    //     if (type.indexOf('text') !== -1) {\n                    //       commit('SET_ID_PROJECT', {\n                    //         record: JSON.parse(request.responseText),\n                    //         info: project.data.data,\n                    //       });\n                    //       resolve();\n                    //     }\n                    //   }\n                    // };\n                  });\n                });\n              }));\n\n            case 1:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, actions__this);\n    }));\n\n    return function FETCH_MBOX(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(),\n  FETCH_MUSIXISER: function FETCH_MUSIXISER(_ref6, _ref7) {\n    var commit = _ref6.commit,\n        state = _ref6.state;\n    var id = _ref7.id;\n    return new promise_default.a(function (resolve, reject) {\n      // 获取某id的音乐盒音乐内容\n      fetchMusixiser(id).then(function (musixiser) {\n        console.log('musixiser info: ', musixiser.data.data);\n        commit('SET_MUSIXISER', { musixiserInfo: musixiser.data.data });\n        resolve();\n      });\n    });\n  },\n  FETCH_SQUARE_WORKS: function FETCH_SQUARE_WORKS(_ref8, _ref9) {\n    var commit = _ref8.commit,\n        state = _ref8.state;\n    var page = _ref9.page,\n        size = _ref9.size;\n    return new promise_default.a(function (resolve, reject) {\n      fetchSquareWorks({ page: page, size: size }).then(function (works) {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_SQUARE_WORKS', { squareWorksObj: works.data.data });\n        resolve();\n      });\n    });\n  },\n  FETCH_BOARD_WORKS: function FETCH_BOARD_WORKS(_ref10, _ref11) {\n    var commit = _ref10.commit,\n        state = _ref10.state;\n    var page = _ref11.page,\n        size = _ref11.size,\n        category = _ref11.category,\n        orderStrategy = _ref11.orderStrategy;\n    return new promise_default.a(function (resolve, reject) {\n      fetchSquareWorks({ page: page, size: size, category: category, orderStrategy: orderStrategy }).then(function (works) {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_BOARD_WORKS', { boardWorksObj: works.data.data });\n        resolve();\n      });\n    });\n  },\n  FETCH_WORKS_FROM_MUSIXISER: function FETCH_WORKS_FROM_MUSIXISER(_ref12, _ref13) {\n    var commit = _ref12.commit,\n        state = _ref12.state;\n    var id = _ref13.id,\n        page = _ref13.page;\n    return new promise_default.a(function (resolve, reject) {\n      fetchWorksFromMusixiser(id, page).then(function (works) {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_MUSIXISER_WORKS', { musixiserWorksObj: works.data.data });\n        resolve();\n      });\n    });\n  },\n  FETCH_FAV_WORKS: function FETCH_FAV_WORKS(_ref14, _ref15) {\n    var commit = _ref14.commit,\n        state = _ref14.state;\n    var id = _ref15.id,\n        page = _ref15.page;\n    return new promise_default.a(function (resolve, reject) {\n      // 获取某id的音乐盒音乐内容\n      fetchFavWorks(id, page).then(function (works) {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_FAV_WORKS', { favWorksObj: works.data.data });\n        resolve();\n      });\n    });\n  },\n  FETCH_PRODUCTLIST: function FETCH_PRODUCTLIST(_ref16, _ref17) {\n    var commit = _ref16.commit,\n        state = _ref16.state;\n    var id = _ref17.id,\n        page = _ref17.page;\n    return new promise_default.a(function (resolve, reject) {\n      // 获取某id的音乐盒音乐内容\n      fetchProductList().then(function (products) {\n        console.log('product list: ', products.data.data.list);\n        commit('PUSH_PRODUCTLIST', { productList: products.data.data.list.filter(function (item) {\n            return item.category == 1;\n          }) });\n        resolve();\n      });\n    });\n  },\n  FETCH_ORDERS: function FETCH_ORDERS(_ref18, _ref19) {\n    var commit = _ref18.commit,\n        state = _ref18.state;\n    var page = _ref19.page;\n    return new promise_default.a(function (resolve, reject) {\n      // 获取某id的音乐盒音乐内容\n      fetchOrders(page).then(function (orders) {\n        // console.log('product list: ', orders.data.data.list);\n        commit('PUSH_ORDERS', { orders: orders.data.data });\n        resolve();\n      });\n    });\n  }\n  //   // ensure data for rendering given list type\n  //   FETCH_LIST_DATA: ({ commit, dispatch, state }, { type }) => {\n  //     commit('SET_ACTIVE_TYPE', { type });\n  //     return fetchIdsByType(type)\n  //       .then(ids => commit('SET_LIST', { type, ids }))\n  //       .then(() => dispatch('ENSURE_ACTIVE_ITEMS'));\n  //   },\n  //\n  //   // ensure all active items are fetched\n  //   ENSURE_ACTIVE_ITEMS: ({ dispatch, getters }) => dispatch('FETCH_ITEMS', {\n  //     ids: getters.activeIds,\n  //   }),\n  //\n  //   FETCH_ITEMS: ({ commit, state }, { ids }) => {\n  //     // on the client, the store itself serves as a cache.\n  //     // only fetch items that we do not already have, or has expired (3 minutes)\n  //     const now = Date.now();\n  //     ids = ids.filter((id) => {\n  //       const item = state.items[id];\n  //       if (!item) {\n  //         return true;\n  //       }\n  //       if (now - item.__lastUpdated > 1000 * 60 * 3) {\n  //         return true;\n  //       }\n  //       return false;\n  //     });\n  //     if (ids.length) {\n  //       return fetchItems(ids).then(items => commit('SET_ITEMS', { items }));\n  //     }\n  //     return Promise.resolve();\n  //   },\n  //\n  //   FETCH_USER: ({ commit, state }, { id }) => (state.users[id]\n  //       ? Promise.resolve(state.users[id])\n  //       : fetchUser(id).then(user => commit('SET_USER', { id, user }))),\n});\n// CONCATENATED MODULE: ./src/store/mutations.js\n\n\n/* harmony default export */ var mutations = ({\n  SET_USER_INFO: function SET_USER_INFO(state, _ref) {\n    var type = _ref.type;\n\n    // 个人信息\n    state.activeType = type;\n  },\n\n  SET_WORK_INFO: function SET_WORK_INFO(state, _ref2) {\n    var type = _ref2.type,\n        ids = _ref2.ids;\n\n    // 作品详情\n    state.lists[type] = ids;\n  },\n\n  SET_MUSIXISER_INFO: function SET_MUSIXISER_INFO(state, _ref3) {\n    var items = _ref3.items;\n\n    // 作者信息\n    items.forEach(function (item) {\n      if (item) {\n        vue_esm[\"a\" /* default */].set(state.items, item.id, item);\n      }\n    });\n  },\n  SET_BOUNCE_PROJECT: function SET_BOUNCE_PROJECT(state, _ref4) {\n    var record = _ref4.record;\n\n    // 储存录制信息\n    state.recordProject = record;\n  },\n  SET_ID_PROJECT: function SET_ID_PROJECT(state, _ref5) {\n    var record = _ref5.record,\n        info = _ref5.info;\n\n    // 储存录制信息\n    state.recordProject = record; // this is the music itself\n    state.recordProjectInfo = info; // this includes all the relative info\n  },\n  SET_MUSIXISER: function SET_MUSIXISER(state, _ref6) {\n    var musixiserInfo = _ref6.musixiserInfo;\n\n    // 储存录制信息\n    state.musixiserInfo = musixiserInfo;\n  },\n  PUSH_SQUARE_WORKS: function PUSH_SQUARE_WORKS(state, _ref7) {\n    var squareWorksObj = _ref7.squareWorksObj;\n\n    // 储存录制信息\n    console.log('ccccc', squareWorksObj.current);\n    if (+squareWorksObj.current === 1) {\n      state.squareWorksObj.content = squareWorksObj.list;\n    } else {\n      state.squareWorksObj.content = state.squareWorksObj.content.concat(squareWorksObj.list);\n    }\n    state.squareWorksObj.total = squareWorksObj.total;\n    state.squareWorksObj.size = squareWorksObj.size;\n    state.squareWorksObj.current = squareWorksObj.current;\n  },\n  PUSH_MUSIXISER_WORKS: function PUSH_MUSIXISER_WORKS(state, _ref8) {\n    var musixiserWorksObj = _ref8.musixiserWorksObj;\n\n    // 储存录制信息\n    console.log('ccccc', musixiserWorksObj.current);\n    if (+musixiserWorksObj.current === 1) {\n      state.musixiserWorksObj.content = musixiserWorksObj.list;\n    } else {\n      state.musixiserWorksObj.content = state.musixiserWorksObj.content.concat(musixiserWorksObj.list);\n    }\n    state.musixiserWorksObj.total = musixiserWorksObj.total;\n    state.musixiserWorksObj.size = musixiserWorksObj.size;\n    state.musixiserWorksObj.current = musixiserWorksObj.current;\n  },\n  PUSH_FAV_WORKS: function PUSH_FAV_WORKS(state, _ref9) {\n    var favWorksObj = _ref9.favWorksObj;\n\n    // 储存录制信息\n    console.log('xxxxxxx', favWorksObj);\n    if (+favWorksObj.current === 1) {\n      state.favWorksObj.content = favWorksObj.list;\n    } else {\n      state.favWorksObj.content = state.favWorksObj.content.concat(favWorksObj.list);\n    }\n    state.favWorksObj.total = favWorksObj.total;\n    state.favWorksObj.size = favWorksObj.size;\n    state.favWorksObj.current = favWorksObj.current;\n  },\n  PUSH_BOARD_WORKS: function PUSH_BOARD_WORKS(state, _ref10) {\n    var boardWorksObj = _ref10.boardWorksObj;\n\n    // 储存录制信息\n    console.log('xxxxxxx', boardWorksObj);\n    if (+boardWorksObj.current === 1) {\n      state.boardWorksObj.content = boardWorksObj.list;\n    } else {\n      state.boardWorksObj.content = state.boardWorksObj.content.concat(boardWorksObj.list);\n    }\n    state.boardWorksObj.total = boardWorksObj.total;\n    state.boardWorksObj.size = boardWorksObj.size;\n    state.boardWorksObj.current = boardWorksObj.current;\n  },\n  RESET_WORK_LIST: function RESET_WORK_LIST(state, _ref11) {\n    var type = _ref11.type;\n\n    state[type] = { content: [] };\n  },\n  // SET_FINAL_WORK: (state, { type }) => { // 储存成品信息\n  //   state.activeType = type;\n  // },\n  // SET_USER: (state, { id, user }) => {\n  //   Vue.set(state.users, id, user || false); /* false means user not found */\n  // },\n  SAVE_ORDER_INFO: function SAVE_ORDER_INFO(state, _ref12) {\n    var work = _ref12.work,\n        product = _ref12.product,\n        address = _ref12.address;\n\n    state.orderToCreate.wid = work ? work.id : state.orderToCreate.wid;\n    state.orderToCreate.pid = product ? product.id : state.orderToCreate.pid;\n    state.orderToCreate.address = address || state.orderToCreate.address;\n    state.targetProduct = product || state.targetProduct;\n    state.targetWork = work || state.targetWork;\n  },\n  PUSH_PRODUCTLIST: function PUSH_PRODUCTLIST(state, _ref13) {\n    var productList = _ref13.productList;\n\n    state.productList = productList;\n    state.targetProduct = productList[0];\n  },\n  PUSH_ORDERS: function PUSH_ORDERS(state, _ref14) {\n    var orders = _ref14.orders;\n\n    // 储存录制信息\n    console.log('xxxxxxx', orders);\n    if (+orders.current === 1) {\n      state.orders.content = orders.list;\n    } else {\n      state.orders.content = state.orders.content.concat(orders.list);\n    }\n    state.orders.total = orders.total;\n    state.orders.size = orders.size;\n    state.orders.current = orders.current;\n  },\n  OPERATE_WORK: function OPERATE_WORK(state, _ref15) {\n    var work = _ref15.work;\n\n    state.operatingWorkId = work.id;\n  },\n  PLAY_WORK: function PLAY_WORK(state, _ref16) {\n    var work = _ref16.work;\n\n    state.playingWorkId = work.id;\n  },\n  LOCAL_UPDATE_LIST_FAV: function LOCAL_UPDATE_LIST_FAV(state, _ref17) {\n    var type = _ref17.type,\n        item = _ref17.item;\n\n    console.log(item);\n    state[type].content.forEach(function (work) {\n      if (work.id == item.id) {\n        work.favStatus = item.favStatus;\n        work.collectNum = work.favStatus ? work.collectNum + 1 : work.collectNum - 1;\n      }\n    });\n  },\n  LOCAL_UPDATE_LIST: function LOCAL_UPDATE_LIST(state, _ref18) {\n    var type = _ref18.type,\n        item = _ref18.item;\n\n    // { 0: \"公开\", 1: \"私密\", 2: \"删除\" };\n    console.log(item);\n    if (item.status != 2) {\n      //更新状态\n      state[type].content.forEach(function (work) {\n        if (work.id == item.id) {\n          work.status = item.status;\n        }\n      });\n    } else {\n      //删除\n      var index = state[type].content.findIndex(function (work) {\n        return work.id == item.id;\n      });\n      state[type].content.splice(index, 1);\n      // state[type].content = state[type].content.filter(i => i.status != item.status)\n    }\n  },\n  LOCAL_UPDATE_ORDER_STATUS: function LOCAL_UPDATE_ORDER_STATUS(state, _ref19) {\n    var orderId = _ref19.orderId,\n        status = _ref19.status;\n\n    state.orders.content.forEach(function (order) {\n      if (order.orderId == orderId) {\n        order.status = status;\n      }\n    });\n  },\n  PUSH_STACKS: function PUSH_STACKS(state, _ref20) {\n    var stacks = _ref20.stacks;\n\n    console.log('来自mutation', stacks);\n  }\n});\n// CONCATENATED MODULE: ./src/store/getters.js\n/* harmony default export */ var getters = ({\n  // ids of the items that should be currently displayed based on\n  // current list type and current pagination\n  activeIds: function activeIds(state) {\n    var activeType = state.activeType,\n        itemsPerPage = state.itemsPerPage,\n        lists = state.lists;\n\n    var page = Number(state.route.params.page) || 1;\n    if (activeType) {\n      var start = (page - 1) * itemsPerPage;\n      var end = page * itemsPerPage;\n      return lists[activeType].slice(start, end);\n    }\n    return [];\n  },\n\n\n  // items that should be currently displayed.\n  // this Array may not be fully fetched.\n  activeItems: function activeItems(state, getters) {\n    return getters.activeIds.map(function (id) {\n      return state.items[id];\n    }).filter(function (_) {\n      return _;\n    });\n  }\n});\n// CONCATENATED MODULE: ./src/store/index.js\n\n\n\n\n\n\nvue_esm[\"a\" /* default */].use(vuex_esm[\"a\" /* default */]);\n\nfunction createStore() {\n  return new vuex_esm[\"a\" /* default */].Store({\n    state: {\n      myInfo: {},\n      recordParts: [],\n      recordProject: [],\n      recordProjectInfo: {},\n      musixiserInfo: {},\n      squareWorksObj: { content: [] },\n      musixiserWorksObj: { content: [] },\n      favWorksObj: { content: [] },\n      boardWorksObj: { content: [] },\n      targetProduct: {},\n      targetWork: {},\n      orders: { content: [] },\n      productList: [\n        // {\n        //   \"id\": 5,\n        //   \"category\": 0,\n        //   \"name\": \"111\",\n        //   \"intro\": \"ssssss\",\n        //   \"price\": 0.01,\n        //   \"status\": 0,\n        //   \"createdDate\": 1545545063000,\n        //   \"previewPic\": 'http://img1.imgtn.bdimg.com/it/u=1428864537,4075266830&fm=26&gp=0.jpg'\n        // },\n        // {\n        //   \"id\": 3,\n        //   \"category\": 0,\n        //   \"name\": \"产品名02\",\n        //   \"intro\": \"八音盒02\",\n        //   \"price\": 0.02,\n        //   \"status\": 0,\n        //   \"createdDate\": 1545545057000,\n        //   \"previewPic\": 'http://img5.imgtn.bdimg.com/it/u=2832745675,3618470846&fm=26&gp=0.jpg'\n        // },\n        // {\n        //   \"id\": 2,\n        //   \"category\": 0,\n        //   \"name\": \"产品名03\",\n        //   \"intro\": \"八音盒01\",\n        //   \"price\": 0.02,\n        //   \"status\": 0,\n        //   \"createdDate\": 1545545054000,\n        //   \"previewPic\": 'http://img3.imgtn.bdimg.com/it/u=567439238,127662271&fm=26&gp=0.jpg'\n        // },\n        // {\n        //   \"id\": 1,\n        //   \"category\": 0,\n        //   \"name\": \"产品名04\",\n        //   \"intro\": \"八音盒\",\n        //   \"price\": 0.01,\n        //   \"status\": 0,\n        //   \"createdDate\": 1545545048000,\n        //   \"previewPic\": 'http://img5.imgtn.bdimg.com/it/u=771337150,1492914445&fm=26&gp=0.jpg'\n        // }\n      ], // ProductList.vue\n      orderToCreate: {\n        // OrderConfirm.vue & createOrder\n        wid: '',\n        pid: '',\n        address: {}\n      },\n      operatingWorkId: -1,\n      playingWorkId: -1\n    },\n    actions: actions,\n    mutations: mutations,\n    getters: getters\n  });\n}\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n//\n//\n//\n//\n//\n//\n//\n//\n\n// https://router.vuejs.org/en/advanced/transitions.html\n/* harmony default export */ var App = ({\n  name: \"app\",\n  data: function data() {\n    return {\n      transitionName: \"fade\",\n      screenOrientation: \"\"\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var win = window;\n    var docElem = document.documentElement;\n    var on = \"addEventListener\";\n    var timeoutId = void 0;\n\n    function delaySetRem() {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(setRem, 300);\n    }\n\n    function setRem() {\n      win.rem = docElem.getBoundingClientRect().width / 10;\n      docElem.style.fontSize = win.rem + \"px\";\n    }\n\n    setRem();\n    docElem.setAttribute(\"data-dpr\", win.devicePixelRatio);\n    win[on](\"resize\", delaySetRem);\n    win[on](\"pageshow\", function (e) {\n      if (e.persisted) {\n        delaySetRem();\n      }\n    });\n    //add by ziwen\n    if (window.orientation === 180 || window.orientation === 0) {\n      // 竖屏状态\n      this.screenOrientation = \"portrait\";\n    }\n    if (window.orientation === 90 || window.orientation === -90) {\n      // 横屏状态\n      this.screenOrientation = \"landscape\";\n    }\n    win[on](\"orientationchange\", function () {\n      console.log(screen.orientation);\n      console.log(window.orientation);\n      if (window.orientation === 180 || window.orientation === 0) {\n        // 竖屏状态\n        _this.screenOrientation = \"portrait\";\n      }\n      if (window.orientation === 90 || window.orientation === -90) {\n        // 横屏状态\n        _this.screenOrientation = \"landscape\";\n      }\n    });\n\n    this.$store.dispatch(\"FETCH_PRODUCTLIST\", {});\n  },\n  beforeRouteUpdate: function beforeRouteUpdate(to, from, next) {\n    // const toPage = to.indexOf('make')\n    // const fromPage = from.path.split('/').length\n    // this.transitionName = toDepth < fromDepth ? 'slide-right' : 'slide-left'\n    // next()\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b4e9e83a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":_vm.transitionName}},[_c('router-view',{attrs:{\"screenOrientation\":_vm.screenOrientation}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"cHe1\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"/ocq\");\n\n// CONCATENATED MODULE: ./src/_common/js/util.js\nfunction getUrlParam(key) {\n  var reg = new RegExp(\"[?|&]\" + key + \"=([^&]+)\");\n  var match = location.search.match(reg);\n  return match && match[1];\n}\n\nfunction getUrlParam1(key) {\n  var reg = new RegExp(\"[?|&]\" + key + \"=([^&]+)\");\n  var match = location.search.match(reg);\n  return match && match[1];\n}\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/HelloWorld.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var HelloWorld = ({\n  name: 'hello',\n  data: function data() {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    };\n  },\n\n  methods: {\n    redirectTo: function redirectTo(path) {\n      // IMPORTANT keng. 从主页跳制作页，如果相对路径会带上参数，比如auth回来的code会一直带着，污染之后的auth\n      // 成功auth一次，就写入cookie了，所以往后跳就直接给全路径，摒弃微信弄回来的乱七八糟的参数\n      this.$router.push(path);\n    }\n  },\n  created: function created() {\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + 'px';\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    if (getUrlParam('code') || js_cookie[\"get\"]('serviceToken')) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam('code')).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"]('serviceToken');\n          location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect');\n        }\n        alert('welcome' + res.data.data.realname);\n        console.log('get user info success', res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"]('serviceToken');\n        location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect');\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect');\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a687a94\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\nvar HelloWorld_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('div',{staticClass:\"m-logo\"}),_vm._v(\" \"),_c('div',{staticClass:\"redirect-button\",attrs:{\"id\":\"mb-maker\"},on:{\"touchstart\":function($event){return _vm.redirectTo('/new-music-box-maker')}}},[_vm._v(\"\\n      去编曲\\n  \")])])}\nvar HelloWorld_staticRenderFns = []\nvar HelloWorld_esExports = { render: HelloWorld_render, staticRenderFns: HelloWorld_staticRenderFns }\n/* harmony default export */ var components_HelloWorld = (HelloWorld_esExports);\n// CONCATENATED MODULE: ./src/components/HelloWorld.vue\nfunction HelloWorld_injectStyle (ssrContext) {\n  __webpack_require__(\"eTTF\")\n}\nvar HelloWorld_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar HelloWorld___vue_template_functional__ = false\n/* styles */\nvar HelloWorld___vue_styles__ = HelloWorld_injectStyle\n/* scopeId */\nvar HelloWorld___vue_scopeId__ = \"data-v-0a687a94\"\n/* moduleIdentifier (server only) */\nvar HelloWorld___vue_module_identifier__ = null\nvar HelloWorld_Component = HelloWorld_normalizeComponent(\n  HelloWorld,\n  components_HelloWorld,\n  HelloWorld___vue_template_functional__,\n  HelloWorld___vue_styles__,\n  HelloWorld___vue_scopeId__,\n  HelloWorld___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_HelloWorld = (HelloWorld_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/BigCard.vue\n//\n//\n\n/* harmony default export */ var BigCard = ({\n  props: {\n    // editing: bool. //instead of as state, can be passed in prop, to keep only one current editing card in a work card list\n    // onPlayClick: function. //\n    // onPauseClick: function. //\n    workInfo: { type: Object },\n    playingStatus: {\n      type: Boolean,\n      default: false\n    },\n    showAuthor: { type: Boolean, default: true },\n    maskOn: { type: Boolean, default: false },\n    onPlayWork: Function,\n    onPurchaseWork: Function,\n    onShareWork: Function,\n    onHideWork: Function,\n    onDeleteWork: Function,\n    onToggleLike: Function,\n    onDownloadWork: Function,\n    onLongPress: {\n      type: Function,\n      default: function _default() {\n        console.log(\"longpress\");\n      }\n    },\n    onTapMask: Function\n  },\n  computed: {},\n  data: function data() {\n    return {};\n  },\n\n  watch: {},\n  created: function created() {\n    // alert(this.progress)\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    // showMask() {\n    //   // TODO: should be prop\n    //   console.log(\"aiyo\");\n    //   this.editing = true;\n    // },\n    // hideMask() {\n    //   // can be in state data\n    //   this.editing = false;\n    // }\n    gotoWork: function gotoWork(id) {\n      this.$router.push({\n        path: \"/new-music-box-viewer\",\n        query: {\n          id: id\n        }\n      });\n    },\n    gotoMusixiser: function gotoMusixiser(id) {\n      this.$router.push({\n        path: \"/musixiser\",\n        query: {\n          id: id\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a705d7d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/BigCard.vue\nvar BigCard_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"preview-bg\"},[(_vm.workInfo.cover.indexOf('//')>=0)?_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.workInfo.cover,\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.cover.indexOf('//')<0)?_c('div',{staticClass:\"dark-mask\"}):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"work-content\"},[_vm._v(_vm._s(_vm.workInfo.content))]),_vm._v(\" \"),(!_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":__webpack_require__(\"sHdO\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e(),_vm._v(\" \"),(_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":__webpack_require__(\"oB2d\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"basic-info\"},[_c('p',{staticClass:\"title\",on:{\"click\":function($event){return _vm.gotoWork(_vm.workInfo.id)}}},[_vm._v(_vm._s(_vm.workInfo.title))]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"},on:{\"click\":function($event){return _vm.gotoMusixiser(_vm.workInfo.userId)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.workInfo.userVO.smallAvatar,\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"song-title\"},[_vm._v(_vm._s(_vm.workInfo.userVO.realname))]),_vm._v(\" \"),_c('p',{staticClass:\"update-info\"},[_vm._v(\" · 更新于\"+_vm._s(_vm._f(\"getDateDiff\")(_vm.workInfo.lastModifiedDate)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"download-info\"},[_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.onDownloadWork(_vm.workInfo)}}},[(!_vm.workInfo.wavAccess)?_c('img',{attrs:{\"src\":__webpack_require__(\"YhRN\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.wavAccess)?_c('img',{attrs:{\"src\":__webpack_require__(\"UljX\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('p',[_vm._v(\".wav\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"like-info\"},[_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.onToggleLike(_vm.workInfo)}}},[(!_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":__webpack_require__(\"Vart\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":__webpack_require__(\"48cV\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.workInfo.collectNum))])])])])])}\nvar BigCard_staticRenderFns = []\nvar BigCard_esExports = { render: BigCard_render, staticRenderFns: BigCard_staticRenderFns }\n/* harmony default export */ var common_BigCard = (BigCard_esExports);\n// CONCATENATED MODULE: ./src/components/common/BigCard.vue\nfunction BigCard_injectStyle (ssrContext) {\n  __webpack_require__(\"rbt3\")\n}\nvar BigCard_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar BigCard___vue_template_functional__ = false\n/* styles */\nvar BigCard___vue_styles__ = BigCard_injectStyle\n/* scopeId */\nvar BigCard___vue_scopeId__ = \"data-v-2a705d7d\"\n/* moduleIdentifier (server only) */\nvar BigCard___vue_module_identifier__ = null\nvar BigCard_Component = BigCard_normalizeComponent(\n  BigCard,\n  common_BigCard,\n  BigCard___vue_template_functional__,\n  BigCard___vue_styles__,\n  BigCard___vue_scopeId__,\n  BigCard___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_BigCard = (BigCard_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-awesome-swiper/dist/vue-awesome-swiper.js\nvar vue_awesome_swiper = __webpack_require__(\"7QTg\");\nvar vue_awesome_swiper_default = /*#__PURE__*/__webpack_require__.n(vue_awesome_swiper);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/set.js\nvar set = __webpack_require__(\"lHA8\");\nvar set_default = /*#__PURE__*/__webpack_require__.n(set);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/toConsumableArray.js\nvar toConsumableArray = __webpack_require__(\"Gu7T\");\nvar toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/values.js\nvar values = __webpack_require__(\"gRE1\");\nvar values_default = /*#__PURE__*/__webpack_require__.n(values);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/keys.js\nvar keys = __webpack_require__(\"fZjL\");\nvar keys_default = /*#__PURE__*/__webpack_require__.n(keys);\n\n// CONCATENATED MODULE: ./src/_common/js/magic.js\n\n\n\n\n\n\nvar magic_Tone = __webpack_require__(\"ZnLv\");\nvar toWav = __webpack_require__(\"H4yk\");\n\nmagic_Tone.Transport.cancel();\nvar SAME_NOTE_INTERVAL = 1; // 同一个音不能相距小于1秒，不然音片打击出问题\nvar musicPreview = void 0;\n\nvar oncePlayed = false;\n// notesInfo example\n// let work = [{note: \"E4\", time: 0.14585000000000037},\n// {note: \"G4\", time: 1.0295},\n// {note: \"G4\", time: 1.3985},\n// {note: \"E4\", time: 2.6605300000000005},\n// {note: \"D4\", time: 3.4207450000000006},\n// {note: \"C4\", time: 4.196245000000001},\n// {note: \"G4\", time: 2.671395000000004},\n// {note: \"A4\", time: 3.35932},\n// {note: \"B4\", time: 4.183044999999998}]\n// const mbox = new Tone.MonoSynth({\n//   volume: -10,\n//   envelope: {\n//     attack: 0.1,\n//     decay: 0.3,\n//     release: 2,\n//   },\n//   filterEnvelope: {\n//     attack: 0.001,\n//     decay: 0.01,\n//     sustain: 0.5,\n//     baseFrequency: 200,\n//     octaves: 2.6,\n//   },\n// }).toMaster();\n// const mbox = new Tone.PolySynth(6, Tone.Synth, {\n//   oscillator: {\n//     partials: [0, 2, 3, 4],\n//   },\n// }).toMaster();\n// const mbox = new Tone.Sampler({\n//   C4: 'C4.[mp3|ogg]',\n//   'D#4': 'Ds4.[mp3|ogg]',\n//   'F#4': 'Fs4.[mp3|ogg]',\n//   A4: 'A4.[mp3|ogg]',\n//   C5: 'C5.[mp3|ogg]',\n//   'D#5': 'Ds5.[mp3|ogg]',\n//   'F#5': 'Fs5.[mp3|ogg]',\n//   A5: 'A5.[mp3|ogg]',\n//   C6: 'C6.[mp3|ogg]',\n// }, {\n//   release: 1,\n//   baseUrl: '/static/audio/',\n// }).toMaster();\nfunction sleep(ms) {\n  return new promise_default.a(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n}\nvar mbox = new magic_Tone.Sampler({\n  B3: 'B3.[mp3|ogg]',\n  E4: 'E4.[mp3|ogg]',\n  G4: 'G4.[mp3|ogg]',\n  B4: 'B4.[mp3|ogg]',\n  'C#5': 'Cs5.[mp3|ogg]',\n  E5: 'E5.[mp3|ogg]',\n  G5: 'G5.[mp3|ogg]',\n  B5: 'B5.[mp3|ogg]',\n  'C#6': 'Cs6.[mp3|ogg]'\n}, {\n  release: 1,\n  // baseUrl: '/static/audio/mbox/',\n  baseUrl: '//cnbj1.fds.api.xiaomi.com/mbox/audio/mbox/'\n}).toMaster();\n\nfunction RealMagic(items) {\n  console.log('== Enter RealMagic ==');\n  console.log(stringify_default()(items));\n  var tasksObj = {};\n  items.forEach(function (item) {\n    //* 2 cuz print mbox need 1 octave higher.\n    var itemNoteFreq = parseInt(magic_Tone.Frequency(item.note).toFrequency() * 2, 10);\n    if (!tasksObj[itemNoteFreq]) {\n      tasksObj[itemNoteFreq] = [];\n    }\n    tasksObj[itemNoteFreq].push(item.time);\n  });\n  // tasksObj is like {784:[1.0295,1.39,2.6713],659:[2.66],...}\n\n  // then we focus on each task\n  var taskTypes = keys_default()(tasksObj); // [659,784,...]  freq array, 排好序的（object.keys）\n  var taskTimeArrays = values_default()(tasksObj); // [[2.66]，[1.0295,1.39,2.6713]] 顺序跟上面对应的\n  // const taskTimeArraysCycle = taskTimeArrays.map(a => a.map(b => [b, b + 20]).flat().sort((a, b) => a - b)) //考虑首位交接[[2.66,22.66],[1.0295,1.39,2.6713,21.0295,21.39,22.6713]]\n  var taskTimeArraysCycle = taskTimeArrays.map(function (a) {\n    return a.map(function (b) {\n      return [b, b + 20];\n    }).reduce(function (acc, val) {\n      return acc.concat(val);\n    }, []).sort(function (a, b) {\n      return a - b;\n    });\n  }); //flat方法摩羯浏览器不支持\n\n  var machines = []; // init with existing types, will add more machines\n  var groups = []; // will final be [[1],[1,2,1],...], corespond to taskTimeArrays\n\n  if (taskTypes.length > 18) {\n    console.log('音种类超过18个，这个做不了');\n    return false;\n  }\n\n  taskTimeArraysCycle.forEach(function (timeArray) {\n    var final = [];\n    timeArray.forEach(function (time, j) {\n      var test = []; // 校验当前final里不能用的序号， final里序号种类和test种类相同则证明不行\n      var allPreviousOccupied = false;\n      var successFound = false;\n      if (j === 0) {\n        final.push(1); // 给第1组的第一个任务分配第一个机器\n      } else {\n        var counter = j;\n        while (counter >= 1 && !allPreviousOccupied) {\n          // TODO: -1 or 0\n          counter -= 1;\n          if (time - timeArray[counter] >= SAME_NOTE_INTERVAL && test.indexOf(final[counter]) === -1) {\n            final.push(final[counter]);\n            successFound = true;\n            break;\n          } else if (test.indexOf(final[counter]) === -1) {\n            test.push(final[counter]);\n            if ([].concat(toConsumableArray_default()(new set_default.a(final))).length === [].concat(toConsumableArray_default()(new set_default.a(test))).length) {\n              // final目前已有的都不满足，set可以取unique elements [1,1,2,2,3,1] => [1,2,3]\n              allPreviousOccupied = true;\n              break;\n            }\n          }\n        }\n        if (counter === 0 && !successFound || allPreviousOccupied) {\n          final.push(Math.max.apply(Math, final) + 1);\n        }\n      }\n    });\n    groups.push(final);\n  });\n  // console.log(taskTypes);\n  // console.log(taskTimeArrays);\n  // console.log('hehe', groups); // [[1],[1,2,1],...], corespond to taskTimeArrays\n\n  // now we have groups, let's build machines based on this\n  groups.forEach(function (group, index) {\n    var count = 0;\n    while (count <= Math.max.apply(Math, toConsumableArray_default()(group)) - 1) {\n      machines.push(taskTypes[index]);\n      count += 1;\n    }\n  });\n  if (machines.length < 18) {\n    var lastMachine = machines[machines.length - 1];\n    while (machines.length < 18) {\n      machines.push(lastMachine); // make it length of 18\n    }\n    // machines is like [\"1046\", \"1174\", \"1318\", \"1318\", \"1318\", \"1396\", \"1567\"] of 18 length\n  } else if (machines.length > 18) {\n    console.log('所需音片儿超过18个');\n    return false;\n  }\n  return true;\n}\n\nfunction magic_mapNoteTimeToColor(time) {\n  var COLOR1 = [151, 255, 241];\n  var COLOR2 = [137, 228, 217];\n  var COLOR3 = [143, 123, 242];\n  var TIME_MAX = 20;\n  var rgb = [0, 0, 0];\n  if (time < 0 || time > TIME_MAX) {\n    // console.warn('we don\\'t allow time above 20. from \\'mapNoteTimeToColor\\' util function');\n  } else if (time <= 10) {\n    rgb = [COLOR1[0] + time * (COLOR2[0] - COLOR1[0]) / (TIME_MAX / 2), COLOR1[1] + time * (COLOR2[1] - COLOR1[1]) / (TIME_MAX / 2), COLOR1[2] + time * (COLOR2[2] - COLOR1[2]) / (TIME_MAX / 2)];\n  }\n  rgb = [COLOR2[0] + time * (COLOR3[0] - COLOR2[0]) / (TIME_MAX / 2), COLOR2[1] + time * (COLOR3[1] - COLOR2[1]) / (TIME_MAX / 2), COLOR2[2] + time * (COLOR3[2] - COLOR2[2]) / (TIME_MAX / 2)];\n  // console.log(`rgb(${Math.floor(rgb[0])},${Math.floor(rgb[1])},${Math.floor(rgb[2])})`);\n  return 'rgb(' + Math.floor(rgb[0]) + ',' + Math.floor(rgb[1]) + ',' + Math.floor(rgb[2]) + ')';\n}\nfunction magic_mapNoteMidiToLength(noteName) {\n  // in our context, the midi range would be from 60 - 84\n  // 75 is rem to px\n  // return `${(75 * 0.8 * ((Tone.Frequency(noteName).toMidi() - 60) / (84 - 40))) + 0.2}`;\n  // 50 - 110\n  return '' + (75 * 0.8 * ((magic_Tone.Frequency(noteName).toMidi() - 50) / (110 - 40)) + 0.2); // 75 is rem to px\n}\n\nfunction clearTone(parts) {\n  // 本方法只为Tone.js不在各页面中全局污染，完全是作者这包操蛋\n  if (parts && parts.length) {\n    // 传进来值 挨个dispose。。。\n    parts.forEach(function (part) {\n      try {\n        part.dispose();\n      } catch (e) {\n        //\n      }\n    });\n  }\n  if (musicPreview) {\n    // 清理自己的musicPreview\n    try {\n      musicPreview.dispose();\n    } catch (e) {\n      //\n    }\n  }\n}\nfunction preview(items, start) {\n  console.log('current state', magic_Tone.Transport.state);\n  // if (Tone.Transport.state === 'stopped') {\n  if (start) {\n    // TODO: this is weird...but you need to play something to make sure it works\n    // trigger to avoid no sound\n    if (!oncePlayed) {\n      console.log('pp');\n      mbox.triggerAttack('E6', 0, 0);\n      oncePlayed = true;\n    }\n    if (musicPreview) {\n      try {\n        musicPreview.dispose();\n      } catch (e) {\n        //\n      }\n    }\n    musicPreview = new magic_Tone.Part(function (time, value) {\n      // mbox.triggerAttackRelease(value.note, '4n', time);\n      mbox.triggerAttackRelease(magic_Tone.Frequency(value.midi, 'midi'), '2n', time);\n    }, items).start(0, 0);\n    musicPreview.loop = true;\n\n    var lastNote = items[items.length - 1];\n    if (lastNote.time >= 20) {\n      musicPreview.loopEnd = lastNote.time + lastNote.duration + 2;\n    } else {\n      musicPreview.loopEnd = 20; // 20s的作品，以前21秒，现在就20正好，弄啥样啥样，所听即所得\n    }\n    magic_Tone.Transport.position = 0;\n    magic_Tone.Transport.start('+0.01', 0);\n  } else {\n    magic_Tone.Transport.stop(0);\n  }\n}\n\nfunction previewMidi(url, start) {\n  // TODO why so fucking tricky\n  return new promise_default.a(function (resolve, reject) {\n    if (start && !/.mid/.test(url)) {\n      reject();\n    } else if (start) {\n      if (!oncePlayed) {\n        console.log('ppp');\n        mbox.triggerAttack('E6', 0, 0);\n        oncePlayed = true;\n      }\n      console.log('midi---url', url);\n      MidiConvert.load(url, function (midi) {\n        console.log('dasdsad', midi);\n        var mergeNotes = midi.tracks.reduce(function (a, b) {\n          return a.concat(b.notes);\n        }, []);\n        preview(mergeNotes, start);\n      });\n      resolve();\n    } else {\n      magic_Tone.Transport.stop(0);\n      resolve();\n    }\n  });\n}\nfunction bounceAsWavBlob(url) {\n  return new promise_default.a(function (resolve, reject) {\n    if (!/.mid/.test(url)) reject();\n    MidiConvert.load(url, function (midi) {\n      // https://github.com/Tonejs/Tone.js/issues/368\n      function renderOffline(callback, duration) {\n        // Set the OfflineAudioContext\n        var sampleRate = magic_Tone.context.sampleRate;\n        var originalContext = magic_Tone.context;\n        // Make sure to preserve original Transport if it has not be cached on the context yet\n        if (!originalContext.Transport) originalContext.Transport = magic_Tone.Transport;\n        // Create new OfflineContext and make it the default context\n        var context = new magic_Tone.OfflineContext(2, duration, sampleRate);\n        magic_Tone.context = context;\n        function onReady() {\n          // process the audio\n          var rendered = context.render();\n          // return the original AudioContext\n          magic_Tone.context = originalContext;\n          // return the audio\n          return rendered.then(function (buffer) {\n            // wrap it in a Tone.Buffer\n            return new magic_Tone.Buffer(buffer);\n          });\n        }\n        // invoke the callback/scheduling\n        callback(magic_Tone.Transport, onReady);\n      }\n\n      renderOffline(function (Transport, render) {\n        var synth = new magic_Tone.Sampler({\n          B3: 'B3.[mp3]',\n          E4: 'E4.[mp3]',\n          G4: 'G4.[mp3]',\n          B4: 'B4.[mp3]',\n          'C#5': 'Cs5.[mp3]',\n          E5: 'E5.[mp3]',\n          G5: 'G5.[mp3]',\n          B5: 'B5.[mp3]',\n          'C#6': 'Cs6.[mp3]'\n        }, onSynthLoaded, '//cnbj1.fds.api.xiaomi.com/mbox/audio/mbox/').toMaster();\n\n        function onSynthLoaded() {\n          var mergeNotes = midi.tracks.reduce(function (a, b) {\n            return a.concat(b.notes);\n          }, []);\n          mergeNotes.forEach(function (note) {\n            synth.triggerAttackRelease(magic_Tone.Frequency(note.midi, 'midi'), '2n', note.time);\n          });\n          render().then(function (buffer) {\n            // below is local generate download\n            // var anchor = document.createElement('a')\n            // document.body.appendChild(anchor)\n            // anchor.style = 'display: none'\n            // // alert('CONG')\n            // console.log(buffer)\n            // console.log(buffer.getChannelData())\n            // buffer.sampleRate = 44100 // 我艹这神了。。。没这个不行，不然读不出来sampleRate\n            // var wav = toWav(buffer)\n            // var blob = new window.Blob([new DataView(wav)], {\n            //   type: 'audio/wav'\n            // })\n\n            // var url = window.URL.createObjectURL(blob)\n\n            // anchor.href = url\n            // anchor.download = 'audio.wav'\n            // anchor.click()\n            // window.URL.revokeObjectURL(url)\n\n            // below is upload to have server return url\n            buffer.sampleRate = 44100; // 我艹这神了。。。没这个不行，不然读不出来sampleRate\n            var wav = toWav(buffer);\n            var blob = new window.Blob([new DataView(wav)], {\n              type: 'audio/wav'\n            });\n            console.log('blob generated successfully');\n            resolve(blob);\n          });\n        }\n      }, 20);\n    });\n  });\n}\n\nfunction canMakePaper30(items) {\n  var paper30Notes = [48, 50, 55, 57, 59, 60, 62, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 86, 88];\n  return items.every(function (item) {\n    return paper30Notes.indexOf(item) >= 0;\n  });\n}\nfunction canMakePaper15(items) {\n  var paper15Notes = [48, 50, 52, 53, 55, 57, 59, 60, 62, 64, 65, 67, 69, 71, 72];\n  return items.every(function (item) {\n    return paper15Notes.indexOf(item) >= 0;\n  });\n}\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar node_modules_axios = __webpack_require__(\"mtWM\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(node_modules_axios);\n\n// EXTERNAL MODULE: ./node_modules/weixin-js-sdk/index.js\nvar weixin_js_sdk = __webpack_require__(\"fxnj\");\nvar weixin_js_sdk_default = /*#__PURE__*/__webpack_require__.n(weixin_js_sdk);\n\n// EXTERNAL MODULE: ./node_modules/assert/assert.js\nvar assert = __webpack_require__(\"N+Om\");\nvar assert_default = /*#__PURE__*/__webpack_require__.n(assert);\n\n// CONCATENATED MODULE: ./src/_common/js/wx_share.js\n\n\n\n\nvar wx_share__this = this;\n\n\n\n\n\n\nvar wx_share_reqConfig = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json'\n  }\n};\nvar wx_share_prepareShareConfig = function prepareShareConfig() {\n  return new promise_default.a(function (resolve, reject) {\n    axios_default.a.post('//api.octave-love.com/api/v1/wechat/getTicket?url=' + encodeURIComponent(window.location.href.split('#')[0]), '', wx_share_reqConfig).then(function (res) {\n      // alert(`before # url: ${window.location.href.split('#')[0]}`);\n      // alert(`full path: ${window.location.href}`);\n      // alert(JSON.stringify(res.data.data));\n      weixin_js_sdk_default.a.config({\n        debug: false,\n        appId: res.data.data.appId,\n        timestamp: res.data.data.timestamp,\n        nonceStr: res.data.data.nonceStr,\n        signature: res.data.data.signature,\n        jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'chooseWXPay', 'openAddress', 'chooseImage', 'uploadImage']\n      });\n      weixin_js_sdk_default.a.ready(function () {\n        // 配置wx.config成功\n        resolve(weixin_js_sdk_default.a);\n      });\n    }, function () {\n      reject('配置wx.config失败');\n    });\n  });\n};\n\n// 分享配置\nvar wx_share_prepareShareContent = function prepareShareContent(_ref) {\n  var title = _ref.title,\n      desc = _ref.desc,\n      fullPath = _ref.fullPath,\n      imgUrl = _ref.imgUrl;\n\n  // const link = 'http://example.com/static/auth.html' +\n  //              `?redirect_uri=${encodeURIComponent(window.location.href.split('#')[0])}` +\n  //              `&full_path=${encodeURIComponent(fullPath)}`;\n  var link = fullPath;\n  weixin_js_sdk_default.a.onMenuShareTimeline({\n    title: title,\n    link: link,\n    imgUrl: imgUrl,\n    success: function success() {},\n    cancel: function cancel() {}\n  });\n  weixin_js_sdk_default.a.onMenuShareAppMessage({\n    title: title,\n    desc: desc,\n    link: link,\n    imgUrl: imgUrl,\n    success: function success() {},\n    cancel: function cancel() {}\n  });\n};\n\n// order pay\nvar makeWxOrder = function () {\n  var _ref2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(_ref3, successCallback, failCalback) {\n    var pid = _ref3.pid,\n        wid = _ref3.wid,\n        amount = _ref3.amount,\n        address = _ref3.address,\n        message = _ref3.message;\n    var addressObj, res, orderId;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // new Promise((resolve, reject) => {\n            //address is\n            //     {\n            //   \"userName\": \"string\",\n            //   \"postalCode\": \"string\",\n            //   \"provinceName\": \"string\",\n            //   \"cityName\": \"string\",\n            //   \"countryName\": \"string\",\n            //   \"detailInfo\": \"string\",\n            //   \"nationalCode\": \"string\",\n            //   \"telNumber\": \"string\"\n            // }\n            console.log('------------');\n            _context.next = 3;\n            return sendAddress(address);\n\n          case 3:\n            addressObj = _context.sent;\n\n            console.log('===========');\n            console.log(addressObj);\n            // return\n            _context.next = 8;\n            return createOrder({ pid: pid, wid: wid, amount: amount, addressId: addressObj.data.data, message: message });\n\n          case 8:\n            res = _context.sent;\n\n            // 得到返回的支付参数\n            // alert(JSON.stringify(res));\n            orderId = res.data.data;\n\n\n            payWxOrder({ orderId: orderId }, successCallback, failCalback);\n\n            // const payResult = await payOrder({ orderId })\n            // // alert(JSON.stringify(res));\n            // const params = payResult.data.data;\n            // // alert(JSON.stringify(params));\n            // console.log(params.nonceStr);\n            // console.log(params.signType);\n            // console.log(params.package);\n            // console.log(params.timeStamp);\n            // console.log(params.appId);\n            // console.log(params.paySign);\n            // console.log('sdsd');\n            // wx.chooseWXPay({\n            //   // ...params,\n            //   appId: params.appId,\n            //   timestamp: params.timeStamp,\n            //   nonceStr: params.nonceStr,\n            //   package: params.package,\n            //   signType: params.signType,\n            //   paySign: params.paySign,\n            //   success(res) {\n            //     console.log(res);\n            //     // resolve(res);\n            //     successCallback(res)\n            //   },\n            //   fail() {\n            //     failCalback();\n            //   },\n            //   cancel() {\n            //     failCalback();\n            //   }\n            // });\n\n          case 11:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, wx_share__this);\n  }));\n\n  return function makeWxOrder(_x, _x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar makeWavWxOrder = function () {\n  var _ref4 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee2(_ref5, successCallback, failCalback) {\n    var wid = _ref5.wid;\n    var res, orderId;\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return createOrder({ pid: 7, wid: wid });\n\n          case 2:\n            res = _context2.sent;\n            orderId = res.data.data;\n\n            payWxOrder({ orderId: orderId }, successCallback, failCalback);\n\n          case 5:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, wx_share__this);\n  }));\n\n  return function makeWavWxOrder(_x4, _x5, _x6) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar payWxOrder = function () {\n  var _ref6 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref7, successCallback, failCalback) {\n    var orderId = _ref7.orderId;\n    var payResult, params;\n    return regenerator_default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return api_payOrder({ orderId: orderId });\n\n          case 2:\n            payResult = _context3.sent;\n\n            // alert(JSON.stringify(res));\n            params = payResult.data.data;\n            // alert(JSON.stringify(params));\n\n            console.log(params.nonceStr);\n            console.log(params.signType);\n            console.log(params.package);\n            console.log(params.timeStamp);\n            console.log(params.appId);\n            console.log(params.paySign);\n            console.log('sdsd');\n            weixin_js_sdk_default.a.chooseWXPay({\n              // ...params,\n              appId: params.appId,\n              timestamp: params.timeStamp,\n              nonceStr: params.nonceStr,\n              package: params.package,\n              signType: params.signType,\n              paySign: params.paySign,\n              success: function success(res) {\n                console.log(res);\n                // resolve(res);\n                successCallback(res);\n              },\n              fail: function fail() {\n                failCalback();\n              },\n              cancel: function cancel() {\n                failCalback();\n              }\n            });\n\n          case 12:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, wx_share__this);\n  }));\n\n  return function payWxOrder(_x7, _x8, _x9) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n// });\n\nvar wx_share_createAddress = function createAddress(cb1, cb2) {\n  weixin_js_sdk_default.a.openAddress({\n    success: function success(res) {\n      cb1(res);\n    },\n    cancel: function cancel() {\n      cb2();\n    }\n  });\n};\n// address\n// export const newMakeWxOrder = ({ pid, wid, amount }, cb1, cb2) => {\n//   console.log(res);\n//   createOrder({ pid, wid, amount, address: res }).then((res) => {\n//     const orderId = res.data.data;\n//     payOrder({ orderId }).then((res) => {\n//       // alert(JSON.stringify(res));\n//       const params = res.data.data;\n//       alert(JSON.stringify(params));\n//       console.log(params.nonceStr);\n//       console.log(params.signType);\n//       console.log(params.package);\n//       console.log(params.timeStamp);\n//       console.log(params.appId);\n//       console.log(params.paySign);\n//       console.log('1234');\n//       wx.chooseWXPay({\n//         // ...params,\n//         appId: params.appId,\n//         timestamp: params.timeStamp,\n//         nonceStr: params.nonceStr,\n//         package: params.package,\n//         signType: params.signType,\n//         paySign: params.paySign,\n//         success(res) {\n//           console.log(res);\n//           cb1(res);\n//         },\n//         fail() {\n//           cb2();\n//         },\n//         cancel() {\n//           cb2();\n//         }\n//       });\n//     });\n//   });\n// }\n\n// export const getAddress = () => {\n//   new Promise((resolve, reject) => {\n//     wx.openAddress({\n//       success(res) {\n//         console.log(res);\n//         resolve(res);\n//       },\n//       cancel() {\n//         reject();\n//       },\n//     });\n//   });\n// };\n// 调用分享\n// $_wechat().config().then((res) => {\n//   $_wechat().share({ // 配置分享\n//     title: 'wechat-spa',\n//     desc: 'Wechat SPA',\n//     fullPath: '/home/index',\n//     imgUrl: 'https://www.baidu.com/img/bd_logo1.png',\n//   });\n// }, (err) => {\n//   console.warn(err);\n// });\n\nvar wx_share_selectAndUploadImage = function selectAndUploadImage(cb1, cb2) {\n  weixin_js_sdk_default.a.chooseImage({\n    count: 1,\n    sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\n    sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\n    success: function success(res) {\n      var localId = res.localIds[0]; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片\n      weixin_js_sdk_default.a.uploadImage({\n        localId: localId, // 需要上传的图片的本地ID，由chooseImage接口获得\n        isShowProgressTips: 1, // 默认为1，显示进度提示\n        success: function () {\n          var _ref8 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee4(res) {\n            var serverId, imgRes;\n            return regenerator_default.a.wrap(function _callee4$(_context4) {\n              while (1) {\n                switch (_context4.prev = _context4.next) {\n                  case 0:\n                    serverId = res.serverId;\n                    _context4.next = 3;\n                    return getWXMedia({ media_id: serverId });\n\n                  case 3:\n                    imgRes = _context4.sent;\n\n                    // const imgUrl = localId // for now...\n                    console.log('file derived', imgRes);\n                    cb1(imgRes.data.data);\n\n                  case 6:\n                  case 'end':\n                    return _context4.stop();\n                }\n              }\n            }, _callee4, this);\n          }));\n\n          function success(_x10) {\n            return _ref8.apply(this, arguments);\n          }\n\n          return success;\n        }(),\n        fail: function fail(error) {\n          cb2();\n        }\n      });\n    }\n  });\n};\n// CONCATENATED MODULE: ./src/_common/js/mixin.js\n\n\n\n\nvar mbMixin = {\n  data: function data() {\n    return {\n      everPlayFlag: false,\n      playing: false\n    };\n  },\n\n  methods: {\n    downloadWork: function downloadWork(work) {\n      var _this = this;\n\n      if (!work || !work.url) {\n        this.$toast('作品文件缺失');\n        return;\n      }\n      this.$ga.event(\"Download\", \"tap\", \"\" + work.id);\n      // TODO, need check first\n      makeWavWxOrder({ wid: work.id }, function () {\n        _this.$toast(\"下单成功\");\n        _this.$loading(\"为您生成wav文件中...\");\n        Tone.Transport.stop(0);\n        bounceAsWavBlob(work.url).then(function (blob) {\n          return downloadAsWav(blob);\n        }).then(function (url) {\n          // this.$toast(`url is ${url}`);\n          _this.$ga.event(\"Download\", \"success\", \"\" + work.id);\n          _this.$loading.close();\n          location.href = url;\n        }).catch(function () {\n          _this.$loading.close();\n          _this.$toast(\"下载失败请稍后再试\");\n        });\n      }, function () {\n        _this.$toast(\"停止生成\");\n      });\n    },\n    purchaseWork: function purchaseWork(work) {\n      this.$ga.event(\"MakeMB\", \"tap\", \"\" + work.id);\n      if (work.machineNum > 18) {\n        this.$toast(\"该作品目前无法制作\");\n        return;\n      }\n      console.log(\"purchase in\");\n      this.$store.commit(\"SAVE_ORDER_INFO\", { work: work }); // store current workId\n      this.$router.push({\n        path: \"/product-list\",\n        query: {}\n      });\n    },\n    toggleLike: function toggleLike(work, type) {\n      var _this2 = this;\n\n      // console.log('current work info',work.favStatus)\n      if (!work.status) this.$ga.event(\"Song\", \"fav\", \"\" + work.id);\n      toggleFavSong({\n        workId: work.id,\n        status: +!work.favStatus\n      }).then(function () {\n        _this2.$store.commit(\"LOCAL_UPDATE_LIST_FAV\", {\n          type: type,\n          item: {\n            id: work.id,\n            favStatus: +!work.favStatus\n          }\n        });\n      });\n    },\n    playWork: function playWork(work) {\n      var _this3 = this;\n\n      if (!work) return;\n      this.everPlayFlag = true;\n      console.log(\"work going to play: \", work);\n      if (work.id != this.playingWorkId) {\n        this.$ga.event(\"Song\", \"play_20s\", \"\" + work.id);\n        this.playing = true;\n        previewMidi(work.url, this.playing).then(function () {\n          return _this3.$store.commit(\"PLAY_WORK\", { work: work });\n        }).catch(function () {\n          _this3.$toast('作品损坏，无法播放');\n        });\n      } else {\n        //操作的同一个\n        if (this.playing) {\n          //正播着这个呢\n          this.$ga.event(\"Song\", \"stop_20s\", \"\" + work.id);\n          this.playing = false;\n          previewMidi(work.url, this.playing).then(function () {\n            return _this3.$store.commit(\"PLAY_WORK\", { work: { id: -1 } });\n          }).catch(function () {\n            _this3.$toast('作品损坏，无法播放');\n          });\n        } else {\n          //这个已经被停了\n          this.$ga.event(\"Song\", \"play_20s\", \"\" + work.id);\n          this.playing = true;\n          previewMidi(work.url, this.playing).then(function () {\n            return _this3.$store.commit(\"PLAY_WORK\", { work: work });\n          }).catch(function () {\n            _this3.$toast('作品损坏，无法播放');\n          });\n        }\n      }\n    }\n  }\n};\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Square.vue\n\n\n\n\n\n\n\n\n\n/**\n * 首页 component\n * 业务逻辑， 左滑动下一个， 右滑动点赞下一个， 双击点赞，点击中间播放， 点击下面按钮 （编曲页面 | 购买页面）\n *\n */\n/* harmony default export */ var Square = ({\n  name: \"Square\",\n  mixins: [mbMixin],\n  components: {\n    Card: components_common_BigCard,\n    swiper: vue_awesome_swiper[\"swiper\"],\n    swiperSlide: vue_awesome_swiper[\"swiperSlide\"]\n  },\n  data: function data() {\n    return {\n      cards: [], //to be commented\n      userId: 0,\n      bigCardListOption: [],\n      activeIndex: 0,\n      everPlayFlag: false\n    };\n  },\n\n  computed: {\n    squareWorksObj: function squareWorksObj() {\n      return this.$store.state.squareWorksObj;\n    },\n\n    // operatingWorkId() {\n    //   return this.$store.state.operatingWorkId;\n    // },\n    playingWorkId: function playingWorkId() {\n      return this.$store.state.playingWorkId;\n    },\n    bigSwiper: function bigSwiper() {\n      return this.$refs.bigCardList.swiper;\n    }\n  },\n  methods: {\n    redirectToMaker: function redirectToMaker() {\n      this.$router.push({\n        path: \"/new-music-box-maker\",\n        query: {}\n      });\n    },\n    loadWorks: function loadWorks() {\n      var _this = this;\n\n      this.$store.dispatch(\"FETCH_SQUARE_WORKS\", {\n        page: this.squareWorksObj.current ? this.squareWorksObj.current + 1 : 1,\n        size: 10\n      }).then(function () {\n        if (+_this.squareWorksObj.content.length < +_this.squareWorksObj.total) {\n          //otherwise no more content\n          _this.busy = false;\n        }\n      });\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    next();\n  },\n  created: function created() {\n    var self = this;\n    this.bigCardListOption = {\n      loop: false,\n      // spaceBetween: 30,\n      centeredSlides: true,\n      slidesPerView: 1,\n      // slidesPerView: \"auto\",\n      watchSlidesProgress: true,\n      on: {\n        transitionEnd: function transitionEnd(e) {\n          var _self$squareWorksObj = self.squareWorksObj,\n              size = _self$squareWorksObj.size,\n              current = _self$squareWorksObj.current;\n          // console.log(this.realIndex);\n\n          self.targetProduct = self.squareWorksObj.content[this.realIndex];\n          self.activeIndex = this.realIndex;\n          //TODO: first one need click, rest should be auto played.\n          if (self.everPlayFlag) self.playWork(self.squareWorksObj.content[this.realIndex]);\n          if (self.activeIndex >= (size * current - 1) / 2) {\n            self.loadWorks();\n          }\n        },\n        progress: function progress(_progress) {\n          // this.activeIndex = progress;\n          // console.log()\n        }\n      }\n    };\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    this.userId = 239;\n\n    if (!inWechat) {\n      self.loadWorks();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + self.$store.state.route.query.id;\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"ai\",\n        desc: \"我的地盘你就dê听我的\",\n        // fullPath:location.href.split('#')[0],\n        fullPath: fullPath,\n        imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        // self.userId =\n        //   this.$store.state.route.query.id || res.data.data.userId;\n        // self.isMe = self.userId == res.data.data.userId;\n        self.loadWorks();\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-789cc054\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Square.vue\nvar Square_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{attrs:{\"id\":\"swiper-container\"}},[_c('swiper',{ref:\"bigCardList\",attrs:{\"options\":_vm.bigCardListOption}},_vm._l((_vm.squareWorksObj.content),function(item){return _c('swiper-slide',{key:item.id},[_c('card',{attrs:{\"workInfo\":item,\"onPlayWork\":function (){ return _vm.playWork(item); },\"playingStatus\":item.id==_vm.playingWorkId,\"onDownloadWork\":_vm.downloadWork,\"onPurchaseWork\":function (){ return _vm.purchaseWork(item); },\"onToggleLike\":function (){ return _vm.toggleLike(item,'squareWorksObj'); }}})],1)}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"button_group\"},[_c('button',{on:{\"click\":_vm.redirectToMaker}},[_vm._v(\"我来试试\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.purchaseWork(_vm.squareWorksObj.content[_vm.activeIndex])}}},[_vm._v(\"制作八音盒\")])])])}\nvar Square_staticRenderFns = []\nvar Square_esExports = { render: Square_render, staticRenderFns: Square_staticRenderFns }\n/* harmony default export */ var components_Square = (Square_esExports);\n// CONCATENATED MODULE: ./src/components/Square.vue\nfunction Square_injectStyle (ssrContext) {\n  __webpack_require__(\"K/aD\")\n}\nvar Square_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Square___vue_template_functional__ = false\n/* styles */\nvar Square___vue_styles__ = Square_injectStyle\n/* scopeId */\nvar Square___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Square___vue_module_identifier__ = null\nvar Square_Component = Square_normalizeComponent(\n  Square,\n  components_Square,\n  Square___vue_template_functional__,\n  Square___vue_styles__,\n  Square___vue_scopeId__,\n  Square___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Square = (Square_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/swiper/dist/css/swiper.css\nvar swiper = __webpack_require__(\"v2ns\");\nvar swiper_default = /*#__PURE__*/__webpack_require__.n(swiper);\n\n// EXTERNAL MODULE: ./node_modules/vue-slider-component/dist/index.js\nvar dist = __webpack_require__(\"GDE4\");\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/NMBMaker.vue\n\n\n\n\n\n\n\n\n\n\nvar NMBMaker_Tone = __webpack_require__(\"ZnLv\");\nvar touchIdKeyMap = {}; // touch move can have several threads, each thread only activate one note at most\n// e.g. {0:a4,1:b5}\n\nvar extendBtnsTimeout = void 0;\n\nvar piano = new NMBMaker_Tone.Sampler({\n  C4: \"C4.[mp3|ogg]\",\n  \"D#4\": \"Ds4.[mp3|ogg]\",\n  \"F#4\": \"Fs4.[mp3|ogg]\",\n  A4: \"A4.[mp3|ogg]\",\n  C5: \"C5.[mp3|ogg]\",\n  \"D#5\": \"Ds5.[mp3|ogg]\",\n  \"F#5\": \"Fs5.[mp3|ogg]\",\n  A5: \"A5.[mp3|ogg]\",\n  C6: \"C6.[mp3|ogg]\"\n}, {\n  release: 1,\n  // 'baseUrl': '/static/audio/'\n  baseUrl: \"//cnbj1.fds.api.xiaomi.com/mbox/audio/\"\n}).toMaster();\n\n// var plucky = new Tone.PluckSynth().toMaster()\n\nvar SCREEN_WIDTH = document.documentElement.getBoundingClientRect().width;\nvar SCREEN_HEIGHT = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nvar tonepart = []; // store all the music parts. (ummm,that's why it's named part...)\nvar bouncepart = [];\n\nvar recordStartTime = 0;\n\nvar isLinger = true; // 非播放状态中未开始录音\nvar replayInterval = void 0; // 控制progressbar的setinterval\nvar playOffset = 0; // 播放状态的拉条bar初始时间记录\nvar lingerOffset = 0; // 未播放状态的拉条bar初始时间记录\nvar PROGRESS_INTERVAL_TIME = 0.1; // 0.1秒挪一下\nvar tutorOnceEnter = false;\nvar tutorTimeout = [];\n/* harmony default export */ var NMBMaker = ({\n  components: {\n    swiper: vue_awesome_swiper[\"swiper\"],\n    swiperSlide: vue_awesome_swiper[\"swiperSlide\"],\n    vueSlider: dist_default.a\n  },\n  props: [\"screenOrientation\"],\n  data: function data() {\n    return {\n      portraitMode: true,\n      activeNote: {},\n      recordPart: [], // current record part\n      recordParts: [], // each new record goes in here.\n      playing: false,\n      generalControllerShow: false,\n      activeSwiperIndex: 3,\n      lastActiveSwiperIndex: 3 - 1,\n      vuetimeline: 0,\n      showExtendBtns: false,\n      alertAppear: false,\n      bouncing: false,\n      tutorSession: 0,\n      handClass: \"\", // hand or clickhand\n      tutorClass: \"\", // hand positioning in different session\n      menuAppear: false,\n      fuckReady: false,\n      timelineConfig: {\n        value: 0,\n        width: 8,\n        // height: `${window.screen.height * 0.9 - 20}px`,\n        // height: `${window.innerHeight * 0.9 - 20}px`,\n        // height: \"90%\",\n        padding: \"0\",\n        dotSize: 20,\n        eventType: \"auto\",\n        min: 0,\n        max: 2000,\n        interval: 1,\n        disabled: false,\n        show: true,\n        tooltip: \"always\",\n        // tooltip: 'hidden',\n        piecewise: false,\n        reverse: true,\n        style: {\n          display: \"inline-block\"\n        },\n        class: \"star-slider\",\n        direction: \"vertical\",\n        speed: PROGRESS_INTERVAL_TIME,\n        bgStyle: {\n          backgroundColor: \"rgb(110,113,158)\",\n          boxShadow: \"inset 0.5px 0.5px 3px 1px rgba(0,0,0,.36)\"\n        },\n        tooltipDir: \"left\",\n        tooltipStyle: {\n          backgroundColor: \"rgb(69, 106, 255)\",\n          borderColor: \"rgb(69, 106, 255)\",\n          transform: \"rotate(90deg)\",\n          transformOrigin: \"right\",\n          position: \"relative\",\n          left: \"-.2rem\",\n          top: \"0.9rem\"\n        },\n        formatter: function formatter(value) {\n          if (value) {\n            return (value / 100).toFixed(2) + \"s/20s\";\n          }\n          return \"0.0s/20s\";\n        },\n\n        processStyle: {\n          backgroundColor: \"rgb(69,106,255)\"\n        }\n      }\n    };\n  },\n\n  watch: {\n    playing: function playing(val) {\n      var _this = this;\n\n      console.log(\"playing status\", val);\n      if (val) {\n        //start progress bar\n        replayInterval = setInterval(function () {\n          _this.vuetimeline += 10;\n          if (_this.vuetimeline >= 2000) {\n            _this.toggleReplay();\n            _this.vuetimeline = 0;\n          }\n        }, PROGRESS_INTERVAL_TIME * 1000);\n      } else {\n        //stop progress bar\n        clearInterval(replayInterval);\n      }\n    },\n    screenOrientation: function screenOrientation() {\n      var _this2 = this;\n\n      console.log(\"update\");\n      this.$nextTick(function () {\n        return _this2.$refs.timeline.refresh();\n      });\n    }\n  },\n  computed: {\n    swiper: function swiper() {\n      return this.$refs.pianoRoll.swiper;\n    },\n    activePartIndex: function activePartIndex() {\n      return this.PARTNUM - this.activeSwiperIndex - 1;\n    },\n    lastActivePartIndex: function lastActivePartIndex() {\n      return this.PARTNUM - this.lastActiveSwiperIndex - 1;\n    }\n  },\n  methods: {\n    load: function load() {},\n    toggleReplay: function toggleReplay() {\n      console.log(1);\n      this.playing = !this.playing;\n      if (this.playing) {\n        if (this.vuetimeline >= 2000) {\n          this.vuetimeline = 0;\n        }\n        // this.confirmRecordPart(!isLinger)\n        playOffset = performance.now() - this.vuetimeline * 10;\n        console.log(\"播放开始\");\n        this.confirmRecordPart(0);\n        console.log(\"kokokoko\");\n        recordStartTime = performance.now();\n        console.log(\"activeOffsetTime\" + this.vuetimeline * 10);\n        NMBMaker_Tone.Transport.start(\"+0.01\", this.vuetimeline * 10 / 1000); // TODO:有问题in case < context.currentTime\n      } else {\n        console.log(\"播放停了\");\n        NMBMaker_Tone.Transport.stop(0); // TODO：必须stop才能start。。。有没有自动stop啊..\n        // recordStartTime = performance.now()\n      }\n    },\n    handleNoteStart: function handleNoteStart(noteId) {\n      var noteTime = 0;\n      // console.log('down', e.target.id)\n      piano.triggerAttack(noteId);\n      // console.log('midi no. :', Tone.Frequency(noteId).toMidi())\n      this.$set(this.activeNote, noteId, 1);\n\n      if (!this.playing) {\n        if (isLinger) {\n          recordStartTime = performance.now();\n          lingerOffset = this.vuetimeline * 10;\n          isLinger = false;\n        }\n        noteTime = performance.now() - recordStartTime + lingerOffset;\n        this.toggleReplay();\n      } else {\n        noteTime = performance.now() - playOffset;\n        // noteTime = this.vuetimeline * 10\n        // console.log('1', this.vuetimeline * 10)\n        // console.log('2', performance.now() - recordStartTime + this.vuetimeline*100)\n      }\n\n      if (noteTime < 20000) {\n        this.vuetimeline = 10 * noteTime / 100;\n        this.recordPart.push({\n          note: noteId,\n          time: +(noteTime / 1000).toFixed(4)\n        });\n      } else {\n        this.vuetimeline = 20 * 100; // 颗粒度是0.1s => 200份\n        console.log(\"cannot record more than 20 seconds\");\n      }\n      console.log(noteTime);\n    },\n    handleNoteEnd: function handleNoteEnd(noteId) {\n      piano.triggerRelease(noteId);\n      this.$set(this.activeNote, noteId, 0);\n    },\n    touchNoteStartHandler: function touchNoteStartHandler(e) {\n      console.log(e);\n      // 先存起来，防止在该键位touchmove重复\n      touchIdKeyMap[e.changedTouches[0].identifier] = e.target.id; // TODO: 猜测 touchstart只会有一个changetouches///\n      this.handleNoteStart(e.target.id);\n    },\n    touchNoteEndHandler: function touchNoteEndHandler(e) {\n      this.handleNoteEnd(e.target.id);\n      this.handleNoteEnd(touchIdKeyMap[e.changedTouches[0].identifier]); // TODO: 猜测 touchend只会有一个changetouches,记录的正好是该停的\n    },\n    confirmRecordPart: function confirmRecordPart(shouldClearTime) {\n      if (this.recordPart.length) {\n        console.log(\"processing track: \", this.lastActivePartIndex);\n        if (this.recordParts[this.lastActivePartIndex] && this.recordParts[this.lastActivePartIndex].length) {\n          // 已在该track录过,merge both\n          this.recordPart = this.recordPart.concat(this.recordParts[this.lastActivePartIndex]);\n        }\n        if (tonepart[this.lastActivePartIndex]) {\n          try {\n            tonepart[this.lastActivePartIndex].dispose(); // 覆盖之前的需要dispose\n          } catch (e) {}\n        }\n        tonepart[this.lastActivePartIndex] = new NMBMaker_Tone.Part(function (time, value) {\n          // 不能老这new啊，要每次一个数组，每次改动最后一个\n          piano.triggerAttackRelease(value.note, \"8n\", time);\n        }, this.recordPart).start(0);\n        this.recordParts[this.lastActivePartIndex] = this.recordPart;\n        this.recordPart = [];\n      } else {\n        console.log(\"啥也没录\");\n      }\n      this.lastActiveSwiperIndex = this.activeSwiperIndex;\n      // reinit time\n      if (shouldClearTime) {\n        this.vuetimeline = 0; // this is kind of separate for progress view\n        recordStartTime = 0;\n      }\n      isLinger = true;\n    },\n    clearRecordPart: function clearRecordPart(trackNum) {\n      console.log(\"cleaning track \" + trackNum);\n      if (this.activePartIndex === trackNum) {\n        this.recordPart = [];\n        this.vuetimeline = 0;\n        isLinger = true;\n        this.playing = false;\n        NMBMaker_Tone.Transport.stop(0);\n      }\n      if (this.recordParts[trackNum] && this.recordParts[trackNum].length) {\n        this.$set(this.recordParts, trackNum, []);\n        if (tonepart[trackNum]) {\n          try {\n            tonepart[trackNum].dispose(); // dispose掉\n          } catch (e) {}\n          tonepart[trackNum] = undefined; // 同时要从数组中删掉\n        }\n      } else {\n        console.log(\"track \" + trackNum + \" has no content\");\n      }\n    },\n    checkBouncibility: function checkBouncibility() {\n      this.confirmRecordPart(0);\n      bouncepart = [];\n      if (tonepart.length) {\n        tonepart.forEach(function (item) {\n          if (item && item._events.length && item._events[0].value) {\n            item._events.forEach(function (noteInfo) {\n              bouncepart.push(noteInfo.value);\n            });\n          }\n        });\n        bouncepart.sort(function (a, b) {\n          return 0 + a.time - b.time;\n        });\n        return RealMagic(bouncepart);\n      }\n      return true;\n    },\n    bounceProject: function bounceProject() {\n      var _this3 = this;\n\n      this.confirmRecordPart(0);\n      console.log(this);\n      console.log(tonepart);\n      bouncepart = [];\n      if (tonepart.length) {\n        tonepart.forEach(function (item) {\n          if (item && item._events.length && item._events[0].value) {\n            item._events.forEach(function (noteInfo) {\n              bouncepart.push(noteInfo.value);\n            });\n          }\n        });\n        bouncepart.sort(function (a, b) {\n          return 0 + a.time - b.time;\n        });\n        // TODO, semi done\n        this.bouncing = true;\n        this.$store.dispatch(\"BOUNCE_PROJECT\", {\n          record: bouncepart,\n          info: {\n            title: \"尚未起名\",\n            content: \"\",\n            cover: \"\"\n          }\n        }).then(function (id) {\n          console.log(\"successfully bounced\");\n          _this3.bouncing = false;\n          _this3.$toast(\"作品已为您存储\");\n          _this3.$router.push({\n            path: \"/new-music-box-viewer\",\n            query: {\n              id: id\n            }\n          });\n        }).catch(function (err) {\n          _this3.bouncing = false;\n          _this3.$toast(\"非常抱歉，上传作品失败了\");\n        });\n      } else {\n        this.$toast(\"什么都没录呢\");\n      }\n    },\n    mapNoteTimeToColor: function mapNoteTimeToColor(t) {\n      return magic_mapNoteTimeToColor(t);\n    },\n    mapNoteMidiToLength: function mapNoteMidiToLength(m) {\n      return magic_mapNoteMidiToLength(m);\n    },\n    adjustTimeline: function adjustTimeline(e) {\n      if (this.playing) {\n        console.log(\"ccccccccc\");\n        this.toggleReplay(); // 现在播放中拉条，直接停，涉及到ref读不到最新值貌似，无法直接继续播放 this is TODO\n      } else {\n        isLinger = true; // 你拉条了肯定是\n      }\n    },\n    onMiniKeyboardScroll: function onMiniKeyboardScroll(e) {\n      console.log(e.touches[0].clientY);\n    },\n    onMiniKeyboardStart: function onMiniKeyboardStart(e) {\n      console.log(e);\n    },\n    removeNoteInRecordPart: function removeNoteInRecordPart(index, partIndex) {\n      // console.log(\"dd\");\n      if (partIndex === undefined) this.recordPart.splice(index, 1);else this.recordParts[partIndex].splice(index, 1);\n    },\n    keng: function keng(e) {\n      // console.log(e)\n      // console.log(document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY).style.backgroundColor=\"yellow\")\n      console.log(e); // e.touches is array like object\n      for (var i = 0; i <= e.changedTouches.length - 1; i++) {\n        var a = document.elementFromPoint(e.changedTouches[i].clientX, e.changedTouches[i].clientY);\n        if (a.classList.contains(\"white\") || a.classList.contains(\"black\")) {\n          if (touchIdKeyMap[e.changedTouches[i].identifier] && touchIdKeyMap[e.changedTouches[i].identifier] != a.getAttribute(\"id\")) {\n            // 这个touch已经触发，且和当前不一致\n            console.log(touchIdKeyMap);\n            this.handleNoteStart(a.getAttribute(\"id\"));\n            this.handleNoteEnd(touchIdKeyMap[e.changedTouches[i].identifier]);\n            touchIdKeyMap[e.changedTouches[i].identifier] = a.getAttribute(\"id\");\n          } else if (!touchIdKeyMap[e.changedTouches[i].identifier]) {\n            console.log(2);\n            this.handleNoteStart(a.getAttribute(\"id\"));\n            touchIdKeyMap[e.changedTouches[i].identifier] = a.getAttribute(\"id\");\n          } else {\n            console.log(3);\n            // 新旧相同什么都不做\n          }\n        } else {\n          console.log(\"外边\");\n          if (touchIdKeyMap[e.changedTouches[i].identifier]) {\n            this.handleNoteEnd(touchIdKeyMap[e.changedTouches[i].identifier]);\n          }\n          touchIdKeyMap[e.changedTouches[i].identifier] = undefined;\n        }\n      }\n    },\n\n    // btnStart(e) {\n    //   console.log(e);\n    //   this.showExtendBtns = false;\n    //   extendBtnsTimeout = setTimeout(() => {\n    //     // show extend buttons\n    //     this.showExtendBtns = true;\n    //   }, 200);\n    // },\n    // btnEnd(e) {\n    //   // console.log(e)\n    //   clearTimeout(extendBtnsTimeout);\n    //   const a = document.elementFromPoint(\n    //     e.changedTouches[0].clientX,\n    //     e.changedTouches[0].clientY\n    //   );\n    //   console.log(a);\n    //   if (a && a.classList.contains(\"bounceBtn\")) {\n    //     // 导出\n    //     if (this.checkBouncibility()) {\n    //       this.bounceProject();\n    //     } else {\n    //       this.alertAppear = true;\n    //     }\n    //   } else if (\n    //     a &&\n    //     (a.classList.contains(\"playBtn\") || a.classList.contains(\"pauseBtn\"))\n    //   ) {\n    //     // 播放\n    //     if (!this.showExtendBtns) this.toggleReplay();\n    //     // this.showExtendBtns = false;\n    //   } else if (a && a.classList.contains(\"cancelBtn\")) {\n    //     // hide extend buttons\n    //     this.showExtendBtns = false;\n    //   }\n    // },\n    tutorStart: function tutorStart() {\n      // 0未开始，1黑屏,2键盘，3track，4时间线，5播放,\n      this.tutorSession = 1;\n      this.$toast(\"请锁住竖屏使用\");\n      tutorOnceEnter = setTimeout(this.tutorProgress, 3000);\n      // setTimeout(()=>{this.tutorSession=2},3000)\n      // setTimeout(()=>{this.tutorSession=3;this.swiper.slidePrev()},5000)\n      // setTimeout(()=>{this.swiper.slideNext()},7000)\n      // setTimeout(()=>{this.tutorSession=4},8500)\n      // setTimeout(()=>{this.vuetimeline=120},9500)\n      // setTimeout(()=>{this.vuetimeline=0},10500)\n      // setTimeout(()=>{this.tutorSession=5},12000)\n      // setTimeout(()=>{this.showExtendBtns = true},13000)\n      // setTimeout(()=>{this.showExtendBtns=false},15000)\n      // setTimeout(()=>{this.tutorSession=0},16000)\n    },\n    tutorProgress: function tutorProgress() {\n      var _this4 = this;\n\n      clearTimeout(tutorOnceEnter);\n      console.log(\"??????????\");\n      this.tutorSession += 1;\n      console.log(this.tutorSession);\n      switch (this.tutorSession) {\n        case 1:\n          this.clearTutorTimeout();\n          this.$toast(\"请锁住竖屏使用,长按播放按钮保存作品\");\n          break;\n        case 2:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor2start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"clickhand\"; // clickhand\n            _this4.tutorClass = \"tutor2end\";\n          }, 500));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.vuetimeline = 700;\n            _this4.handClass = \"hand\";\n          }, 1500));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.vuetimeline = 0;\n            _this4.handClass = \"hidehand\";\n          }, 2500));\n          break;\n        case 3:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor3start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"clickhand\"; // clickhand\n            _this4.tutorClass = \"tutor3end\";\n          }, 500));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"hand\"; // clickhand\n            _this4.tutorClass = \"tutor3end\";\n          }, 800));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"hidehand\";\n          }, 1000));\n          break;\n        case 4:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor4start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"clickhand\"; // clickhand\n            _this4.tutorClass = \"tutor4end\";\n          }, 500));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"hand\"; // clickhand\n            _this4.tutorClass = \"tutor4start\";\n            _this4.menuAppear = true;\n          }, 1500));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"hidehand\";\n          }, 2500));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.menuAppear = false;\n          }, 3000));\n          break;\n        case 5:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor5start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"clickhand\"; // clickhand\n            _this4.tutorClass = \"tutor5end\";\n          }, 1200));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.swiper.slidePrev();\n          }, 1500));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.swiper.slideNext();\n            _this4.handClass = \"hidehand\";\n          }, 2500));\n          break;\n        case 6:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor6start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"clickhand\"; // clickhand\n            _this4.tutorClass = \"tutor6end\";\n          }, 500));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"hand\"; // clickhand\n            _this4.tutorClass = \"tutor6end\";\n          }, 800));\n          tutorTimeout.push(setTimeout(function () {\n            _this4.handClass = \"hidehand\";\n          }, 1500));\n          break;\n        default:\n          this.tutorSession = 0;\n          break;\n      }\n    },\n    clearTutorTimeout: function clearTutorTimeout() {\n      this.showExtendBtns = false;\n      tutorTimeout.forEach(function (v) {\n        return clearTimeout(v);\n      });\n      tutorTimeout = [];\n    }\n  },\n  created: function created() {\n    // check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    var self = this;\n    setTimeout(function () {\n      //ineresting... due to sb wechat webpage\n      // alert(window.innerHeight);\n      self.timelineConfig.height = (window.innerHeight - 50) * 0.9 + \"px\";\n      self.fuckReady = true;\n    }, 100);\n    NMBMaker_Tone.Transport.cancel();\n    tonepart = [];\n    bouncepart = [];\n    // this is very important\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    this.PARTNUM = 3;\n    this.pianoRollSwiperOption = {\n      initialSlide: this.PARTNUM,\n      // centeredSlides: true,\n      slidesPerView: 3,\n      on: {\n        // slideChange(e){\n        //   console.log('1',e)\n        // },\n        // slideNextTransitionStart(e) {\n        //   console.log('2',e)\n        // },\n        transitionEnd: function transitionEnd(e) {\n          console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          self.activeSwiperIndex = this.activeIndex;\n          self.confirmRecordPart(!isLinger);\n        }\n      }\n    };\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    // alert(Cookies.get('serviceToken'))\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"寻找你自己的八音盒\",\n        fullPath: \"\" + location.origin + location.pathname + \"#/new-music-box-maker\",\n        imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      // TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n          // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(location.origin + location.pathname + \"#/new-music-box-maker\") + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        // alert(`welcome${res.data.data.realname}`)\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\n        // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n        // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n        \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(location.origin + location.pathname + \"#/new-music-box-maker\") + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      // 又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n      // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n      // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n      \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(location.origin + location.pathname + \"#/new-music-box-maker\") + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone(tonepart);\n    next();\n  },\n  mounted: function mounted() {\n    // this.startRecord();\n    // pointer events以后可以使用\n    if (!js_cookie[\"get\"](\"serviceToken\")) this.tutorStart();\n    // this.$refs.timeline.refresh();\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0866545f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NMBMaker.vue\nvar NMBMaker_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}},[_c('div',{class:['keys',_vm.tutorSession===8?'tutorial-highlight':''],on:{\"touchmove\":_vm.keng,\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.touchNoteStartHandler($event)},\"touchend\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"event\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.touchNoteEndHandler($event)}}},[_c('div',{class:['white', 'c', _vm.activeNote.C4?'active-note':''],attrs:{\"id\":\"C4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db4?'active-note':''],attrs:{\"id\":\"Db4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D4?'active-note':''],attrs:{\"id\":\"D4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb4?'active-note':''],attrs:{\"id\":\"Eb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E4?'active-note':''],attrs:{\"id\":\"E4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F4?'active-note':''],attrs:{\"id\":\"F4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'f-sharp', _vm.activeNote.Gb4?'active-note':''],attrs:{\"id\":\"Gb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'g', _vm.activeNote.G4?'active-note':''],attrs:{\"id\":\"G4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'a-minor', _vm.activeNote.Ab4?'active-note':''],attrs:{\"id\":\"Ab4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'a', _vm.activeNote.A4?'active-note':''],attrs:{\"id\":\"A4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'b-minor', _vm.activeNote.Bb4?'active-note':''],attrs:{\"id\":\"Bb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'b', _vm.activeNote.B4?'active-note':''],attrs:{\"id\":\"B4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'c', _vm.activeNote.C5?'active-note':''],attrs:{\"id\":\"C5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db5?'active-note':''],attrs:{\"id\":\"Db5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D5?'active-note':''],attrs:{\"id\":\"D5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb5?'active-note':''],attrs:{\"id\":\"Eb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E5?'active-note':''],attrs:{\"id\":\"E5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F5?'active-note':''],attrs:{\"id\":\"F5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'f-sharp', _vm.activeNote.Gb5?'active-note':''],attrs:{\"id\":\"Gb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'g', _vm.activeNote.G5?'active-note':''],attrs:{\"id\":\"G5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'a-minor', _vm.activeNote.Ab5?'active-note':''],attrs:{\"id\":\"Ab5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'a', _vm.activeNote.A5?'active-note':''],attrs:{\"id\":\"A5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'b-minor', _vm.activeNote.Bb5?'active-note':''],attrs:{\"id\":\"Bb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'b', _vm.activeNote.B5?'active-note':''],attrs:{\"id\":\"B5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'c', _vm.activeNote.C6?'active-note':''],attrs:{\"id\":\"C6\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db6?'active-note':''],attrs:{\"id\":\"Db6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D6?'active-note':''],attrs:{\"id\":\"D6\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb6?'active-note':''],attrs:{\"id\":\"Eb6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E6?'active-note':''],attrs:{\"id\":\"E6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F6?'active-note':''],attrs:{\"id\":\"F6\"}})]),_vm._v(\" \"),_c('div',{class:['keyshadow',_vm.tutorSession===8?'tutorial-highlight':'']}),_vm._v(\" \"),_c('div',{staticClass:\"scroll-container\"}),_vm._v(\" \"),_c('div',{staticClass:\"semi-piano-roll\",class:[(_vm.tutorSession===5||_vm.tutorSession===6)?'tutorial-highlight':''],on:{\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('swiper',{ref:\"pianoRoll\",attrs:{\"options\":_vm.pianoRollSwiperOption}},[_vm._l((_vm.PARTNUM),function(n){return _c('swiper-slide',[_c('div',{staticClass:\"current-piano-roll\"},[_c('svg',{style:({height:'90%',padding:_vm.timelineConfig.dotSize/2+'px 0'})},[_c('defs',[_c('filter',{attrs:{\"id\":\"glowing\",\"height\":\"400%\",\"width\":\"130%\",\"x\":\"-10%\",\"y\":\"-130%\"}},[_c('feMorphology',{attrs:{\"operator\":\"dilate\",\"radius\":\"1\",\"in\":\"SourceAlpha\",\"result\":\"thicken\"}}),_vm._v(\" \"),_c('feGaussianBlur',{attrs:{\"in\":\"thicken\",\"stdDeviation\":\"2\",\"result\":\"blurred\"}}),_vm._v(\" \"),_c('feFlood',{attrs:{\"flood-color\":\"rgb(200,200,255)\",\"result\":\"glowColor\"}}),_vm._v(\" \"),_c('feComposite',{attrs:{\"in\":\"glowColor\",\"in2\":\"blurred\",\"operator\":\"in\",\"result\":\"softGlow_colored\"}}),_vm._v(\" \"),_c('feMerge',[_c('feMergeNode',{attrs:{\"in\":\"softGlow_colored\"}}),_vm._v(\" \"),_c('feMergeNode',{attrs:{\"in\":\"SourceGraphic\"}})],1)],1)]),_vm._v(\" \"),_vm._l((_vm.recordPart),function(item,index){return (_vm.activePartIndex===(_vm.PARTNUM-n))?_c('rect',{attrs:{\"x\":2,\"y\":100*item.time/20-0.2 + '%',\"width\":_vm.mapNoteMidiToLength(item.note),\"height\":\"3\",\"rx\":\"2\",\"ry\":\"2\",\"fill\":_vm.mapNoteTimeToColor(item.time),\"filter\":\"url(#glowing)\"},on:{\"click\":function($event){return _vm.removeNoteInRecordPart(index)}}}):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.recordParts[_vm.PARTNUM-n]),function(item,index){return _c('rect',{attrs:{\"x\":2,\"y\":100*item.time/20-0.2 + '%',\"width\":_vm.mapNoteMidiToLength(item.note),\"height\":\"3\",\"rx\":\"2\",\"ry\":\"2\",\"fill\":_vm.activePartIndex===(_vm.PARTNUM-n)?_vm.mapNoteTimeToColor(item.time):'rgb(120,120,120)',\"filter\":_vm.activePartIndex===(_vm.PARTNUM-n)?'url(#glowing)':''},on:{\"click\":function($event){return _vm.removeNoteInRecordPart(index,_vm.PARTNUM-n)}}})})],2),_vm._v(\" \"),_c('div',{staticClass:\"temp\",on:{\"click\":function($event){return _vm.clearRecordPart(_vm.PARTNUM-n)}}})])])}),_vm._v(\" \"),_c('swiper-slide'),_vm._v(\" \"),_c('swiper-slide')],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"g-controller\"},[_c('div',{staticClass:\"rotate\",class:[_vm.tutorSession===4?'tutorial-highlight':''],attrs:{\"id\":\"menuicon\"},on:{\"touchstart\":function($event){_vm.menuAppear=true}}}),_vm._v(\" \"),(_vm.fuckReady)?_c('vue-slider',_vm._b({ref:\"timeline\",class:[_vm.tutorSession===2?'tutorial-highlight':''],attrs:{\"show\":_vm.screenOrientation==='portrait'},on:{\"callback\":_vm.adjustTimeline},model:{value:(_vm.vuetimeline),callback:function ($$v) {_vm.vuetimeline=$$v},expression:\"vuetimeline\"}},'vue-slider',_vm.timelineConfig,false)):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btnContainer\",class:[_vm.tutorSession===3?'tutorial-highlight':'']},[_c('div',{class:[_vm.playing?'pauseBtn':'playBtn', 'rotate'],on:{\"click\":_vm.toggleReplay}})])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear),expression:\"alertAppear\"}],staticClass:\"alert-mask\"},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"减少些音符才能做成音乐盒，是否继续上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear=false}}},[_vm._v(\"再调整\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.bounceProject}},[_vm._v(\"任性上传\")])])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bouncing),expression:\"bouncing\"}],staticClass:\"mask\"},[_c('p',[_vm._v(\"存储中...\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession>0),expression:\"tutorSession>0\"}],staticClass:\"hint-mask\",attrs:{\"id\":\"tutorial-mask\"},on:{\"touchend\":_vm.tutorProgress}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===2),expression:\"tutorSession===2\"}],staticClass:\"hint-text\",attrs:{\"id\":\"timeline-hint\"}},[_c('h3',[_vm._v(\"进度条\")]),_vm._v(\" \"),_c('p',[_vm._v(\"拖动原点改变时间\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===3),expression:\"tutorSession===3\"}],staticClass:\"hint-text\",attrs:{\"id\":\"play-hint\"}},[_c('h3',[_vm._v(\"功能按钮\")]),_vm._v(\" \"),_c('p',[_vm._v(\"点击播放/暂停\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===4),expression:\"tutorSession===4\"}],staticClass:\"hint-text\",attrs:{\"id\":\"longpress-hint\"}},[_c('h3',[_vm._v(\"功能按钮\")]),_vm._v(\" \"),_c('p',[_vm._v(\"点击后点击：保存/取消\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===5),expression:\"tutorSession===5\"}],staticClass:\"hint-text\",attrs:{\"id\":\"swipe-hint\"}},[_c('h3',[_vm._v(\"多轨编曲\")]),_vm._v(\" \"),_c('p',[_vm._v(\"上下滑动切换轨道编曲\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===6),expression:\"tutorSession===6\"}],staticClass:\"hint-text\",attrs:{\"id\":\"clear-hint\"}},[_c('h3',[_vm._v(\"多轨编曲\")]),_vm._v(\" \"),_c('p',[_vm._v(\"清空轨道\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.handClass!='hidehand'),expression:\"handClass!='hidehand'\"}],class:[_vm.tutorClass],attrs:{\"id\":\"tutorhand\"}},[_c('div',{class:[_vm.handClass]})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuAppear),expression:\"menuAppear\"}],staticClass:\"alert-mask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.menuAppear=false}}},[_c('div',{staticClass:\"menu\"},[_c('div',{on:{\"touchstart\":_vm.bounceProject}},[_vm._v(\"完成作品\")]),_vm._v(\" \"),_c('div',{on:{\"touchstart\":function($event){_vm.menuAppear=false}}},[_vm._v(\"退出\")])])])])],1)}\nvar NMBMaker_staticRenderFns = []\nvar NMBMaker_esExports = { render: NMBMaker_render, staticRenderFns: NMBMaker_staticRenderFns }\n/* harmony default export */ var components_NMBMaker = (NMBMaker_esExports);\n// CONCATENATED MODULE: ./src/components/NMBMaker.vue\nfunction NMBMaker_injectStyle (ssrContext) {\n  __webpack_require__(\"iygZ\")\n}\nvar NMBMaker_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NMBMaker___vue_template_functional__ = false\n/* styles */\nvar NMBMaker___vue_styles__ = NMBMaker_injectStyle\n/* scopeId */\nvar NMBMaker___vue_scopeId__ = \"data-v-0866545f\"\n/* moduleIdentifier (server only) */\nvar NMBMaker___vue_module_identifier__ = null\nvar NMBMaker_Component = NMBMaker_normalizeComponent(\n  NMBMaker,\n  components_NMBMaker,\n  NMBMaker___vue_template_functional__,\n  NMBMaker___vue_styles__,\n  NMBMaker___vue_scopeId__,\n  NMBMaker___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_NMBMaker = (NMBMaker_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/countButton.vue\n\n/* harmony default export */ var countButton = ({\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String,\n    onClickCall: {\n      type: Function,\n      default: function _default() {\n        return function () {\n          console.log(\"tap tap in count Button\");\n        };\n      }\n    }\n  },\n  computed: {\n    style: function style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    }\n  },\n  data: function data() {\n    return {\n      currentActiveCount: 0,\n      currentActive: false\n    };\n  },\n\n  watch: {},\n  created: function created() {\n    this.currentActive = this.initActive;\n    this.currentActiveCount = this.currentActive ? this.initCount : this.initCount + 1;\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    updateButton: function updateButton() {\n      // if (this.currentActive) {\n      //   this.currentActiveCount -= 1;\n      // } else {\n      //   this.currentActiveCount += 1;\n      // }\n      this.currentActive = !this.currentActive;\n      this.onClickCall();\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d7b6d28\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/countButton.vue\nvar countButton_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btnContainer\",on:{\"click\":_vm.updateButton}},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentActive),expression:\"currentActive\"}],staticClass:\"active-btn-background\"})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slideDown\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentActive),expression:\"currentActive\"}],staticClass:\"btn active\"},[_c('img',{staticClass:\"heart\",attrs:{\"src\":__webpack_require__(\"48cV\")}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.currentActiveCount))])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slideUp\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.currentActive),expression:\"!currentActive\"}],staticClass:\"btn inactive\"},[_c('img',{staticClass:\"heart\",attrs:{\"src\":__webpack_require__(\"Vart\")}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.currentActiveCount-1))])])])],1)}\nvar countButton_staticRenderFns = []\nvar countButton_esExports = { render: countButton_render, staticRenderFns: countButton_staticRenderFns }\n/* harmony default export */ var common_countButton = (countButton_esExports);\n// CONCATENATED MODULE: ./src/components/common/countButton.vue\nfunction countButton_injectStyle (ssrContext) {\n  __webpack_require__(\"g4AG\")\n}\nvar countButton_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar countButton___vue_template_functional__ = false\n/* styles */\nvar countButton___vue_styles__ = countButton_injectStyle\n/* scopeId */\nvar countButton___vue_scopeId__ = \"data-v-4d7b6d28\"\n/* moduleIdentifier (server only) */\nvar countButton___vue_module_identifier__ = null\nvar countButton_Component = countButton_normalizeComponent(\n  countButton,\n  common_countButton,\n  countButton___vue_template_functional__,\n  countButton___vue_styles__,\n  countButton___vue_scopeId__,\n  countButton___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_countButton = (countButton_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/NMBViewer.vue\n\n\n// window.Tone = require('tone')\n\n\n\n\n\n\n\n\n// const musicPart;\n\n/* harmony default export */ var NMBViewer = ({\n  mixins: [mbMixin],\n  components: {\n    CountButton: components_common_countButton\n  },\n  data: function data() {\n    return {\n      // playing: false,\n      loading: true,\n      workIntroAppear: false,\n      controlPanalAppear: false,\n      workUpdateAppear: false,\n      playing: false,\n      userId: 0,\n      favStatus: false,\n      newWorkTitle: \"\",\n      newMessage: \"\",\n      newCover: \"\",\n      finalNewWorkTitle: \"\"\n    };\n  },\n\n  computed: {\n    project: function project() {\n      return this.$store.state.recordProject;\n    },\n    projectInfo: function projectInfo() {\n      return this.$store.state.recordProjectInfo;\n    }\n  },\n  methods: {\n    load: function load() {},\n    loadMusicById: function loadMusicById() {\n      var _this = this;\n\n      // alert(2);\n      console.log(\"hehe\", this.$store.state);\n      var id = this.$store.state.route.query.id;\n\n      if (id) {\n        // 从id取作品\n        console.log(\"mmm\", id);\n        this.$store.dispatch(\"FETCH_MBOX\", { id: id }).then(function () {\n          console.log(\"workPart\", _this.project);\n          console.log(\"work info\", _this.projectInfo);\n          _this.favStatus = _this.projectInfo.favStatus;\n          _this.newWorkTitle = _this.projectInfo.title === \"尚未起名\" ? \"\" : _this.projectInfo.title;\n          _this.newMessage = _this.projectInfo.content;\n          _this.newCover = _this.projectInfo.cover;\n          // alert('load complete');\n          // this.togglePlay();\n          document.title = _this.projectInfo.title;\n          var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + _this.$store.state.route.query.id;\n          wx_share_prepareShareContent({\n            title: _this.projectInfo.userVO.realname + \"\\u505A\\u4E86\\u4E2A\\u516B\\u97F3\\u76D2-\" + _this.projectInfo.title,\n            desc: \"一般人儿我不告诉TA\",\n            // fullPath:location.href.split('#')[0],\n            fullPath: fullPath,\n            imgUrl: _this.projectInfo.cover || \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n          });\n        });\n      } else {\n        // 不会出现这个情况\n        // this.$store.dispatch(\"FETCH_MBOX\", { id: 50 }).then(() => {\n        //   console.log(\"workPart\", this.project);\n        //   console.log(\"work info\", this.projectInfo);\n        //   this.favStatus = this.projectInfo.favStatus;\n        //   // alert('load complete');\n        //   // this.togglePlay();\n        // });\n      }\n    },\n    togglePlay: function togglePlay() {\n      this.playing ? this.$ga.event(\"Song\", \"stop_20s\", \"\" + this.projectInfo.id) : this.$ga.event(\"Song\", \"play_20s\", \"\" + this.projectInfo.id);\n      preview(this.project, !this.playing);\n      this.playing = !this.playing;\n    },\n    toggleFav: function toggleFav() {\n      if (!this.favStatus) this.$ga.event(\"Song\", \"fav\", \"\" + this.projectInfo.id);\n      this.favStatus = +!this.favStatus;\n      toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      }).then(function () {}).catch(function (err) {\n        // alert(JSON.stringify(err))\n      });\n    },\n    uploadPic: function uploadPic() {\n      var _this2 = this;\n\n      wx_share_selectAndUploadImage(function (imgUrl) {\n        console.log(\"url:\", imgUrl);\n        _this2.newCover = imgUrl;\n      }, function () {\n        // alert(\"mayemeigan\");\n      });\n    },\n    updateWork: function updateWork() {\n      var _this3 = this;\n\n      if (!this.newWorkTitle) {\n        this.$toast(\"作品名称不能为空\");\n        return;\n      }\n      api_updateWork({\n        id: this.$store.state.route.query.id,\n        title: this.newWorkTitle,\n        cover: this.newCover,\n        content: this.newMessage\n      }).then(function () {\n        _this3.$toast(\"作品更新成功\");\n        _this3.workUpdateAppear = false;\n        _this3.finalNewWorkTitle = _this3.newWorkTitle;\n        document.title = _this3.finalNewWorkTitle;\n        var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + _this3.$store.state.route.query.id;\n        wx_share_prepareShareContent({\n          title: _this3.projectInfo.userVO.realname + \"\\u505A\\u4E86\\u4E2A\\u516B\\u97F3\\u76D2-\" + _this3.newWorkTitle,\n          desc: \"一般人儿我不告诉TA\",\n          // fullPath:location.href.split('#')[0],\n          fullPath: fullPath,\n          imgUrl: _this3.projectInfo.cover || \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n        });\n      }, function () {\n        _this3.$toast(\"作品更新失败\");\n      }).catch(function () {\n        _this3.$toast(\"作品更新失败\");\n      });\n    },\n    redirectToMaker: function redirectToMaker() {\n      this.$ga.event(\"Work\", \"create\", \"fromSharePage\");\n      this.$router.push({\n        path: \"/new-music-box-maker\"\n        // query: {\n        //   id\n        // }\n      });\n    },\n    guideShare: function guideShare() {\n      this.$toast(\"作品取名后，点击右上角分享哦～\");\n    },\n    redirectToMusixiser: function redirectToMusixiser(id) {\n      if (id) {\n        this.$router.push({\n          path: \"/musixiser\",\n          query: {\n            id: id\n          }\n        });\n      }\n    },\n    positionWindow: function positionWindow() {\n      window.scroll(0, 0);\n    },\n    purchaseItem: function purchaseItem() {\n      this.$ga.event(\"MakeMB\", \"tap\", \"\" + this.projectInfo.id);\n      if (this.projectInfo.machineNum > 18) {\n        this.$toast(\"该作品目前无法制作\");\n        return;\n      }\n      // TODO: router push with workId\n      console.log(\"you are about to purchase \" + this.projectInfo.id);\n      this.$store.commit(\"SAVE_ORDER_INFO\", {\n        work: extends_default()({}, this.projectInfo, {\n          title: this.newWorkTitle,\n          content: this.newMessage\n        })\n      }); // store current workId\n\n      this.$router.push({\n        path: \"/product-list\",\n        query: {\n          // id\n        }\n      });\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    next();\n  },\n  created: function created() {\n    // check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    var self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      self.loadMusicById();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + self.$store.state.route.query.id;\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"分享一个八音盒\",\n        // fullPath:location.href.split('#')[0],\n        fullPath: fullPath,\n        imgUrl: \"https://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      // TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        self.userId = res.data.data.userId;\n        // alert(`welcome${res.data.data.realname}`)\n        // if (!this.project) {\n        self.loadMusicById();\n        // }\n\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      // 又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    // this.startRecord();\n    setTimeout(function () {\n      _this4.loading = false;\n    }, 2000);\n    setTimeout(function () {\n      _this4.workIntroAppear = true;\n    }, 4500);\n    setTimeout(function () {\n      _this4.controlPanalAppear = true;\n    }, 5500);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-619611f8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NMBViewer.vue\nvar NMBViewer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['container', _vm.loading?'loading':'']},[_c('div',{attrs:{\"id\":\"ground\"}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mb\"},on:{\"click\":_vm.togglePlay}},[_c('div',{class:['mb-part', _vm.playing?'playing':''],attrs:{\"id\":\"mb-lid\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mb-part\",attrs:{\"id\":\"mb-body\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],attrs:{\"id\":\"play-btn\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"pause-btn\"}})]),_vm._v(\" \"),_c('div',{class:[_vm.playing?'':'not-playing'],attrs:{\"id\":\"mb-shiner\"}})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"music-aurora\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf5\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf6\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.workIntroAppear)?_c('div',{attrs:{\"id\":\"work-intro\"}},[_c('div',{staticClass:\"title\",on:{\"click\":function($event){_vm.userId === _vm.projectInfo.userId?_vm.workUpdateAppear=true:_vm.workUpdateAppear=false}}},[_vm._v(_vm._s(_vm.finalNewWorkTitle||_vm.projectInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"subtitle\"},[_c('span',[_vm._v(\"by\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.redirectToMusixiser(_vm.projectInfo.userVO.userId)}}},[_c('img',{attrs:{\"src\":_vm.projectInfo.userVO.smallAvatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.projectInfo.userVO.realname))])]),_vm._v(\" \"),(_vm.userId === _vm.projectInfo.userId)?_c('div',{attrs:{\"id\":\"edit-work\"},on:{\"click\":function($event){_vm.workUpdateAppear=true}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.controlPanalAppear)?_c('div',{attrs:{\"id\":\"control-panal\"}},[_c('count-button',{staticStyle:{\"top\":\".05rem\"},attrs:{\"initCount\":_vm.projectInfo.collectNum?_vm.projectInfo.collectNum:0,\"initActive\":_vm.projectInfo.favStatus?true:false,\"iconImg\":\"\",\"onClickCall\":_vm.toggleFav}}),_vm._v(\" \"),_c('div',{staticClass:\"download-info\"},[_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.downloadWork(_vm.projectInfo)}}},[(!_vm.projectInfo.wavAccess)?_c('img',{attrs:{\"src\":__webpack_require__(\"YhRN\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.projectInfo.wavAccess)?_c('img',{attrs:{\"src\":__webpack_require__(\"UljX\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('p',[_vm._v(\".wav\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"button_group\"},[(_vm.userId !== _vm.projectInfo.userId)?_c('button',{on:{\"click\":_vm.redirectToMaker}},[_vm._v(\"我来试试\")]):_vm._e(),_vm._v(\" \"),(_vm.userId === _vm.projectInfo.userId)?_c('button',{on:{\"click\":_vm.guideShare}},[_vm._v(\"分享\")]):_vm._e(),_vm._v(\" \"),_c('button',{class:[_vm.projectInfo.machineNum>18?'':''],on:{\"click\":_vm.purchaseItem}},[_vm._v(\"制作八音盒\")])])],1):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.workUpdateAppear),expression:\"workUpdateAppear\"}],attrs:{\"id\":\"work-update-mask\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.workUpdateAppear=false}}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"dialog-sector\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"配图\")]),_vm._v(\" \"),_c('img',{staticClass:\"work-cover\",attrs:{\"src\":_vm.newCover||'https://cdn.cnbj1.fds.api.mi-img.com/mbox/img/default-s-bg.jpg',\"alt\":\"\"},on:{\"click\":_vm.uploadPic}})]),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-sector\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"曲名\")]),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newWorkTitle),expression:\"newWorkTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"曲名\"},domProps:{\"value\":(_vm.newWorkTitle)},on:{\"blur\":_vm.positionWindow,\"input\":function($event){if($event.target.composing){ return; }_vm.newWorkTitle=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-sector\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"留言\")]),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newMessage),expression:\"newMessage\"}],attrs:{\"type\":\"text\",\"placeholder\":\"留言\"},domProps:{\"value\":(_vm.newMessage)},on:{\"blur\":_vm.positionWindow,\"input\":function($event){if($event.target.composing){ return; }_vm.newMessage=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"})]),_vm._v(\" \"),_c('div',{staticClass:\"confirm-btn\",on:{\"click\":_vm.updateWork}},[_vm._v(\"保存\")])])])],1)}\nvar NMBViewer_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spirit\"}},[_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-body\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-front-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back2\"}})])}]\nvar NMBViewer_esExports = { render: NMBViewer_render, staticRenderFns: NMBViewer_staticRenderFns }\n/* harmony default export */ var components_NMBViewer = (NMBViewer_esExports);\n// CONCATENATED MODULE: ./src/components/NMBViewer.vue\nfunction NMBViewer_injectStyle (ssrContext) {\n  __webpack_require__(\"bF52\")\n}\nvar NMBViewer_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NMBViewer___vue_template_functional__ = false\n/* styles */\nvar NMBViewer___vue_styles__ = NMBViewer_injectStyle\n/* scopeId */\nvar NMBViewer___vue_scopeId__ = \"data-v-619611f8\"\n/* moduleIdentifier (server only) */\nvar NMBViewer___vue_module_identifier__ = null\nvar NMBViewer_Component = NMBViewer_normalizeComponent(\n  NMBViewer,\n  components_NMBViewer,\n  NMBViewer___vue_template_functional__,\n  NMBViewer___vue_styles__,\n  NMBViewer___vue_scopeId__,\n  NMBViewer___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_NMBViewer = (NMBViewer_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/typeof.js\nvar helpers_typeof = __webpack_require__(\"pFYg\");\nvar typeof_default = /*#__PURE__*/__webpack_require__.n(helpers_typeof);\n\n// CONCATENATED MODULE: ./src/_common/js/rolldemo.js\nvar demo1 = {\n  tempo: 160,\n  rectArray: [[0, 0, 1], [1, 0, 0], [0, 0, 0], [0, 0, 0], [1, 1, 1], [1, 1, 0], [0, 1], [1], [1], [1], [0], [0], [0], [0], [1], [0], [0, 0, 0], [0, 0, 0]],\n  keyboardMode: 'whitekey'\n};\n// CONCATENATED MODULE: ./src/_common/js/seqModes.js\nvar scales = {\n  whitekey: {\n    musicScale: [0, 2, 4, 5, 7, 9, 11, 12, 14, 16, 17, 19, 21, 23, 24, 26, 28, 29],\n    initKey: 60,\n    img: ''\n  },\n  fullkey: {\n    musicScale: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30],\n    initKey: 60,\n    img: ''\n  }\n};\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/pieProgress.vue\n\n// https://codepen.io/jo-asakura/pen/stFHi\n/* harmony default export */ var pieProgress = ({\n  props: {\n    progress: Number\n  },\n  computed: {\n    style: function style() {}\n  },\n  data: function data() {\n    return {};\n  },\n\n  watch: {},\n  created: function created() {\n    // alert(this.progress)\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    updateButton: function updateButton() {}\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f49f988e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/pieProgress.vue\nvar pieProgress_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pie-wrapper pie-wrapper--solid\"},[_c('div',{staticClass:\"before\",style:({\n      background:_vm.progress<=50?'#25252b':'#979797',\n      transform:_vm.progress<=50?(\"rotate(\" + ((100  - _vm.progress) / 100 * -360) + \"deg)\"):(\"rotate(\" + ((_vm.progress-50) / 100 * 360) + \"deg)\")\n      })})])])}\nvar pieProgress_staticRenderFns = []\nvar pieProgress_esExports = { render: pieProgress_render, staticRenderFns: pieProgress_staticRenderFns }\n/* harmony default export */ var common_pieProgress = (pieProgress_esExports);\n// CONCATENATED MODULE: ./src/components/common/pieProgress.vue\nfunction pieProgress_injectStyle (ssrContext) {\n  __webpack_require__(\"K8+z\")\n}\nvar pieProgress_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar pieProgress___vue_template_functional__ = false\n/* styles */\nvar pieProgress___vue_styles__ = pieProgress_injectStyle\n/* scopeId */\nvar pieProgress___vue_scopeId__ = \"data-v-f49f988e\"\n/* moduleIdentifier (server only) */\nvar pieProgress___vue_module_identifier__ = null\nvar pieProgress_Component = pieProgress_normalizeComponent(\n  pieProgress,\n  common_pieProgress,\n  pieProgress___vue_template_functional__,\n  pieProgress___vue_styles__,\n  pieProgress___vue_scopeId__,\n  pieProgress___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_pieProgress = (pieProgress_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/anotherPieProgress.vue\n\n/* harmony default export */ var anotherPieProgress = ({\n  props: {\n    radius: Number,\n    progress: Number,\n    stroke: Number\n  },\n  data: function data() {\n    var normalizedRadius = this.radius - this.stroke * 2;\n    var circumference = normalizedRadius * 2 * Math.PI;\n\n    return {\n      normalizedRadius: normalizedRadius,\n      circumference: circumference\n    };\n  },\n\n  computed: {\n    strokeDashoffset: function strokeDashoffset() {\n      return this.circumference - this.progress / 100 * this.circumference;\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57fedd5f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/anotherPieProgress.vue\nvar anotherPieProgress_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"height\":_vm.radius * 2,\"width\":_vm.radius * 2}},[_c('circle',{style:({ strokeDashoffset: _vm.strokeDashoffset }),attrs:{\"stroke\":\"#456aff\",\"stroke-dasharray\":_vm.circumference + ' ' + _vm.circumference,\"stroke-width\":_vm.stroke,\"fill\":\"transparent\",\"r\":_vm.normalizedRadius,\"cx\":_vm.radius,\"cy\":_vm.radius}})])}\nvar anotherPieProgress_staticRenderFns = []\nvar anotherPieProgress_esExports = { render: anotherPieProgress_render, staticRenderFns: anotherPieProgress_staticRenderFns }\n/* harmony default export */ var common_anotherPieProgress = (anotherPieProgress_esExports);\n// CONCATENATED MODULE: ./src/components/common/anotherPieProgress.vue\nvar anotherPieProgress_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar anotherPieProgress___vue_template_functional__ = false\n/* styles */\nvar anotherPieProgress___vue_styles__ = null\n/* scopeId */\nvar anotherPieProgress___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar anotherPieProgress___vue_module_identifier__ = null\nvar anotherPieProgress_Component = anotherPieProgress_normalizeComponent(\n  anotherPieProgress,\n  common_anotherPieProgress,\n  anotherPieProgress___vue_template_functional__,\n  anotherPieProgress___vue_styles__,\n  anotherPieProgress___vue_scopeId__,\n  anotherPieProgress___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_anotherPieProgress = (anotherPieProgress_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-konva/lib/vue-konva.min.js\nvar vue_konva_min = __webpack_require__(\"rc1w\");\nvar vue_konva_min_default = /*#__PURE__*/__webpack_require__.n(vue_konva_min);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MBRollMaker.vue\n\n\n\n\n// TODO: IMPORTANT MEMO: reschedule(clear then schedule, might lead to jump/click)\n// activeJ那块 现找播放行不行\n\n\n\n\n\n\n\n //test\n\n\n\n\n\n\n\nvue_esm[\"a\" /* default */].use(vue_konva_min_default.a);\nwindow.Tone = __webpack_require__(\"ZnLv\");\nvar musicPart = undefined;\nvar last_i = -1;\nvar last_j = -1;\nwindow.cursorSchedules = [];\nvar aInterval = undefined;\nvar MBRollMaker_extendBtnsTimeout = undefined;\nvar TIME_PER_NOTE = 0.25; // quarter note seemingly\nvar FULL_NOTE_NUM = 120; // max tempo 180, 20seconds => 120 notes, :test 30.\nvar NOTE_NUM_PER_SECTOR = 10; // :test 10\nvar MB_DUR = 20; // 20 seconds length // :test 5\nvar MIN_TEMPO = 60;\nvar MAX_TEMPO = 180;\nvar NOTE_CATEGORY_PAGE_LIMIT = 12; // above this, will have scroll\nvar DEFAULT_KEYBOARD_MODE = \"whitekey\";\nvar synth = new Tone.Sampler({\n  C4: \"C4.[mp3|ogg]\",\n  \"D#4\": \"Ds4.[mp3|ogg]\",\n  \"F#4\": \"Fs4.[mp3|ogg]\",\n  A4: \"A4.[mp3|ogg]\",\n  C5: \"C5.[mp3|ogg]\",\n  \"D#5\": \"Ds5.[mp3|ogg]\",\n  \"F#5\": \"Fs5.[mp3|ogg]\",\n  A5: \"A5.[mp3|ogg]\",\n  C6: \"C6.[mp3|ogg]\"\n}, {\n  release: 1,\n  // 'baseUrl': '/static/audio/'\n  baseUrl: \"//cnbj1.fds.api.xiaomi.com/mbox/audio/\"\n}).toMaster();\n\n// var pulseOptions = {\n//   oscillator: {\n//     type: \"triangle\"\n//   },\n//   envelope: {\n//     release: 0.07\n//   }\n// };\n// const piano = new Tone.PolySynth(18, Tone.Synth, pulseOptions).toMaster();\n/* harmony default export */ var MBRollMaker = ({\n  components: {\n    pieProgress: components_common_pieProgress,\n    anotherPieProgress: components_common_anotherPieProgress\n  },\n  data: function data() {\n    return {\n      scales: scales,\n      NOTE_CATEGORY: scales[DEFAULT_KEYBOARD_MODE].musicScale.length,\n      ONE_PAGE_NOTE_NUM: 20,\n      NOTE_NUM_PER_SECTOR: NOTE_NUM_PER_SECTOR,\n      CONST_NOTE_NUM_PER_SECTOR: NOTE_NUM_PER_SECTOR,\n      MB_DUR: MB_DUR,\n      tempo: 120,\n      controlWidth: 0, // will be whole width - 50(left bar)\n      configKonva: {\n        width: 0,\n        height: 0\n      },\n      borderConfig: {},\n      halfConfig: {},\n      noteRectConfig: {},\n      activeJ: -1, // highlight timeline\n      sector: 1, // 2*4-1,可以滚动7次，营造处4页的氛围\n      rectArray: Array(18).fill([]),\n      alertAppear: false,\n      alertAppear2: false,\n      menuAppear: false,\n      showExtendBtns: false,\n      playing: false,\n      fullloop: true,\n      beat: 8, // only 3 or 4, only for view\n      keyboardMode: DEFAULT_KEYBOARD_MODE,\n      currentTime: 0\n    };\n  },\n\n  filters: {\n    intTime: function intTime(floatTime) {\n      return Math.floor(floatTime) % 20;\n      // return floatTime\n    },\n    toNote: function toNote(midiNum) {\n      return Tone.Frequency(midiNum, \"midi\").toNote();\n    }\n  },\n  computed: {\n    tempoLength: function tempoLength() {\n      var k = 100 / (MAX_TEMPO - MIN_TEMPO);\n      var b = -(MIN_TEMPO * k);\n      return { height: k * this.tempo + b + \"%\" };\n    }\n  },\n  methods: {\n    setupCanvas: function setupCanvas() {\n      var docElem = document.documentElement;\n      this.controlWidth = docElem.getBoundingClientRect().width - 50;\n      this.configKonva = {\n        width: this.NOTE_CATEGORY <= NOTE_CATEGORY_PAGE_LIMIT ? this.controlWidth : this.NOTE_CATEGORY * 36,\n        height: window.innerHeight\n      };\n      this.RECTWIDTH = this.NOTE_CATEGORY <= NOTE_CATEGORY_PAGE_LIMIT ? this.controlWidth / this.NOTE_CATEGORY : 36;\n      this.RECTHEIGHT = window.innerHeight / this.ONE_PAGE_NOTE_NUM;\n      this.noteRectConfig = {\n        perfectDrawEnabled: false,\n        transformsEnabled: \"position\",\n        width: this.RECTWIDTH,\n        height: this.RECTHEIGHT,\n        fill: \"#fff\",\n        stroke: \"#000\",\n        strokeWidth: 0.5,\n        dash: [this.RECTWIDTH + this.RECTHEIGHT, this.RECTWIDTH, this.RECTHEIGHT, 0]\n      };\n      this.borderConfig = {\n        perfectDrawEnabled: false,\n        transformsEnabled: \"position\",\n        width: this.RECTWIDTH,\n        height: this.RECTHEIGHT,\n        // fill: \"none\",\n        stroke: \"#000\",\n        strokeWidth: 2,\n        dash: [this.RECTWIDTH, this.RECTWIDTH + 2 * this.RECTHEIGHT]\n      };\n      this.halfConfig = {\n        perfectDrawEnabled: false,\n        transformsEnabled: \"position\",\n        width: this.RECTWIDTH,\n        height: this.RECTHEIGHT,\n        // fill: \"none\",\n        stroke: \"#333\",\n        strokeWidth: 2,\n        dash: [this.RECTWIDTH, this.RECTWIDTH + 2 * this.RECTHEIGHT]\n      };\n      this.scheduleCursor();\n    },\n    scheduleCursor: function scheduleCursor() {\n      var _this = this;\n\n      var fullNoteNumWithinDur = Math.ceil(MB_DUR / (TIME_PER_NOTE * 120 / this.tempo));\n      // const fullNoteNumWithinDur = 10;\n      // console.log('full note num', fullNoteNumWithinDur);\n      // let lastTiming = 0;\n      var currentSector = this.sector;\n      console.log(\"sdfsdfsdf\", currentSector);\n      var partNoteNumStart = (this.sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      var partNoteNumEnd = partNoteNumStart + this.ONE_PAGE_NOTE_NUM <= fullNoteNumWithinDur ? partNoteNumStart + this.ONE_PAGE_NOTE_NUM : fullNoteNumWithinDur;\n      console.log(fullNoteNumWithinDur);\n      console.log(partNoteNumStart, partNoteNumEnd);\n\n      var _loop = function _loop(i) {\n        if (_this.fullloop && i <= fullNoteNumWithinDur - 1 || //under fullloop\n        !_this.fullloop && //under part loop\n        i >= partNoteNumStart && //within available parts\n        i <= partNoteNumEnd - 1) {\n          // 在有效范围，已规划 => 要修改\n          Tone.Transport.clear(cursorSchedules[i]);\n          cursorSchedules[i] = Tone.Transport.scheduleRepeat(function (time) {\n            _this.activeJ = i;\n\n            // feat: cursor follow\n            // this.sector = Math.ceil(this.activeJ / NOTE_NUM_PER_SECTOR);\n            if (currentSector % 2 === 1) {\n              console.log(\"normal\");\n              _this.sector = 2 * Math.floor(_this.activeJ / _this.ONE_PAGE_NOTE_NUM) + 1;\n            } else {\n              console.log(\"abnormal\");\n              //这块是半拉\n              _this.sector = 2 * Math.floor((_this.activeJ - NOTE_NUM_PER_SECTOR) / _this.ONE_PAGE_NOTE_NUM) + 2;\n              if (_this.activeJ == fullNoteNumWithinDur - 1) {\n                //如何判断到头，到头了复原\n                currentSector = 1;\n              }\n            }\n            console.log(_this.sector);\n            _this.currentTime = i * TIME_PER_NOTE * 120 / _this.tempo;\n            // const now = performance.now();\n            // console.log(now - lastTiming);\n            // lastTiming = now;\n            _this.rectArray.forEach(function (noteSeq, noteIndex) {\n              if (noteSeq[i]) {\n                synth.triggerAttackRelease(Tone.Frequency(scales[_this.keyboardMode].initKey + scales[_this.keyboardMode].musicScale[noteIndex], \"midi\"), 0.25);\n              }\n            });\n            // synth.triggerAttackRelease(Tone.Frequency(60, 'midi'), 0.1);\n          }, _this.fullloop ? fullNoteNumWithinDur * TIME_PER_NOTE * 120 / _this.tempo : (partNoteNumEnd - partNoteNumStart) * TIME_PER_NOTE * 120 / _this.tempo, i * TIME_PER_NOTE * 120 / _this.tempo);\n        } else if (cursorSchedules[i] && ( //for the notes that have been schedule\n        _this.fullloop && i > fullNoteNumWithinDur - 1 || //if under fullloop, for those outside fullNote\n        !_this.fullloop && (i < partNoteNumStart || i > partNoteNumEnd - 1)) // if under partloop, for those outside availablecurrentpage\n        ) {\n            // 不在有效范围，已规划 => 不清除，但禁掉\n            Tone.Transport.clear(cursorSchedules[i]);\n            cursorSchedules[i] = \"\";\n          } else {\n          // 不在有效范围，未规划 => 储存，但不规划\n        }\n      };\n\n      for (var i = 0; i <= FULL_NOTE_NUM - 1; i++) {\n        _loop(i);\n      }\n      console.log(cursorSchedules);\n      console.log(Tone.Transport._scheduledEvents);\n    },\n\n    // setupBeatText(i, sector) {\n    //   return {\n    //     x: 14,\n    //     y: (i * this.configKonva.width) / this.NOTE_CATEGORY,\n    //     fill: \"#ffff00\",\n    //     text: i / this.beat\n    //   };\n    // },\n    setupBeat: function setupBeat(i, j, sector) {\n      // split NOTE_NUM_PER_SECTOR and this.NOTE_NUM_PER_SECTOR for ANIMATION!!!\n      var index = j + (sector - 2) * NOTE_NUM_PER_SECTOR + 1 * this.NOTE_NUM_PER_SECTOR;\n      // if (index % this.beat == 0)\n      return extends_default()({}, this.borderConfig, {\n        x: i * this.configKonva.width / this.NOTE_CATEGORY,\n        y: j * this.configKonva.height / this.ONE_PAGE_NOTE_NUM\n      });\n    },\n    setupHalf: function setupHalf(i, j, sector) {\n      return extends_default()({}, this.halfConfig, {\n        x: i * this.configKonva.width / this.NOTE_CATEGORY,\n        y: j * this.configKonva.height / this.ONE_PAGE_NOTE_NUM\n      });\n    },\n    setupRect: function setupRect(i, j, sector) {\n      var fill = \"\";\n      // split NOTE_NUM_PER_SECTOR and this.NOTE_NUM_PER_SECTOR for ANIMATION!!!\n      var index = j + (sector - 2) * NOTE_NUM_PER_SECTOR + 1 * this.NOTE_NUM_PER_SECTOR;\n      var withinDur = index * TIME_PER_NOTE * 120 / this.tempo < MB_DUR;\n      if (index == this.activeJ && this.rectArray[i][index]) {\n        // active current note: lighter color\n        fill = withinDur ? \"#6477b1\" : \"#A9B9FF\";\n      } else if (index == this.activeJ && !this.rectArray[i][index]) {\n        // inactive current light blue\n        fill = withinDur ? \"#292B3A\" : \"#2B2E3D\";\n      } else if (this.rectArray[i][index]) {\n        // active non-current note\n        fill = withinDur ? \"#9FB2CF\" : \"#333740\";\n      } else {\n        // incative non-current note\n        fill = withinDur ? \"rgba(0,0,0,\" + (0.9 - i * 0.22 / this.NOTE_CATEGORY) + \")\" : \"#131315\";\n      }\n      return extends_default()({}, this.noteRectConfig, {\n        x: i * this.configKonva.width / this.NOTE_CATEGORY,\n        y: j * this.configKonva.height / this.ONE_PAGE_NOTE_NUM,\n        fill: fill\n        // stroke: index % this.beat === 0 ? \"#ffff00\" : \"#000\",\n        // dash: index % this.beat === 0 ? [0] : [0]\n      });\n    },\n    handleTouchRect: function handleTouchRect(i, j, sector) {\n      // console.log(`trigger ${i},${j+(sector-1)*this.NOTE_NUM_PER_SECTOR}`)\n      // make sound\n      // setTimeout(() => {\n      synth.triggerAttackRelease(Tone.Frequency(scales[this.keyboardMode].initKey + scales[this.keyboardMode].musicScale[i], \"midi\"), 0.25);\n      // }, 0);\n\n      // this.rectArray[i][j] = !this.rectArray[i][j] // this is how to assign a two dim array in vue 2.0...\n      var newRow = this.rectArray[i].slice(0);\n      newRow[j + (sector - 1) * this.NOTE_NUM_PER_SECTOR] = !newRow[j + (sector - 1) * this.NOTE_NUM_PER_SECTOR];\n      this.$set(this.rectArray, i, newRow);\n      // update last\n      last_i = i;\n      last_j = j;\n      this.saveProjectToLocaoStorage();\n    },\n    handleMoveRect: function handleMoveRect(i, j, sector) {\n      var fullJ = j + (sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      var fullLastJ = last_j + (sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      if (j != last_j) {\n        // take this as real note, store arrange\n        this.handleTouchRect(i, j, sector);\n      } else if (i != last_i && j == last_j) {\n        // take this as testing note, no store, no arrange\n        // make sound\n        synth.triggerAttackRelease(Tone.Frequency(scales[this.keyboardMode].initKey + scales[this.keyboardMode].musicScale[i], \"midi\"), 0.25);\n        // operate current note view\n        var newRow = this.rectArray[i].slice(0);\n        newRow[fullJ] = !newRow[fullJ];\n        this.$set(this.rectArray, i, newRow);\n\n        // restore last note view\n        var newLastRow = this.rectArray[last_i].slice(0);\n        newLastRow[fullLastJ] = !newLastRow[fullLastJ];\n        this.$set(this.rectArray, last_i, newLastRow);\n\n        // update last\n        last_i = i;\n        last_j = j;\n      } else {\n        // console.log(`ignore ${i},${j}`)\n      }\n    },\n    startloop: function startloop() {\n      // start from the current sector start(start,offset)\n      this.scheduleCursor(); //其实没什么用，只是为了更新下currentSector，翻页比较自然。。。其他没用\n      console.log(this.rectArray);\n      //issue: autoplay, https://github.com/Tonejs/Tone.js/issues/341\n      if (Tone.context.state !== \"running\") {\n        Tone.context.resume();\n      }\n      Tone.Transport.start(\"+0.1\", (this.sector - 1) * this.NOTE_NUM_PER_SECTOR * TIME_PER_NOTE * 120 / this.tempo);\n      // Tone.Transport.start(\n      //   \"+0.1\",\n      //   (this.activeJ * TIME_PER_NOTE * 120) / this.tempo\n      // );\n      this.playing = true;\n    },\n    stoploop: function stoploop() {\n      Tone.Transport.stop();\n      this.playing = false;\n    },\n    toggleReplay: function toggleReplay() {\n      if (this.playing) this.stoploop();else this.startloop();\n    },\n    minusTempo: function minusTempo() {\n      var _this2 = this;\n\n      if (this.tempo > MIN_TEMPO) {\n        this.tempo -= 5;\n        Tone.Transport.seconds = this.activeJ * TIME_PER_NOTE * 120 / this.tempo;\n        Tone.Transport.bpm.rampTo(this.tempo, 0.01);\n        setTimeout(function () {\n          // bpm ramp to, so need a settimeout\n          _this2.scheduleCursor();\n        }, 200);\n      }\n    },\n    addTempo: function addTempo() {\n      var _this3 = this;\n\n      if (this.tempo < MAX_TEMPO) {\n        this.tempo += 5;\n        Tone.Transport.seconds = this.activeJ * TIME_PER_NOTE * 120 / this.tempo;\n        Tone.Transport.bpm.rampTo(this.tempo, 0.01);\n        setTimeout(function () {\n          _this3.scheduleCursor();\n        }, 200);\n      }\n    },\n    scrolldown: function scrolldown() {\n      // clearInterval(aInterval);\n      // this.sector == FULL_NOTE_NUM / NOTE_NUM_PER_SECTOR - 1\n      //   ? (this.NOTE_NUM_PER_SECTOR = NOTE_NUM_PER_SECTOR - 2)\n      //   : (this.NOTE_NUM_PER_SECTOR = 1); // for animation,\n      this.sector <= FULL_NOTE_NUM / NOTE_NUM_PER_SECTOR - 2 ? this.sector += 1 : \"\"; // this line is real scroll down\n      // below is for animation\n      // aInterval = setInterval(() => {\n      //   this.NOTE_NUM_PER_SECTOR += 1;\n      //   if (this.NOTE_NUM_PER_SECTOR == 10) {\n      //     clearInterval(aInterval);\n      //   }\n      // }, 50);\n    },\n    scrollup: function scrollup() {\n      // clearInterval(aInterval);\n      // this.sector == 1\n      //   ? (this.NOTE_NUM_PER_SECTOR = NOTE_NUM_PER_SECTOR + 2)\n      //   : (this.NOTE_NUM_PER_SECTOR = 20); // for animation,\n      this.sector >= 2 ? this.sector -= 1 : \"\";\n      // below is for animation\n      // aInterval = setInterval(() => {\n      //   this.NOTE_NUM_PER_SECTOR -= 1;\n      //   if (this.NOTE_NUM_PER_SECTOR == 10) {\n      //     clearInterval(aInterval);\n      //   }\n      // }, 50);\n    },\n    scrollToBegin: function scrollToBegin() {\n      clearInterval(aInterval);\n      this.sector = 1;\n    },\n\n    // scrollToEnd() {\n    //         clearInterval(aInterval);\n    //   this.sector = 1;\n    // }\n    updateLoop: function updateLoop() {\n      this.fullloop = !this.fullloop;\n      this.scheduleCursor();\n      if (this.playing) {\n        this.stoploop();\n        this.startloop();\n      }\n    },\n    clearNotes: function clearNotes() {\n      this.rectArray = Array(scales[this.keyboardMode].musicScale.length).fill([]);\n    },\n    chooseKeyboard: function chooseKeyboard(keyboardMode) {\n      if (this.keyboardMode == keyboardMode) return;\n      this.alertAppear2 = true;\n      this.saveProjectToLocaoStorage();\n    },\n    updateBeat: function updateBeat(newbeat) {\n      this.beat = newbeat;\n      this.saveProjectToLocaoStorage();\n    },\n    updateKeyboard: function updateKeyboard() {\n      //肯定是切换了嘛\n      this.keyboardMode = this.keyboardMode == \"whitekey\" ? \"fullkey\" : \"whitekey\";\n      this.rectArray = Array(scales[this.keyboardMode].musicScale.length).fill([]);\n      this.NOTE_CATEGORY = scales[this.keyboardMode].musicScale.length;\n      this.setupCanvas();\n      this.alertAppear2 = false;\n      this.menuAppear = false;\n      this.saveProjectToLocaoStorage();\n    },\n    checkBouncibility: function checkBouncibility() {\n      var result = [];\n      for (var i = 0; i <= this.NOTE_CATEGORY - 1; i++) {\n        for (var j = 0; j <= FULL_NOTE_NUM - 1; j++) {\n          if (this.rectArray[i][j]) {\n            result.push({\n              note: Tone.Frequency(scales[this.keyboardMode].initKey + scales[this.keyboardMode].musicScale[i], \"midi\").toNote(),\n              time: j * TIME_PER_NOTE * 120 / this.tempo\n            });\n          }\n        }\n      }\n      result.sort(function (a, b) {\n        return 0 + a.time - b.time;\n      });\n      return RealMagic(result);\n    },\n    bounceProject: function bounceProject() {\n      var _this4 = this;\n\n      // finally get something like [{note:'A4',time:0},{note:'A5',time:0.3227}]\n      var result = [];\n      for (var i = 0; i <= this.NOTE_CATEGORY - 1; i++) {\n        for (var j = 0; j <= FULL_NOTE_NUM - 1; j++) {\n          if (this.rectArray[i][j]) {\n            result.push({\n              note: Tone.Frequency(scales[this.keyboardMode].initKey + scales[this.keyboardMode].musicScale[i], \"midi\").toNote(),\n              time: j * TIME_PER_NOTE * 120 / this.tempo\n            });\n          }\n        }\n      }\n      this.$store.dispatch(\"BOUNCE_PROJECT\", {\n        record: result,\n        info: {\n          title: \"尚未起名\",\n          content: \"\",\n          cover: \"\"\n        }\n      }).then(function (id) {\n        console.log(\"successfully bounced\");\n        _this4.bouncing = false;\n        _this4.$toast(\"作品已为您存储\");\n        // clear tone\n        cursorSchedules.forEach(function (schedule) {\n          return Tone.Transport.clear(schedule);\n        });\n        // cursorSchedules = [];\n        _this4.$router.push({\n          path: \"/new-music-box-viewer\",\n          query: {\n            id: id\n          }\n        });\n      }).catch(function (err) {\n        _this4.bouncing = false;\n        _this4.$toast(\"非常抱歉，上传作品失败了\");\n      });\n    },\n    submitProject: function submitProject() {\n      this.menuAppear = false;\n      if (this.rectArray.reduce(function (acc, val) {\n        return acc.concat(val);\n      }, []).length === 0 //flat方法摩羯浏览器不支持\n      ) {\n          this.$toast(\"作品不能为空\");\n          return;\n        }\n      if (this.checkBouncibility()) {\n        this.bounceProject();\n      } else {\n        this.alertAppear = true;\n      }\n    },\n    btnEnd: function btnEnd(e) {\n      this.toggleReplay();\n    },\n    saveProjectToLocaoStorage: function saveProjectToLocaoStorage() {\n      var work = {\n        keyboardMode: this.keyboardMode,\n        rectArray: this.rectArray,\n        beat: this.beat\n      };\n      window.localStorage.setItem(\"rollwork\", stringify_default()(work));\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    next();\n  },\n  created: function created() {\n    this.scales = scales; //view层需要\n    this.setupCanvas();\n\n    // test, load a demo work\n    console.log(demo1);\n    // 有id 代表是某个模版的再创作\n    var workInCookie = window.localStorage.getItem(\"rollwork\");\n    if (this.$store.state.route.query.id) {\n      this.keyboardMode = demo1.keyboardMode;\n      this.tempo = demo1.tempo;\n      this.rectArray = demo1.rectArray;\n      this.beat = demo1.beat;\n      this.scheduleCursor();\n    } else if (workInCookie) {\n      console.log(\"kiokiokio\");\n      console.log(workInCookie);\n      console.log(typeof workInCookie === \"undefined\" ? \"undefined\" : typeof_default()(workInCookie));\n      var workInCookieObj = JSON.parse(workInCookie);\n      this.keyboardMode = workInCookieObj.keyboardMode || \"whitekey\";\n      this.tempo = workInCookieObj.tempo || 120;\n      this.rectArray = workInCookieObj.rectArray || Array(18).fill([]);\n      this.beat = workInCookieObj.beat || 8;\n      this.scheduleCursor();\n    }\n    // regular setup\n    var self = this;\n    Tone.Transport.cancel();\n    // this is very important\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    // alert(Cookies.get('serviceToken'))\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"划拉划拉八音盒\",\n        fullPath: \"\" + location.origin + location.pathname + \"#/new-music-box-roll\",\n        imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(location.origin + location.pathname + \"#/new-music-box-roll\") + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(location.origin + location.pathname + \"#/new-music-box-roll\") + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(location.origin + location.pathname + \"#/new-music-box-roll\") + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {},\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b043526\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MBRollMaker.vue\nvar MBRollMaker_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"roll\",style:({width:_vm.controlWidth+'px'})},[_c('div',{staticStyle:{\"position\":\"absolute\",\"height\":\"20px\",\"background-color\":\"rgba(0,0,0,.5)\",\"color\":\"white\",\"z-index\":\"10\",\"display\":\"flex\",\"justify-content\":\"space-around\",\"font-size\":\"10px\"},style:({width:_vm.configKonva.width+'px'})},_vm._l((_vm.NOTE_CATEGORY),function(i){return _c('span',{key:i,staticClass:\"rotate\",staticStyle:{\"position\":\"relative\",\"width\":\"10px\",\"transform-origin\":\"0% 0%\",\"left\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"toNote\")(_vm.scales[_vm.keyboardMode].initKey+_vm.scales[_vm.keyboardMode].musicScale[i-1])))])}),0),_vm._v(\" \"),_c('v-stage',{attrs:{\"config\":_vm.configKonva}},[_c('v-layer',[_vm._l((_vm.NOTE_CATEGORY),function(i){return [_vm._l((_vm.ONE_PAGE_NOTE_NUM),function(j){return [_c('v-rect',{key:(\"i\" + i + \"j\" + j),attrs:{\"config\":_vm.setupRect(i-1,j-1,_vm.sector)},on:{\"touchstart\":function($event){return _vm.handleTouchRect(i-1,j-1,_vm.sector)},\"touchmove\":function($event){return _vm.handleMoveRect(i-1,j-1,_vm.sector)}}}),_vm._v(\" \"),((j + (_vm.sector - 2) * _vm.CONST_NOTE_NUM_PER_SECTOR + 1 * _vm.NOTE_NUM_PER_SECTOR)%2===1)?_c('v-rect',{key:(\"halfi\" + i + \"j\" + j),attrs:{\"config\":_vm.setupHalf(i-1,j-1,_vm.sector)},on:{\"touchstart\":function($event){return _vm.handleTouchRect(i-1,j-1,_vm.sector)},\"touchmove\":function($event){return _vm.handleMoveRect(i-1,j-1,_vm.sector)}}}):_vm._e(),_vm._v(\" \"),((j + (_vm.sector - 2) * _vm.CONST_NOTE_NUM_PER_SECTOR + 1 * _vm.NOTE_NUM_PER_SECTOR)%_vm.beat===1)?_c('v-rect',{key:(\"borderi\" + i + \"j\" + j),attrs:{\"config\":_vm.setupBeat(i-1,j-1,_vm.sector)},on:{\"touchstart\":function($event){return _vm.handleTouchRect(i-1,j-1,_vm.sector)},\"touchmove\":function($event){return _vm.handleMoveRect(i-1,j-1,_vm.sector)}}}):_vm._e()]})]})],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"control-panal\"},[_c('div',{staticStyle:{\"height\":\"6rem\",\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"menuicon\"},on:{\"touchstart\":function($event){_vm.menuAppear=true}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],staticClass:\"rotate\",attrs:{\"id\":\"scrolltop\"},on:{\"touchstart\":_vm.scrollToBegin}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],staticClass:\"rotate\",attrs:{\"id\":\"scrollup\"},on:{\"touchstart\":_vm.scrollup}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],staticClass:\"rotate\",attrs:{\"id\":\"scrolldown\"},on:{\"touchstart\":_vm.scrolldown}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],staticClass:\"rotate\",attrs:{\"id\":_vm.fullloop?'fullloop':'partloop'},on:{\"touchstart\":_vm.updateLoop}})]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"minustempo\"},on:{\"touchstart\":_vm.minusTempo}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"tempo-indicator\"}},[_c('div',{style:(_vm.tempoLength),attrs:{\"id\":\"tempo-progress\"}}),_vm._v(\" \"),_c('p',{attrs:{\"id\":\"tempo-num\"}},[_vm._v(_vm._s(this.tempo)+\" bpm\")])]),_vm._v(\" \"),_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"addtempo\"},on:{\"touchstart\":_vm.addTempo}})]),_vm._v(\" \"),_c('div',{staticClass:\"btnContainer\",on:{\"touchend\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.btnEnd($event)}}},[_c('another-pie-progress',{attrs:{\"radius\":30,\"progress\":_vm.currentTime*100/_vm.MB_DUR,\"stroke\":4}}),_vm._v(\" \"),_c('div',{class:[_vm.playing?'pauseBtn':'playBtn', 'rotate'],on:{\"click\":_vm.toggleReplay}})],1)]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear),expression:\"alertAppear\"}],staticClass:\"alert-mask\"},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"作品音符太多啦，目前无法做成音乐盒，是否继续上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear=false}}},[_vm._v(\"再调整\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.bounceProject}},[_vm._v(\"任性上传\")])])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuAppear),expression:\"menuAppear\"}],staticClass:\"alert-mask\",on:{\"touchstart\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.menuAppear=false}}},[_c('div',{staticClass:\"menu\"},[_c('div',{class:['menu-op',_vm.beat===4*2?'':'inactive'],on:{\"touchstart\":function($event){return _vm.updateBeat(8)}}},[_vm._v(\"4拍\")]),_vm._v(\" \"),_c('div',{class:['menu-op',_vm.beat===3*2?'':'inactive'],on:{\"touchstart\":function($event){return _vm.updateBeat(6)}}},[_vm._v(\"3拍\")]),_vm._v(\" \"),_c('div',{class:['menu-op',_vm.keyboardMode=='whitekey'?'':'inactive'],on:{\"touchstart\":function($event){return _vm.chooseKeyboard('whitekey')}}},[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"whitekey\"}}),_vm._v(\"简单音符\\n        \")]),_vm._v(\" \"),_c('div',{class:['menu-op',_vm.keyboardMode=='fullkey'?'':'inactive'],on:{\"touchstart\":function($event){return _vm.chooseKeyboard('fullkey')}}},[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"fullkey\"}}),_vm._v(\"复杂音符\\n        \")]),_vm._v(\" \"),_c('div',{on:{\"touchstart\":_vm.clearNotes}},[_vm._v(\"清空作品\")]),_vm._v(\" \"),_c('div',{on:{\"touchstart\":_vm.submitProject}},[_vm._v(\"完成作品\")]),_vm._v(\" \"),_c('div',{on:{\"touchstart\":function($event){_vm.menuAppear=false}}},[_vm._v(\"退出\")])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear2),expression:\"alertAppear2\"}],staticClass:\"alert-mask\"},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"转换键盘将清空现有作品\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear2=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.updateKeyboard}},[_vm._v(\"转换键盘\")])])])])])],1)}\nvar MBRollMaker_staticRenderFns = []\nvar MBRollMaker_esExports = { render: MBRollMaker_render, staticRenderFns: MBRollMaker_staticRenderFns }\n/* harmony default export */ var components_MBRollMaker = (MBRollMaker_esExports);\n// CONCATENATED MODULE: ./src/components/MBRollMaker.vue\nfunction MBRollMaker_injectStyle (ssrContext) {\n  __webpack_require__(\"TAvg\")\n}\nvar MBRollMaker_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MBRollMaker___vue_template_functional__ = false\n/* styles */\nvar MBRollMaker___vue_styles__ = MBRollMaker_injectStyle\n/* scopeId */\nvar MBRollMaker___vue_scopeId__ = \"data-v-1b043526\"\n/* moduleIdentifier (server only) */\nvar MBRollMaker___vue_module_identifier__ = null\nvar MBRollMaker_Component = MBRollMaker_normalizeComponent(\n  MBRollMaker,\n  components_MBRollMaker,\n  MBRollMaker___vue_template_functional__,\n  MBRollMaker___vue_styles__,\n  MBRollMaker___vue_scopeId__,\n  MBRollMaker___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MBRollMaker = (MBRollMaker_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/workCard.vue\n//\n//\n\nvar workCard_status = [];\n/* harmony default export */ var workCard = ({\n  props: {\n    // editing: bool. //instead of as state, can be passed in prop, to keep only one current editing card in a work card list\n    // onPlayClick: function. //\n    // onPauseClick: function. //\n    isMine: {\n      type: Boolean,\n      default: false\n    },\n    workInfo: { type: Object },\n    playingStatus: {\n      type: Boolean,\n      default: false\n    },\n    showAuthor: { type: Boolean, default: true },\n    maskOn: { type: Boolean, default: false },\n    onPlayWork: Function,\n    onPurchaseWork: Function,\n    onDownloadWork: Function,\n    onShareWork: Function,\n    onChangeWorkStatus: Function,\n    onToggleLike: Function,\n    onClickTag: Function,\n    onLongPress: {\n      type: Function,\n      default: function _default() {\n        console.log(\"longpress\");\n      }\n    },\n    onTapMask: Function\n  },\n  computed: {},\n  data: function data() {\n    var mock = {\n      id: 148,\n      title: \"castle\",\n      cover: \"\",\n      content: \"default\",\n      url: \"//img.musixise.com/LIjPhuhF_castle.mid\",\n      favStatus: 0,\n      createdDate: \"2019-01-10 23:38:18\",\n      userId: 239,\n      collectNum: 0,\n      lastModifiedDate: \"2019-01-17 11:51:03\",\n      machineNum: 19,\n      fileHash: \"f0af50f723c10857ad5348fe52ee8f1c\",\n      userVO: {\n        id: 108,\n        username: \"wechat_oazyg56Zj4X6HViD9h0jB2BTOHJQ\",\n        realname: \"花子文\",\n        tel: \"\",\n        email: \"wechat_oazyg56Zj4X6HViD9h0jB2BTOHJQ@musixise.com\",\n        birth: \"2000-01-01\",\n        gender: \"\",\n        smallAvatar: \"//thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5OUNntatJGnibRkygaFhMZickUgUMDulSibFI0yQhNqYSZFYqK6BtdDItuC9uDALXwibxcvlibBvR1cknqfYVyf1KND/132\",\n        largeAvatar: \"//thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5OUNntatJGnibRkygaFhMZickUgUMDulSibFI0yQhNqYSZFYqK6BtdDItuC9uDALXwibxcvlibBvR1cknqfYVyf1KND/132\",\n        nation: \"\",\n        isMaster: 0,\n        brief: null,\n        favStatus: 0,\n        followNum: 0,\n        fansNum: 0,\n        songNum: 43,\n        userId: 239,\n        createdDate: \"2019-01-02 12:41:55\"\n      }\n    };\n    return {\n      info: mock,\n      workStatusMap: { 0: \"公开\", 1: \"私密\", 2: \"删除\"\n        // editing: false\n      } };\n  },\n\n  watch: {},\n  created: function created() {\n    // alert(this.progress)\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    // showMask() {\n    //   // TODO: should be prop\n    //   console.log(\"aiyo\");\n    //   this.editing = true;\n    // },\n    // hideMask() {\n    //   // can be in state data\n    //   this.editing = false;\n    // }\n    gotoWork: function gotoWork(id) {\n      this.$router.push({\n        path: \"/new-music-box-viewer\",\n        query: {\n          id: id\n        }\n      });\n    },\n    gotoMusixiser: function gotoMusixiser(id) {\n      this.$router.push({\n        path: \"/musixiser\",\n        query: {\n          id: id\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29cb8019\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/workCard.vue\nvar workCard_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"longpress\",rawName:\"v-longpress\",value:(_vm.onLongPress),expression:\"onLongPress\"}],staticClass:\"work-container\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.maskOn),expression:\"maskOn\"}],staticClass:\"mask\",on:{\"touchstart\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.onTapMask($event)}}},[_c('div',{class:['circle-btn',_vm.workInfo.machineNum>18?'gray':'pink'],on:{\"click\":_vm.onPurchaseWork}},[_vm._v(\"购买\")]),_vm._v(\" \"),_c('div',{class:['circle-btn','purple'],on:{\"click\":_vm.onDownloadWork}},[_vm._v(\"下载\")]),_vm._v(\" \"),(_vm.isMine)?_c('div',{staticClass:\"circle-btn blue\",on:{\"click\":function($event){return _vm.onChangeWorkStatus(_vm.workInfo,_vm.workInfo.status==0?1:0)}}},[_vm._v(_vm._s(_vm.workInfo.status==0?_vm.workStatusMap[1]:_vm.workStatusMap[0]))]):_vm._e(),_vm._v(\" \"),(_vm.isMine)?_c('div',{staticClass:\"circle-btn gray\",on:{\"click\":function($event){return _vm.onChangeWorkStatus(_vm.workInfo,2)}}},[_vm._v(\"删除\")]):_vm._e()])]),_vm._v(\" \"),(_vm.workInfo.machineNum<=18)?_c('img',{staticClass:\"mb-tag\",attrs:{\"src\":__webpack_require__(\"XNAQ\")},on:{\"click\":_vm.onClickTag}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"preview-bg\"},[(_vm.workInfo.cover.indexOf('//')>=0)?_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.workInfo.cover,\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.cover.indexOf('//')<0)?_c('div',{staticClass:\"dark-mask\"}):_vm._e(),_vm._v(\" \"),(!_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":__webpack_require__(\"sHdO\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e(),_vm._v(\" \"),(_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":__webpack_require__(\"oB2d\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('p',{staticClass:\"title\",on:{\"click\":function($event){return _vm.gotoWork(_vm.workInfo.id)}}},[_vm._v(_vm._s(_vm.workInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"user\",on:{\"click\":function($event){return _vm.gotoMusixiser(_vm.workInfo.userId)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.workInfo.userVO.smallAvatar,\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"song-title\"},[_vm._v(_vm._s(_vm.workInfo.userVO.realname))])]),_vm._v(\" \"),_c('div',{staticClass:\"detail-other\"},[_c('div',[_vm._v(_vm._s(_vm._f(\"getDateDiff\")(_vm.workInfo.lastModifiedDate))+\"更新\")]),_vm._v(\" \"),_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.onToggleLike(_vm.workInfo)}}},[(!_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":__webpack_require__(\"Vart\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":__webpack_require__(\"48cV\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\"\\n        \"+_vm._s(_vm.workInfo.collectNum)+\"\\n      \")])])])],1)}\nvar workCard_staticRenderFns = []\nvar workCard_esExports = { render: workCard_render, staticRenderFns: workCard_staticRenderFns }\n/* harmony default export */ var common_workCard = (workCard_esExports);\n// CONCATENATED MODULE: ./src/components/common/workCard.vue\nfunction workCard_injectStyle (ssrContext) {\n  __webpack_require__(\"h06G\")\n}\nvar workCard_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar workCard___vue_template_functional__ = false\n/* styles */\nvar workCard___vue_styles__ = workCard_injectStyle\n/* scopeId */\nvar workCard___vue_scopeId__ = \"data-v-29cb8019\"\n/* moduleIdentifier (server only) */\nvar workCard___vue_module_identifier__ = null\nvar workCard_Component = workCard_normalizeComponent(\n  workCard,\n  common_workCard,\n  workCard___vue_template_functional__,\n  workCard___vue_styles__,\n  workCard___vue_scopeId__,\n  workCard___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_workCard = (workCard_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/tagDialog.vue\n\n/* harmony default export */ var tagDialog = ({\n  props: {\n    appear: Boolean,\n    handleClose: Function\n  },\n  computed: {\n    style: function style() {}\n  },\n  data: function data() {\n    return {};\n  },\n\n  watch: {},\n  created: function created() {\n    // alert(this.progress)\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    updateButton: function updateButton() {}\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eba98184\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/tagDialog.vue\nvar tagDialog_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.appear),expression:\"appear\"}],staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"position\":\"absolute\",\"top\":\"0\",\"width\":\"100%\",\"height\":\"100%\",\"background-color\":\"rgba(0,0,0,.6)\",\"z-index\":\"3\"}},[_c('div',{attrs:{\"id\":\"tag-spec\"}},[_c('div',{staticClass:\"header\"},[_vm._v(\"标记说明\")]),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[_vm._v(\"表示本作品当前可制作成实体八音盒。\\n        \"),_c('br'),_vm._v(\"能制作成八音盒的乐曲通常具备以下条件:\\n        \"),_c('ul',[_c('li',[_vm._v(\"· 作品音符数量适中\")]),_vm._v(\" \"),_c('li',[_vm._v(\"· 作品音符音高比较分散\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"footer\",on:{\"click\":_vm.handleClose}},[_vm._v(\"关闭\")])])])])}\nvar tagDialog_staticRenderFns = []\nvar tagDialog_esExports = { render: tagDialog_render, staticRenderFns: tagDialog_staticRenderFns }\n/* harmony default export */ var common_tagDialog = (tagDialog_esExports);\n// CONCATENATED MODULE: ./src/components/common/tagDialog.vue\nfunction tagDialog_injectStyle (ssrContext) {\n  __webpack_require__(\"YMvE\")\n}\nvar tagDialog_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar tagDialog___vue_template_functional__ = false\n/* styles */\nvar tagDialog___vue_styles__ = tagDialog_injectStyle\n/* scopeId */\nvar tagDialog___vue_scopeId__ = \"data-v-eba98184\"\n/* moduleIdentifier (server only) */\nvar tagDialog___vue_module_identifier__ = null\nvar tagDialog_Component = tagDialog_normalizeComponent(\n  tagDialog,\n  common_tagDialog,\n  tagDialog___vue_template_functional__,\n  tagDialog___vue_styles__,\n  tagDialog___vue_scopeId__,\n  tagDialog___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_tagDialog = (tagDialog_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-infinite-scroll/vue-infinite-scroll.js\nvar vue_infinite_scroll = __webpack_require__(\"bqTm\");\nvar vue_infinite_scroll_default = /*#__PURE__*/__webpack_require__.n(vue_infinite_scroll);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MusixiserDetail.vue\n\n\n// window.Tone = require('tone')\n\n\n\n\n\n\n\n\n\n\nvar MusixiserDetail_musicPart = undefined;\nvar MusixiserDetail_workStatusMap = { 0: \"公开\", 1: \"私密\", 2: \"删除\" };\n/* harmony default export */ var MusixiserDetail = ({\n  mixins: [mbMixin],\n  directives: {\n    infiniteScroll: vue_infinite_scroll_default.a\n  },\n  components: {\n    workCard: components_common_workCard,\n    tagDialog: components_common_tagDialog\n  },\n  data: function data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true,\n      tagAppear: false\n    };\n  },\n\n  computed: {\n    musixiserInfo: function musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    musixiserWorksObj: function musixiserWorksObj() {\n      console.log(stringify_default()(this.$store.state.musixiserWorksObj));\n      return this.$store.state.musixiserWorksObj;\n    },\n    operatingWorkId: function operatingWorkId() {\n      return this.$store.state.operatingWorkId;\n    },\n    playingWorkId: function playingWorkId() {\n      return this.$store.state.playingWorkId;\n    }\n  },\n  methods: {\n    loadMusixiserById: function loadMusixiserById() {\n      var _this = this;\n\n      console.log(\"my id: \", this.userId);\n      var id = this.userId; // this.userId手传参id或当前用户id\n      this.$store.dispatch(\"FETCH_MUSIXISER\", {\n        id: id\n      }).then(function () {\n        var fullPath = \"\" + location.origin + location.pathname + \"#/musixiser?id=\" + _this.userId;\n        document.title = _this.$store.state.musixiserInfo.realname + \"\\u7684\\u4F5C\\u54C1\";\n        wx_share_prepareShareConfig().then(function () {\n          wx_share_prepareShareContent({\n            title: _this.$store.state.musixiserInfo.realname + \"\\u7684\\u4F5C\\u54C1\",\n            desc: \"很好听哦～\",\n            // fullPath:location.href.split('#')[0],\n            fullPath: fullPath,\n            imgUrl: \"http:\" + _this.$store.state.musixiserInfo.smallAvatar || \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n          });\n        });\n      });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore: function loadMore() {\n      var _this2 = this;\n\n      //will call automatically when enter!\n      var id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.musixiserWorksObj.current);\n      this.$store.dispatch(\"FETCH_WORKS_FROM_MUSIXISER\", {\n        id: id,\n        page: this.musixiserWorksObj.current ? this.musixiserWorksObj.current + 1 : 1\n      }).then(function () {\n        console.log(\"2222222\", _this2.musixiserWorksObj);\n        if (+_this2.musixiserWorksObj.content.length < +_this2.musixiserWorksObj.total) {\n          //otherwise no more content\n          _this2.busy = false;\n        }\n      });\n    },\n    operateWork: function operateWork(work) {\n      console.log(\"operate in\");\n      this.$store.commit(\"OPERATE_WORK\", { work: work });\n    },\n    cancelOperate: function cancelOperate() {\n      this.$store.commit(\"OPERATE_WORK\", { work: { id: -1 } });\n    },\n    shareWork: function shareWork() {\n      console.log(\"share in\");\n    },\n    changeWorkStatus: function changeWorkStatus(work, status) {\n      var _this3 = this;\n\n      api_updateWork({\n        id: work.id,\n        status: status\n      }).then(function () {\n        _this3.$toast(\"\\u5DF2\\u5C06\\u4F5C\\u54C1\" + MusixiserDetail_workStatusMap[status]);\n        _this3.cancelOperate();\n        _this3.$store.commit(\"LOCAL_UPDATE_LIST\", {\n          type: \"musixiserWorksObj\",\n          item: {\n            id: work.id,\n            status: status\n          }\n        });\n      });\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    this.$store.commit(\"RESET_WORK_LIST\", {\n      type: \"musixiserWorksObj\"\n    });\n    next();\n  },\n  created: function created() {\n    var _this4 = this;\n\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n\n    var self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    document.title = \"作品集\";\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 239;\n      self.loadMusixiserById();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/musixiser?id=\" + self.$store.state.route.query.id;\n    // WxShare.prepareShareConfig().then(() => {\n    //   WxShare.prepareShareContent({\n    //     title: \"MUSIXISE\",\n    //     desc: \"我的地盘你就dê听我的\",\n    //     // fullPath:location.href.split('#')[0],\n    //     fullPath,\n    //     imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n    //   });\n    // });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        self.userId = _this4.$store.state.route.query.id || res.data.data.userId;\n        self.isMe = self.userId == res.data.data.userId;\n        self.loadMusixiserById();\n\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {\n    var _this5 = this;\n\n    // this.startRecord();\n    setTimeout(function () {\n      _this5.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e5b918e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MusixiserDetail.vue\nvar MusixiserDetail_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.musixiserWorksObj.content),function(item){return _c('work-card',{key:item.id,attrs:{\"workInfo\":item,\"playingStatus\":item.id==_vm.playingWorkId,\"maskOn\":item.id==_vm.operatingWorkId,\"onLongPress\":function (){ return _vm.operateWork(item); },\"onPlayWork\":function (){ return _vm.playWork(item); },\"onPurchaseWork\":function (){ return _vm.purchaseWork(item); },\"onDownloadWork\":function (){ return _vm.downloadWork(item); },\"onClickTag\":function (){_vm.tagAppear=true},\"onShareWork\":_vm.shareWork,\"onChangeWorkStatus\":_vm.changeWorkStatus,\"onTapMask\":_vm.cancelOperate,\"onToggleLike\":function (){ return _vm.toggleLike(item,'musixiserWorksObj'); },\"isMine\":_vm.isMe}})}),1),_vm._v(\" \"),_c('tag-dialog',{attrs:{\"appear\":_vm.tagAppear,\"handleClose\":function (){_vm.tagAppear=false}}})],1)}\nvar MusixiserDetail_staticRenderFns = []\nvar MusixiserDetail_esExports = { render: MusixiserDetail_render, staticRenderFns: MusixiserDetail_staticRenderFns }\n/* harmony default export */ var components_MusixiserDetail = (MusixiserDetail_esExports);\n// CONCATENATED MODULE: ./src/components/MusixiserDetail.vue\nfunction MusixiserDetail_injectStyle (ssrContext) {\n  __webpack_require__(\"chZ4\")\n}\nvar MusixiserDetail_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MusixiserDetail___vue_template_functional__ = false\n/* styles */\nvar MusixiserDetail___vue_styles__ = MusixiserDetail_injectStyle\n/* scopeId */\nvar MusixiserDetail___vue_scopeId__ = \"data-v-6e5b918e\"\n/* moduleIdentifier (server only) */\nvar MusixiserDetail___vue_module_identifier__ = null\nvar MusixiserDetail_Component = MusixiserDetail_normalizeComponent(\n  MusixiserDetail,\n  components_MusixiserDetail,\n  MusixiserDetail___vue_template_functional__,\n  MusixiserDetail___vue_styles__,\n  MusixiserDetail___vue_scopeId__,\n  MusixiserDetail___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MusixiserDetail = (MusixiserDetail_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MyFav.vue\n\n// window.Tone = require('tone')\n\n\n\n\n\n\n\n\n\n\nvar MyFav_musicPart = undefined;\n\n/* harmony default export */ var MyFav = ({\n  mixins: [mbMixin],\n  directives: {\n    infiniteScroll: vue_infinite_scroll_default.a\n  },\n  components: {\n    workCard: components_common_workCard,\n    tagDialog: components_common_tagDialog\n  },\n  data: function data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true,\n      tagAppear: false\n    };\n  },\n\n  computed: {\n    musixiserInfo: function musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    favWorksObj: function favWorksObj() {\n      return this.$store.state.favWorksObj;\n    },\n    operatingWorkId: function operatingWorkId() {\n      return this.$store.state.operatingWorkId;\n    },\n    playingWorkId: function playingWorkId() {\n      return this.$store.state.playingWorkId;\n    }\n  },\n  methods: {\n    loadMusixiserById: function loadMusixiserById() {\n      var _this = this;\n\n      console.log(\"my id: \", this.userId);\n      var id = this.userId; // this.userId手传参id或当前用户id\n      this.$store.dispatch(\"FETCH_MUSIXISER\", {\n        id: id\n      }).then(function () {\n        var fullPath = \"\" + location.origin + location.pathname + \"#/my-fav?id=\" + _this.userId;\n        document.title = _this.$store.state.musixiserInfo.realname + \"\\u7684\\u6536\\u85CF\";\n        wx_share_prepareShareConfig().then(function () {\n          wx_share_prepareShareContent({\n            title: _this.$store.state.musixiserInfo.realname + \"\\u7684\\u6536\\u85CF\",\n            desc: \"口味不太一样哦～\",\n            // fullPath:location.href.split('#')[0],\n            fullPath: fullPath,\n            imgUrl: \"http:\" + _this.$store.state.musixiserInfo.smallAvatar || \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n          });\n        });\n      });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore: function loadMore() {\n      var _this2 = this;\n\n      //will call automatically when enter!\n      var id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.favWorksObj.current);\n      this.$store.dispatch(\"FETCH_FAV_WORKS\", {\n        id: id,\n        page: this.favWorksObj.current ? this.favWorksObj.current + 1 : 1\n      }).then(function () {\n        console.log(\"2222222\", _this2.favWorksObj);\n        if (+_this2.favWorksObj.content.length < +_this2.favWorksObj.total) {\n          _this2.busy = false;\n        }\n      });\n    },\n    operateWork: function operateWork(work) {\n      console.log(\"operate in\");\n      this.$store.commit(\"OPERATE_WORK\", { work: work });\n    },\n    cancelOperate: function cancelOperate() {\n      this.$store.commit(\"OPERATE_WORK\", { work: { id: -1 } });\n    },\n    shareWork: function shareWork() {\n      console.log(\"share in\");\n    },\n    changeWorkStatus: function changeWorkStatus(work, status) {\n      var _this3 = this;\n\n      api_updateWork({\n        id: work.id,\n        status: status\n      }).then(function () {\n        _this3.$toast(\"\\u5DF2\\u5C06\\u4F5C\\u54C1\" + workStatusMap[status]);\n        _this3.cancelOperate();\n        _this3.$store.commit(\"LOCAL_UPDATE_LIST\", {\n          type: \"favWorksObj\",\n          item: {\n            id: work.id,\n            status: status\n          }\n        });\n      });\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    this.$store.commit(\"RESET_WORK_LIST\", {\n      type: \"favWorksObj\"\n    });\n    next();\n  },\n  created: function created() {\n    var _this4 = this;\n\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    var self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n    document.title = \"收藏集\";\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 239;\n      self.loadMusixiserById();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/my-fav?id=\" + self.$store.state.route.query.id;\n    // WxShare.prepareShareConfig().then(() => {\n    //   WxShare.prepareShareContent({\n    //     title: \"MUSIXISE\",\n    //     desc: \"我的地盘你就dê听我的\",\n    //     // fullPath:location.href.split('#')[0],\n    //     fullPath,\n    //     imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n    //   });\n    // });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        self.userId = _this4.$store.state.route.query.id || res.data.data.userId;\n        self.isMe = self.userId == res.data.data.userId;\n        self.loadMusixiserById();\n\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {\n    var _this5 = this;\n\n    // this.startRecord();\n    setTimeout(function () {\n      _this5.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d2538886\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyFav.vue\nvar MyFav_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.favWorksObj.content),function(item){return _c('work-card',{key:item.id,attrs:{\"workInfo\":item,\"playingStatus\":item.id==_vm.playingWorkId,\"maskOn\":item.id==_vm.operatingWorkId,\"onLongPress\":function (){ return _vm.operateWork(item); },\"onPlayWork\":function (){ return _vm.playWork(item); },\"onDownloadWork\":function (){ return _vm.downloadWork(item); },\"onPurchaseWork\":function (){ return _vm.purchaseWork(item); },\"onClickTag\":function (){_vm.tagAppear=true},\"onShareWork\":_vm.shareWork,\"onChangeWorkStatus\":_vm.changeWorkStatus,\"onTapMask\":_vm.cancelOperate,\"onToggleLike\":function (){ return _vm.toggleLike(item,'favWorksObj'); }}})}),1),_vm._v(\" \"),_c('tag-dialog',{attrs:{\"appear\":_vm.tagAppear,\"handleClose\":function (){_vm.tagAppear=false}}})],1)}\nvar MyFav_staticRenderFns = []\nvar MyFav_esExports = { render: MyFav_render, staticRenderFns: MyFav_staticRenderFns }\n/* harmony default export */ var components_MyFav = (MyFav_esExports);\n// CONCATENATED MODULE: ./src/components/MyFav.vue\nfunction MyFav_injectStyle (ssrContext) {\n  __webpack_require__(\"prJz\")\n}\nvar MyFav_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MyFav___vue_template_functional__ = false\n/* styles */\nvar MyFav___vue_styles__ = MyFav_injectStyle\n/* scopeId */\nvar MyFav___vue_scopeId__ = \"data-v-d2538886\"\n/* moduleIdentifier (server only) */\nvar MyFav___vue_module_identifier__ = null\nvar MyFav_Component = MyFav_normalizeComponent(\n  MyFav,\n  components_MyFav,\n  MyFav___vue_template_functional__,\n  MyFav___vue_styles__,\n  MyFav___vue_scopeId__,\n  MyFav___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MyFav = (MyFav_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/ProductList.vue\n\n\n/* harmony default export */ var ProductList = ({\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String,\n    onClickCall: {\n      type: Function,\n      default: function _default() {\n        return function () {\n          console.log(\"tap tap in count Button\");\n        };\n      }\n    }\n  },\n  components: {\n    swiper: vue_awesome_swiper[\"swiper\"],\n    swiperSlide: vue_awesome_swiper[\"swiperSlide\"]\n  },\n\n  computed: {\n    style: function style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    },\n    swiper: function swiper() {\n      return this.$refs.productList.swiper;\n    },\n    bigSwiper: function bigSwiper() {\n      return this.$refs.bigProductList.swiper;\n    },\n    productList: function productList() {\n      return this.$store.state.productList;\n    }\n  },\n  data: function data() {\n    return {\n      activeIndex: 0\n    };\n  },\n\n  watch: {},\n  created: function created() {\n    var self = this;\n    document.title = \"选择商品\";\n    //set upper big swiper\n    this.bigProductListOption = {\n      loop: false,\n      // spaceBetween: 30,\n      centeredSlides: true,\n      slidesPerView: 1,\n      // slidesPerView: \"auto\",\n      watchSlidesProgress: true,\n      effect: \"fade\",\n      on: {\n        transitionEnd: function transitionEnd(e) {\n          // console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          console.log(this.realIndex);\n          self.targetProduct = self.productList[this.realIndex];\n          self.activeIndex = this.realIndex;\n          //let small swiper swipe to target\n          self.swiper.slideTo(self.activeIndex);\n        },\n        progress: function progress(_progress) {\n          // this.activeIndex = progress;\n          // console.log()\n        }\n      }\n    };\n    // set small lower swiper\n    this.productListOption = {\n      loop: false,\n      // spaceBetween: 30,\n      centeredSlides: true,\n      slidesPerView: 8,\n      // slidesPerView: \"auto\",\n      watchSlidesProgress: true,\n      slideToClickedSlide: true,\n      on: {\n        transitionEnd: function transitionEnd(e) {\n          // console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          console.log(this.realIndex);\n          self.targetProduct = self.productList[this.realIndex];\n          self.activeIndex = this.realIndex;\n          //let big swiper swipe to target\n          self.bigSwiper.slideTo(self.activeIndex);\n        },\n        progress: function progress(_progress2) {\n          // this.activeIndex = progress;\n          // console.log()\n        }\n      }\n    };\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    viewProductDetail: function viewProductDetail() {},\n    toConfirmOrder: function toConfirmOrder() {\n      console.log(123321);\n      this.$store.commit(\"SAVE_ORDER_INFO\", {\n        product: this.targetProduct\n      }); // store current workId\n      this.$router.push({\n        path: \"/order-confirm\",\n        query: {\n          // id\n        }\n      });\n    },\n    to: function to(page) {\n      if (typeof page !== \"number\") {\n        return false;\n      }\n      this.swiper.slideTo(page, 300, false);\n      console.log(\"跳转到第\", page, \"页面\");\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-12dc8390\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProductList.vue\nvar ProductList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('swiper',{ref:\"bigProductList\",attrs:{\"options\":_vm.bigProductListOption}},_vm._l((_vm.productList),function(product){return _c('swiper-slide',{key:product.id},[_c('div',{key:_vm.activeIndex,staticClass:\"productPage\",on:{\"click\":_vm.viewProductDetail}},[_c('div',{staticClass:\"preview\",style:({background:\"url()\"})},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"relative\",\"object-fit\":\"cover\",\"display\":\"block\",\"border-radius\":\"20px 20px 0 0\",\"background\":\"black\"},attrs:{\"src\":product.previewPic||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png',\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_c('div',{staticClass:\"desc-title\"},[_vm._v(_vm._s(product.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\",\"color\":\"#6d6e75\",\"font-size\":\"12px\"}},[_c('p',[_vm._v(_vm._s(product.intro))])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_vm._v(\"¥\"+_vm._s(product.price))])])])])])}),1),_vm._v(\" \"),_c('swiper',{ref:\"productList\",attrs:{\"options\":_vm.productListOption}},_vm._l((_vm.productList),function(product,index){return _c('swiper-slide',{key:product.id},[_c('img',{class:{ invalid: index!==_vm.activeIndex },staticStyle:{\"width\":\"1rem\",\"height\":\"1rem\",\"background\":\"black\",\"object-fit\":\"cover\"},attrs:{\"src\":product.previewPic||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png',\"alt\":\"\"}})])}),1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"purchase-area\"}},[_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.toConfirmOrder}},[_vm._v(\"购买\")])])],1)}\nvar ProductList_staticRenderFns = []\nvar ProductList_esExports = { render: ProductList_render, staticRenderFns: ProductList_staticRenderFns }\n/* harmony default export */ var components_ProductList = (ProductList_esExports);\n// CONCATENATED MODULE: ./src/components/ProductList.vue\nfunction ProductList_injectStyle (ssrContext) {\n  __webpack_require__(\"r+qM\")\n}\nvar ProductList_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ProductList___vue_template_functional__ = false\n/* styles */\nvar ProductList___vue_styles__ = ProductList_injectStyle\n/* scopeId */\nvar ProductList___vue_scopeId__ = \"data-v-12dc8390\"\n/* moduleIdentifier (server only) */\nvar ProductList___vue_module_identifier__ = null\nvar ProductList_Component = ProductList_normalizeComponent(\n  ProductList,\n  components_ProductList,\n  ProductList___vue_template_functional__,\n  ProductList___vue_styles__,\n  ProductList___vue_scopeId__,\n  ProductList___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_ProductList = (ProductList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/OrderConfirm.vue\n\n\n\n\n/* harmony default export */ var OrderConfirm = ({\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String\n  },\n  computed: {\n    style: function style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    },\n    orderToCreate: function orderToCreate() {\n      return this.$store.state.orderToCreate;\n    },\n    targetProduct: function targetProduct() {\n      return this.$store.state.targetProduct;\n    },\n    targetWork: function targetWork() {\n      return this.$store.state.targetWork;\n    }\n  },\n  data: function data() {\n    return {\n      amount: 1,\n      giftMsg: \"\",\n      currentActiveCount: 0,\n      currentActive: false,\n      userName: \"\",\n      telNum: \"\",\n      address: \"\"\n    };\n  },\n\n  watch: {},\n  created: function created() {\n    document.title = \"确认订单\";\n    this.currentActive = this.initActive;\n    this.currentActiveCount = this.currentActive ? this.initCount : this.initCount + 1;\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    // i think need check here, e.g. cookie address\n    next();\n  },\n\n  methods: {\n    toConfirmOrder: function toConfirmOrder() {\n      var _this = this;\n\n      // passin orderToCreate TODO\n      if (!this.address) {\n        alert(\"请先填入地址\");\n      } else {\n        console.log(this.orderToCreate);\n        makeWxOrder(extends_default()({}, this.orderToCreate, { amount: this.amount, message: this.giftMsg }), function () {\n          _this.$toast(\"下单成功\");\n          _this.$router.push({\n            path: \"/my-orders\"\n          });\n        }, function () {\n          _this.$toast(\"未下单\");\n          _this.$router.push({\n            path: \"/my-orders\"\n          });\n        });\n      }\n    },\n    positionWindow: function positionWindow() {\n      window.scroll(0, 0);\n    },\n    editAddress: function editAddress() {\n      var _this2 = this;\n\n      //都是同步操作\n      wx_share_createAddress(function (address) {\n        _this2.address = address.detailInfo;\n        _this2.userName = address.userName;\n        _this2.telNum = address.telNumber;\n        _this2.$store.commit(\"SAVE_ORDER_INFO\", { address: address });\n      }, function () {});\n    },\n    addAmount: function addAmount() {\n      this.amount < 9 ? this.amount += 1 : \"\";\n    },\n    reduceAmount: function reduceAmount() {\n      this.amount > 1 ? this.amount -= 1 : \"\";\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc0d2e92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/OrderConfirm.vue\nvar OrderConfirm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"order-confirm\"},[_c('div',{staticClass:\"address\",on:{\"click\":_vm.editAddress}},[_c('div',{attrs:{\"id\":\"basic-info\"}},[_vm._v(\"收件人：\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"wx-info\"}},[_c('span',[_vm._v(_vm._s(_vm.userName))]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(_vm.telNum))])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"wx-address\"}},[_vm._v(_vm._s(_vm.address))])])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('img',{staticClass:\"product-img\",attrs:{\"src\":_vm.targetProduct.previewPic||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png',\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"goods\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(_vm._s(_vm.targetProduct.name))]),_vm._v(\" \"),_c('p',{staticClass:\"work-title\"},[_vm._v(_vm._s(_vm.targetWork.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"amount\"},[_c('span',{on:{\"click\":_vm.reduceAmount}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.amount),expression:\"amount\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.amount)},on:{\"blur\":[_vm.positionWindow,function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.amount=_vm._n($event.target.value)}}}),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.addAmount}},[_vm._v(\"+\")])])]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"msg\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.giftMsg),expression:\"giftMsg\"}],attrs:{\"type\":\"text\",\"placeholder\":\"默认祝福语：「在乐音相伴的梦里，世界一片白银」\"},domProps:{\"value\":(_vm.giftMsg)},on:{\"blur\":_vm.positionWindow,\"input\":function($event){if($event.target.composing){ return; }_vm.giftMsg=$event.target.value}}})]),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"purchase-area\"},[_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.toConfirmOrder}},[_vm._v(\"付款 ¥\"+_vm._s(_vm.amount*_vm.targetProduct.price))])])])}\nvar OrderConfirm_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"address-info\"}},[_vm._v(\"\\n        收件地址：\\n        \"),_c('div',{staticClass:\"address-underline\",attrs:{\"id\":\"underline1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"address-underline\",attrs:{\"id\":\"underline2\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"0 0.64rem\"}},[_c('div',{staticClass:\"thinline\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-list\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"商品清单\")]),_vm._v(\" \"),_c('div',{staticClass:\"sub-detail\"},[_c('p',[_vm._v(\"八音盒 x 1\")]),_vm._v(\" \"),_c('p',[_vm._v(\"包装盒 x 1\")]),_vm._v(\" \"),_c('p',[_vm._v(\"礼品卡 x 1\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"readme\"},[_vm._v(\"\\n    购买说明\\n    \"),_c('ul',[_c('li',[_vm._v(\"· 此商品的制作周期约为2周，您可以在【我的-八音盒】页面查看进度\")]),_vm._v(\" \"),_c('li',[_vm._v(\"· 定制商品在某些特定条件下无法制作，我们将在第一时间联系您并进行退款\")]),_vm._v(\" \"),_c('li',[_vm._v(\"· 定制商品非质量问题不得退换货，如需退货请在公众号页面提交申请\")]),_vm._v(\" \"),_c('li',[_vm._v(\"· 如有其他疑问可在公众号的【留言】版块留言，我们将尽快为您解答\")])])])}]\nvar OrderConfirm_esExports = { render: OrderConfirm_render, staticRenderFns: OrderConfirm_staticRenderFns }\n/* harmony default export */ var components_OrderConfirm = (OrderConfirm_esExports);\n// CONCATENATED MODULE: ./src/components/OrderConfirm.vue\nfunction OrderConfirm_injectStyle (ssrContext) {\n  __webpack_require__(\"gNLL\")\n}\nvar OrderConfirm_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar OrderConfirm___vue_template_functional__ = false\n/* styles */\nvar OrderConfirm___vue_styles__ = OrderConfirm_injectStyle\n/* scopeId */\nvar OrderConfirm___vue_scopeId__ = \"data-v-dc0d2e92\"\n/* moduleIdentifier (server only) */\nvar OrderConfirm___vue_module_identifier__ = null\nvar OrderConfirm_Component = OrderConfirm_normalizeComponent(\n  OrderConfirm,\n  components_OrderConfirm,\n  OrderConfirm___vue_template_functional__,\n  OrderConfirm___vue_styles__,\n  OrderConfirm___vue_scopeId__,\n  OrderConfirm___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_OrderConfirm = (OrderConfirm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Order.vue\n\n/* harmony default export */ var Order = ({\n  // {\n  //   id: 130,\n  //   price: 0.01,\n  //   status: 2,\n  //   shipTime: 1547705540000,\n  //   confirmTime: 1547734350000,\n  //   userId: 0,\n  //   amount: 1,\n  //   content: {\n  //     wid: 148,\n  //     product: {\n  //       id: 1,\n  //       category: 0,\n  //       name: \"产品名01\",\n  //       intro: \"八音盒\",\n  //       price: 0.01,\n  //       status: 0,\n  //       createdDate: 1545545048000\n  //     },\n  //     title: \"castle\",\n  //     userId: 239,\n  //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n  //   },\n  //   address: {\n  //     id: 2,\n  //     userId: 239,\n  //     userName: \"花\",\n  //     postalCode: \"100032\",\n  //     provinceName: \"北京市\",\n  //     cityName: \"北京市\",\n  //     countryName: \"西城区\",\n  //     detailInfo: \"哈哈哈哈哈哈哈\",\n  //     nationalCode: \"110102\",\n  //     telNumber: \"13146319393\"\n  //   }\n  // }\n  props: {\n    info: Object,\n    playingStatus: {\n      type: Boolean,\n      default: false\n    },\n    onPlayWork: Function,\n    onPayOrder: Function\n  },\n  computed: {},\n  data: function data() {\n    return {};\n  },\n\n  watch: {},\n  created: function created() {\n    // alert(this.progress)\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    updateButton: function updateButton() {}\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c56ec848\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Order.vue\nvar Order_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-container\"},[_c('div',{staticClass:\"preview-bg\"},[_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.info.content.product.previewPic,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"shipment\"},[(_vm.info.status===1)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":__webpack_require__(\"M+BT\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===1)?_c('p',{staticClass:\"statusText\",on:{\"click\":_vm.onPayOrder}},[_vm._v(\"去支付\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===2)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":__webpack_require__(\"vmYS\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===2)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"制作中👷\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===3)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":__webpack_require__(\"SaBO\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===3)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"派送中🏍️\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===4)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":__webpack_require__(\"t0gW\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===4)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"已收件🎁\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"detail-basic\"},[_c('div',{staticClass:\"title\"},[_c('p',{staticClass:\"product-name\"},[_vm._v(_vm._s(_vm.info.content.product.name))]),_vm._v(\" \"),_c('p',{staticClass:\"song-title\"},[_vm._v(_vm._s(_vm.info.content.title))])]),_vm._v(\" \"),_c('div',{class:_vm.playingStatus?'stopBtn':'playBtn',on:{\"touchend\":_vm.onPlayWork}})]),_vm._v(\" \"),_c('div',{staticClass:\"detail-other\"},[_c('p',[_vm._v(_vm._s(_vm._f(\"getDateDiff\")(_vm.info.orderTime))+\"下单\")]),_vm._v(\" \"),_c('p',[_vm._v(\"¥\"+_vm._s(_vm.info.price))])])])])}\nvar Order_staticRenderFns = []\nvar Order_esExports = { render: Order_render, staticRenderFns: Order_staticRenderFns }\n/* harmony default export */ var common_Order = (Order_esExports);\n// CONCATENATED MODULE: ./src/components/common/Order.vue\nfunction Order_injectStyle (ssrContext) {\n  __webpack_require__(\"7SH3\")\n}\nvar Order_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Order___vue_template_functional__ = false\n/* styles */\nvar Order___vue_styles__ = Order_injectStyle\n/* scopeId */\nvar Order___vue_scopeId__ = \"data-v-c56ec848\"\n/* moduleIdentifier (server only) */\nvar Order___vue_module_identifier__ = null\nvar Order_Component = Order_normalizeComponent(\n  Order,\n  common_Order,\n  Order___vue_template_functional__,\n  Order___vue_styles__,\n  Order___vue_scopeId__,\n  Order___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Order = (Order_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MyOrders.vue\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var MyOrders = ({\n  name: \"myorders\",\n  directives: {\n    infiniteScroll: vue_infinite_scroll_default.a\n  },\n  components: {\n    order: components_common_Order\n  },\n  data: function data() {\n    return {\n      busy: false\n      // orders: [\n      // {\n      //   id: 130,\n      //   price: 0.01,\n      //   status: 2,\n      //   shipTime: 1547705540000,\n      //   confirmTime: 1547734350000,\n      //   userId: 0,\n      //   amount: 1,\n      //   content: {\n      //     wid: 148,\n      //     product: {\n      //       id: 1,\n      //       category: 0,\n      //       name: \"产品名01\",\n      //       intro: \"八音盒\",\n      //       price: 0.01,\n      //       previewPic: \"//img.musixise.com/BP32nt9X_5.jpg\",\n      //       previewVideo: \"\",\n      //       status: 0,\n      //       createdDate: 1545545048000\n      //     },\n      //     title: \"castle\",\n      //     userId: 239,\n      //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n      //   },\n      //   address: {\n      //     id: 2,\n      //     userId: 239,\n      //     userName: \"花\",\n      //     postalCode: \"100032\",\n      //     provinceName: \"北京市\",\n      //     cityName: \"北京市\",\n      //     countryName: \"西城区\",\n      //     detailInfo: \"哈哈哈哈哈哈哈\",\n      //     nationalCode: \"110102\",\n      //     telNumber: \"13146319393\"\n      //   }\n      // },\n      // {\n      //   id: 129,\n      //   price: 0.01,\n      //   status: 1,\n      //   shipTime: 1547704912000,\n      //   confirmTime: null,\n      //   userId: 0,\n      //   amount: 1,\n      //   content: {\n      //     wid: 148,\n      //     product: {\n      //       id: 1,\n      //       category: 0,\n      //       name: \"产品名01\",\n      //       intro: \"八音盒\",\n      //       price: 0.01,\n      //       previewPic: \"//img.musixise.com/BP32nt9X_5.jpg\",\n      //       previewVideo: \"\",\n      //       status: 0,\n      //       createdDate: 1545545048000\n      //     },\n      //     title: \"castle\",\n      //     userId: 239,\n      //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n      //   },\n      //   address: {\n      //     id: 1,\n      //     userId: 239,\n      //     userName: \"郑一花\",\n      //     postalCode: \"100101\",\n      //     provinceName: \"北京市\",\n      //     cityName: \"北京市\",\n      //     countryName: \"朝阳区\",\n      //     detailInfo: \"北京绿城诚园52601\\n\\n\",\n      //     nationalCode: \"110105\",\n      //     telNumber: \"18501235898\"\n      //   }\n      // },\n      // {\n      //   id: 128,\n      //   price: 0.01,\n      //   status: 1,\n      //   shipTime: 1547704864000,\n      //   confirmTime: null,\n      //   userId: 0,\n      //   amount: 1,\n      //   content: {\n      //     wid: 148,\n      //     product: {\n      //       id: 1,\n      //       category: 0,\n      //       name: \"产品名01\",\n      //       intro: \"八音盒\",\n      //       price: 0.01,\n      //       status: 0,\n      //       createdDate: 1545545048000\n      //     },\n      //     title: \"castle\",\n      //     userId: 239,\n      //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n      //   },\n      //   address: {\n      //     id: 1,\n      //     userId: 239,\n      //     userName: \"郑一花\",\n      //     postalCode: \"100101\",\n      //     provinceName: \"北京市\",\n      //     cityName: \"北京市\",\n      //     countryName: \"朝阳区\",\n      //     detailInfo: \"北京绿城诚园52601\\n\\n\",\n      //     nationalCode: \"110105\",\n      //     telNumber: \"18501235898\"\n      //   }\n      // }\n      // ]\n    };\n  },\n\n  computed: {\n    orders: function orders() {\n      return this.$store.state.orders;\n    },\n    playingWorkId: function playingWorkId() {\n      return this.$store.state.playingWorkId;\n    }\n  },\n\n  methods: {\n    redirectTo: function redirectTo(path) {\n      // IMPORTANT keng. 从主页跳制作页，如果相对路径会带上参数，比如auth回来的code会一直带着，污染之后的auth\n      // 成功auth一次，就写入cookie了，所以往后跳就直接给全路径，摒弃微信弄回来的乱七八糟的参数\n      this.$router.push(path);\n    },\n    loadMore: function loadMore() {\n      var _this = this;\n\n      //will call automatically when enter!\n      // alert(id)\n      // alert(12345);\n      this.busy = true;\n      console.log(\"1111111\");\n      this.$store.dispatch(\"FETCH_ORDERS\", {\n        page: this.orders.current ? this.orders.current + 1 : 1\n      }).then(function () {\n        console.log(\"2222222\", _this.orders);\n        // alert(this.orders.content.length);\n        // alert(this.orders.total);\n        if (+_this.orders.content.length < +_this.orders.total) {\n          _this.busy = false;\n        }\n      });\n    },\n    payOrder: function payOrder(orderId) {\n      var _this2 = this;\n\n      payWxOrder({ orderId: orderId }, function () {\n        _this2.$toast(\"下单成功\");\n        _this2.$store.commit(\"LOCAL_UPDATE_ORDER_STATUS\", {\n          orderId: orderId,\n          status: 2\n        });\n      }, function () {});\n    },\n    playWork: function playWork(work) {\n      var _this3 = this;\n\n      console.log(\"work going to play: \", work);\n      work.id = work.wid; //简单转换一下\n      if (work.id != this.playingWorkId) {\n        this.$ga.event(\"Song\", \"play_20s\", \"\" + work.id);\n        this.playing = true;\n        previewMidi(work.url, this.playing).then(function () {\n          return _this3.$store.commit(\"PLAY_WORK\", { work: work });\n        }).catch(function () {\n          _this3.$toast(\"作品损坏，无法播放\");\n        });\n      } else {\n        //操作的同一个\n        if (this.playing) {\n          this.$ga.event(\"Song\", \"stop_20s\", \"\" + work.id);\n          //正播着这个呢\n          this.playing = false;\n          previewMidi(work.url, this.playing).then(function () {\n            return _this3.$store.commit(\"PLAY_WORK\", { work: { id: -1 } });\n          }).catch(function () {\n            _this3.$toast(\"作品损坏，无法播放\");\n          });\n        } else {\n          this.$ga.event(\"Song\", \"play_20s\", \"\" + work.id);\n          //这个已经被停了\n          this.playing = true;\n          previewMidi(work.url, this.playing).then(function () {\n            return _this3.$store.commit(\"PLAY_WORK\", { work: work });\n          }).catch(function () {\n            _this3.$toast(\"作品损坏，无法播放\");\n          });\n        }\n      }\n    }\n  },\n  created: function created() {\n    var _this4 = this;\n\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n    this.busy = true; //important： disable auto loadmore at create, call loadmore manually after user auth\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.busy = false;\n      return;\n    }\n    document.title = \"我的订单\";\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\");\n        }\n        // alert(`welcome${res.data.data.realname}`);\n        _this4.loadMore();\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\");\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59a32344\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyOrders.vue\nvar MyOrders_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"orderlist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.orders.content),function(order,index){return _c('order',{key:order.id,attrs:{\"info\":order,\"playingStatus\":order.content.wid==_vm.playingWorkId,\"onPlayWork\":function (){ return _vm.playWork(order.content); },\"onPayOrder\":function (){ return _vm.payOrder(order.orderId); }}})}),1)])}\nvar MyOrders_staticRenderFns = []\nvar MyOrders_esExports = { render: MyOrders_render, staticRenderFns: MyOrders_staticRenderFns }\n/* harmony default export */ var components_MyOrders = (MyOrders_esExports);\n// CONCATENATED MODULE: ./src/components/MyOrders.vue\nfunction MyOrders_injectStyle (ssrContext) {\n  __webpack_require__(\"4sIA\")\n}\nvar MyOrders_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MyOrders___vue_template_functional__ = false\n/* styles */\nvar MyOrders___vue_styles__ = MyOrders_injectStyle\n/* scopeId */\nvar MyOrders___vue_scopeId__ = \"data-v-59a32344\"\n/* moduleIdentifier (server only) */\nvar MyOrders___vue_module_identifier__ = null\nvar MyOrders_Component = MyOrders_normalizeComponent(\n  MyOrders,\n  components_MyOrders,\n  MyOrders___vue_template_functional__,\n  MyOrders___vue_styles__,\n  MyOrders___vue_scopeId__,\n  MyOrders___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MyOrders = (MyOrders_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/workFlatCard.vue\n\nvar MARQUEE_SPEED = 40;\n/* harmony default export */ var workFlatCard = ({\n  props: {\n    workInfo: { type: Object },\n    playingStatus: {\n      type: Boolean,\n      default: false\n    },\n    rank: { type: Number },\n    onPlayWork: Function,\n    onToggleLike: Function\n  },\n  data: function data() {\n    return {\n      marqueeStyle: \"\"\n    };\n  },\n\n  methods: {\n    gotoWork: function gotoWork(id) {\n      this.$router.push({\n        path: \"/new-music-box-viewer\",\n        query: {\n          id: id\n        }\n      });\n    }\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    this.marqueeStyle = \"\";\n    if (this.$refs.insider && this.$refs.outsider && this.$refs.insider.offsetWidth > this.$refs.outsider.offsetWidth) {\n      var t = this.$refs.insider.offsetWidth / MARQUEE_SPEED + \"s;\";\n      this.marqueeStyle += \"-webkit-animation:marquee linear infinite;-o-animation:marquee linear infinite;animation:  marquee linear infinite;-webkit-animation-duration:\" + t + \"-o-animation-duration:\" + t + \"animation-duration:\" + t + \";\";\n    } else {\n      this.marqueeStyle += \"\";\n      console.log(this.$refs.insider.offsetWidth);\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eee3c6b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/workFlatCard.vue\nvar workFlatCard_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.workInfo.id)?_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"rank\",attrs:{\"id\":(\"rank\" + _vm.rank)}},[_vm._v(_vm._s(_vm.rank))]),_vm._v(\" \"),_c('div',{staticClass:\"preview-bg\"},[(_vm.workInfo.cover.indexOf('//')>=0)?_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.workInfo.cover,\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.cover.indexOf('//')<0)?_c('div',{staticClass:\"dark-mask\"}):_vm._e(),_vm._v(\" \"),(!_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":__webpack_require__(\"sHdO\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e(),_vm._v(\" \"),(_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":__webpack_require__(\"oB2d\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('p',{staticClass:\"title\",on:{\"click\":function($event){return _vm.gotoWork(_vm.workInfo.id)}}},[_vm._v(_vm._s(_vm.workInfo.title))]),_vm._v(\" \"),_c('div',{ref:\"outsider\",staticClass:\"work-body-desc\"},[_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"-2rem\",\"width\":\"4rem\",\"background\":\"linear-gradient(45deg, rgba(55, 60, 102, 0), rgba(55,60,102,60))\",\"height\":\"100%\",\"z-index\":\"2\"}}),_vm._v(\" \"),_c('p',{ref:\"insider\",style:(_vm.marqueeStyle)},[_vm._v(_vm._s(_vm.workInfo.content))])]),_vm._v(\" \"),_c('div',{staticClass:\"detail-other\"},[_c('p',{staticClass:\"song-title\"},[_vm._v(\"\\n        by \"+_vm._s(_vm.workInfo.userVO.realname)+\"\\n        \"),_c('span',[_vm._v(_vm._s(_vm._f(\"getDateDiff\")(_vm.workInfo.lastModifiedDate))+\"更新\")])]),_vm._v(\" \"),_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.onToggleLike(_vm.workInfo)}}},[(!_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":__webpack_require__(\"Vart\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":__webpack_require__(\"48cV\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\"\\n        \"+_vm._s(_vm.workInfo.collectNum)+\"\\n      \")])])])]):_vm._e()}\nvar workFlatCard_staticRenderFns = []\nvar workFlatCard_esExports = { render: workFlatCard_render, staticRenderFns: workFlatCard_staticRenderFns }\n/* harmony default export */ var common_workFlatCard = (workFlatCard_esExports);\n// CONCATENATED MODULE: ./src/components/common/workFlatCard.vue\nfunction workFlatCard_injectStyle (ssrContext) {\n  __webpack_require__(\"zjgq\")\n}\nvar workFlatCard_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar workFlatCard___vue_template_functional__ = false\n/* styles */\nvar workFlatCard___vue_styles__ = workFlatCard_injectStyle\n/* scopeId */\nvar workFlatCard___vue_scopeId__ = \"data-v-eee3c6b6\"\n/* moduleIdentifier (server only) */\nvar workFlatCard___vue_module_identifier__ = null\nvar workFlatCard_Component = workFlatCard_normalizeComponent(\n  workFlatCard,\n  common_workFlatCard,\n  workFlatCard___vue_template_functional__,\n  workFlatCard___vue_styles__,\n  workFlatCard___vue_scopeId__,\n  workFlatCard___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_workFlatCard = (workFlatCard_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/RankBoard.vue\n\n// window.Tone = require('tone')\n\n\n\n\n\n\n\n\n\n\nvar RankBoard_musicPart = undefined;\n\n/* harmony default export */ var RankBoard = ({\n  mixins: [mbMixin],\n  directives: {\n    infiniteScroll: vue_infinite_scroll_default.a\n  },\n  components: {\n    workCard: components_common_workFlatCard,\n    tagDialog: components_common_tagDialog\n  },\n  data: function data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true,\n      tagAppear: false,\n      playerGold: {},\n      playerSilver: {},\n      playerBronze: {}\n    };\n  },\n\n  computed: {\n    musixiserInfo: function musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    boardWorksObj: function boardWorksObj() {\n      var a = this.$store.state.boardWorksObj;\n      this.playerGold = a.content[0] ? a.content[0].userVO : {\n        smallAvatar: \"//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100\",\n        realname: \"虚位以待\"\n      };\n      this.playerSilver = a.content[1] ? a.content[1].userVO : {\n        smallAvatar: \"//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100\",\n        realname: \"虚位以待\"\n      };\n      this.playerBronze = a.content[2] ? a.content[2].userVO : {\n        smallAvatar: \"//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100\",\n        realname: \"虚位以待\"\n      };\n      return a;\n    },\n    operatingWorkId: function operatingWorkId() {\n      return this.$store.state.operatingWorkId;\n    },\n    playingWorkId: function playingWorkId() {\n      return this.$store.state.playingWorkId;\n    }\n  },\n  methods: {\n    // loadMusixiserById() {\n    //   console.log(\"my id: \", this.userId);\n    //   const id = this.userId; // this.userId手传参id或当前用户id\n    //   this.$store\n    //     .dispatch(\"FETCH_MUSIXISER\", {\n    //       id\n    //     })\n    //     .then(() => {\n    //       const fullPath = `${location.origin}${location.pathname}#/my-fav?id=${\n    //         this.userId\n    //       }`;\n    //       document.title = `${this.$store.state.musixiserInfo.realname}的收藏`;\n    //       WxShare.prepareShareConfig().then(() => {\n    //         WxShare.prepareShareContent({\n    //           title: `${this.$store.state.musixiserInfo.realname}的收藏`,\n    //           desc: \"口味不太一样哦～\",\n    //           // fullPath:location.href.split('#')[0],\n    //           fullPath,\n    //           imgUrl:\n    //             `http:${this.$store.state.musixiserInfo.smallAvatar}` ||\n    //             \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n    //         });\n    //       });\n    //     });\n    //   this.busy = false;\n    //   // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n    //   //   id,\n    //   //   page:1\n    //   // })\n    // },\n    loadMore: function loadMore() {\n      var _this = this;\n\n      //will call automatically when enter!\n      var id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.boardWorksObj.current);\n      this.$store.dispatch(\"FETCH_BOARD_WORKS\", {\n        page: 1,\n        size: 30,\n        // category: 1,\n        orderStrategy: 2\n      }).then(function () {\n        console.log(\"2222222\", _this.boardWorksObj);\n        if (+_this.boardWorksObj.content.length < +_this.boardWorksObj.total) {\n          _this.busy = false;\n        }\n      });\n    },\n    operateWork: function operateWork(work) {\n      console.log(\"operate in\");\n      this.$store.commit(\"OPERATE_WORK\", { work: work });\n    },\n    cancelOperate: function cancelOperate() {\n      this.$store.commit(\"OPERATE_WORK\", { work: { id: -1 } });\n    },\n    shareWork: function shareWork() {\n      console.log(\"share in\");\n    },\n    changeWorkStatus: function changeWorkStatus(work, status) {\n      var _this2 = this;\n\n      api_updateWork({\n        id: work.id,\n        status: status\n      }).then(function () {\n        _this2.$toast(\"\\u5DF2\\u5C06\\u4F5C\\u54C1\" + workStatusMap[status]);\n        _this2.cancelOperate();\n        _this2.$store.commit(\"LOCAL_UPDATE_LIST\", {\n          type: \"boardWorksObj\",\n          item: {\n            id: work.id,\n            status: status\n          }\n        });\n      });\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    this.$store.commit(\"RESET_WORK_LIST\", {\n      type: \"boardWorksObj\"\n    });\n    next();\n  },\n  created: function created() {\n    var _this3 = this;\n\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n\n    var self = this;\n    this.busy = false;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n    document.title = \"排行榜\";\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      // this.userId = this.$store.state.route.query.id || 239;\n      this.loadMore();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/my-fav?id=\" + self.$store.state.route.query.id;\n    // WxShare.prepareShareConfig().then(() => {\n    //   WxShare.prepareShareContent({\n    //     title: \"MUSIXISE\",\n    //     desc: \"我的地盘你就dê听我的\",\n    //     // fullPath:location.href.split('#')[0],\n    //     fullPath,\n    //     imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n    //   });\n    // });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        self.userId = res.data.data.userId;\n        // self.isMe = self.userId == res.data.data.userId;\n        // self.loadMusixiserById();\n        _this3.busy = false;\n        _this3.loadMore();\n\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    // this.startRecord();\n    setTimeout(function () {\n      _this4.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21e82d53\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RankBoard.vue\nvar RankBoard_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"-1rem\",\"top\":\"-2.5rem\",\"width\":\"7rem\",\"height\":\"7rem\",\"border-radius\":\"3.5rem\",\"background\":\"linear-gradient(125deg, #7995EE, rgba(69,100,215,0))\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"-.4rem\",\"top\":\"4.5rem\",\"width\":\"4rem\",\"height\":\"4rem\",\"border-radius\":\"2rem\",\"background\":\"linear-gradient(-45deg, #7996EE, rgba(69,100,215,.7))\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"winner-sector\"}},[_c('div',{staticClass:\"winner-avatar\",attrs:{\"id\":\"gold\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.playerGold.smallAvatar,\"alt\":\"\"},on:{\"error\":function($event){_vm.playerGold.smallAvatar='//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100'}}}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.playerGold.realname))]),_vm._v(\" \"),_c('img',{staticClass:\"crown\",attrs:{\"src\":__webpack_require__(\"x2ag\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"winner-avatar\",attrs:{\"id\":\"silver\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.playerSilver.smallAvatar,\"alt\":\"\"},on:{\"error\":function($event){_vm.playerSilver.smallAvatar='//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100'}}}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.playerSilver.realname))]),_vm._v(\" \"),_c('img',{staticClass:\"crown\",attrs:{\"src\":__webpack_require__(\"naGj\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"winner-avatar\",attrs:{\"id\":\"bronze\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.playerBronze.smallAvatar,\"alt\":\"\"},on:{\"error\":function($event){_vm.playerBronze.smallAvatar='//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100'}}}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.playerBronze.realname))]),_vm._v(\" \"),_c('img',{staticClass:\"crown\",attrs:{\"src\":__webpack_require__(\"mave\"),\"alt\":\"\"}})])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"worklist\"},_vm._l((_vm.boardWorksObj.content),function(item,index){return _c('work-card',{key:item.id,attrs:{\"workInfo\":item,\"rank\":index+1,\"playingStatus\":item.id==_vm.playingWorkId,\"maskOn\":item.id==_vm.operatingWorkId,\"onPlayWork\":function (){ return _vm.playWork(item); },\"onDownloadWork\":function (){ return _vm.downloadWork(item); },\"onToggleLike\":function (){ return _vm.toggleLike(item,'boardWorksObj'); }}})}),1),_vm._v(\" \"),_c('tag-dialog',{attrs:{\"appear\":_vm.tagAppear,\"handleClose\":function (){_vm.tagAppear=false}}})],1)}\nvar RankBoard_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{attrs:{\"id\":\"specs\"}},[_vm._v(\"\\n    母亲节活动说明：\\n    \"),_c('br'),_vm._v(\"在5月14日14:00前，获赞排名前三的符合制作标准的八音盒，即可获赠对应乐曲的定制音乐盒，快来参加吧\\n  \")])}]\nvar RankBoard_esExports = { render: RankBoard_render, staticRenderFns: RankBoard_staticRenderFns }\n/* harmony default export */ var components_RankBoard = (RankBoard_esExports);\n// CONCATENATED MODULE: ./src/components/RankBoard.vue\nfunction RankBoard_injectStyle (ssrContext) {\n  __webpack_require__(\"wJ+Q\")\n}\nvar RankBoard_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar RankBoard___vue_template_functional__ = false\n/* styles */\nvar RankBoard___vue_styles__ = RankBoard_injectStyle\n/* scopeId */\nvar RankBoard___vue_scopeId__ = \"data-v-21e82d53\"\n/* moduleIdentifier (server only) */\nvar RankBoard___vue_module_identifier__ = null\nvar RankBoard_Component = RankBoard_normalizeComponent(\n  RankBoard,\n  components_RankBoard,\n  RankBoard___vue_template_functional__,\n  RankBoard___vue_styles__,\n  RankBoard___vue_scopeId__,\n  RankBoard___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_RankBoard = (RankBoard_Component.exports);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\n\n// import MBMaker from '@/components/MBMaker';\n\n// import MBAuthor from '@/components/MBAuthor';\n\n// import MBViewer from '@/components/MBViewer';\n\n\n\n\n// import Recommend from '@/components/Recommend';\n\n\n\n\n\nvue_esm[\"a\" /* default */].use(vue_router_esm[\"a\" /* default */]);\n\n/* harmony default export */ var router = (new vue_router_esm[\"a\" /* default */]({\n  // mode: 'history', // avoid hash in url\n  routes: [{\n    path: '/',\n    name: 'HelloWorld',\n    component: src_components_HelloWorld\n  }, {\n    path: '/square',\n    name: 'Square',\n    component: src_components_Square\n  }, {\n    path: '/new-music-box-maker',\n    name: 'NMBMaker',\n    component: src_components_NMBMaker\n  }, {\n    path: '/new-music-box-roll',\n    name: 'MBRoll',\n    component: src_components_MBRollMaker\n  }, {\n    path: '/new-music-box-viewer',\n    name: 'NMBViewer',\n    component: src_components_NMBViewer\n  }, {\n    path: '/product-list',\n    name: 'productList',\n    component: src_components_ProductList\n  }, {\n    path: '/order-confirm',\n    name: 'OrderConfirm',\n    component: src_components_OrderConfirm\n  }, {\n    path: '/musixiser',\n    name: 'MusixiserDetail',\n    component: src_components_MusixiserDetail\n  }, {\n    path: '/my-fav',\n    name: 'MyFav',\n    component: src_components_MyFav\n  }, {\n    path: '/rank-board',\n    name: 'RankBoard',\n    component: src_components_RankBoard\n  },\n  // {\n  //   path: '/recommend',\n  //   name: 'Recommend',\n  //   component: Recommend,\n  // },\n  {\n    path: '/my-orders',\n    name: 'MyOrders',\n    component: src_components_MyOrders\n  }]\n}));\n// CONCATENATED MODULE: ./src/_common/js/filters.js\n\nfunction getDateDiff(dateTimeStamp) {\n  var result = '';\n  // some are\"2019-03-12 22:54:36\", some are 1552399367000\n  // alert(+ new Date(dateTimeStamp))\n  var newdateTimeStamp = typeof dateTimeStamp === 'string' ? +new Date(dateTimeStamp.replace(/-/g, '/')) : dateTimeStamp;\n  var minute = 1000 * 60;\n  var hour = minute * 60;\n  var day = hour * 24;\n  var halfamonth = day * 15;\n  var month = day * 30;\n  var year = month * 12;\n  var now = new Date().getTime();\n  var diffValue = now - newdateTimeStamp;\n  if (diffValue < 0) {\n    return;\n  }\n  var yearC = diffValue / year;\n  var monthC = diffValue / month;\n  var weekC = diffValue / (7 * day);\n  var dayC = diffValue / day;\n  var hourC = diffValue / hour;\n  var minC = diffValue / minute;\n  if (yearC >= 1) {\n    result = \"\" + parseInt(yearC) + \"年前\";\n  } else if (monthC >= 1) {\n    result = \"\" + parseInt(monthC) + \"月前\";\n  } else if (weekC >= 1) {\n    result = \"\" + parseInt(weekC) + \"周前\";\n  } else if (dayC >= 1) {\n    result = \"\" + parseInt(dayC) + \"天前\";\n  } else if (hourC >= 1) {\n    result = \"\" + parseInt(hourC) + \"小时前\";\n  } else if (minC >= 1) {\n    result = \"\" + parseInt(minC) + \"分钟前\";\n  } else result = \"刚刚\";\n  return result;\n}\nfunction toMidi(midiNum) {\n  return Tone.Frequency(midiNum, \"midi\").toNote();\n}\n// CONCATENATED MODULE: ./src/_common/js/directives.js\nvar longpress = {\n  bind: function bind(el, binding, vNode) {\n    // Make sure expression provided is a function\n    if (typeof binding.value !== 'function') {\n      // Fetch name of component\n      var compName = vNode.context.name;\n      // pass warning to console\n      var warn = '[longpress:] provided expression \\'' + binding.expression + '\\' is not a function, but has to be';\n      if (compName) {\n        warn += 'Found in component \\'' + compName + '\\' ';\n      }\n\n      console.warn(warn);\n    }\n\n    // Define variable\n    var pressTimer = null;\n\n    // Define funtion handlers\n    // Create timeout ( run function after 1s )\n    var start = function start(e) {\n\n      if (e.type === 'click' && e.button !== 0) {\n        return;\n      }\n\n      if (pressTimer === null) {\n        pressTimer = setTimeout(function () {\n          // Run function\n          handler();\n        }, 600);\n      }\n    };\n\n    // Cancel Timeout\n    var cancel = function cancel(e) {\n      // Check if timer has a value or not\n      if (pressTimer !== null) {\n        clearTimeout(pressTimer);\n        pressTimer = null;\n      }\n    };\n    // Run Function\n    var handler = function handler(e) {\n      binding.value(e);\n    };\n\n    // Add Event listeners\n    el.addEventListener(\"mousedown\", start);\n    el.addEventListener(\"touchstart\", start);\n    // Cancel timeouts if this events happen\n    el.addEventListener(\"click\", cancel);\n    el.addEventListener(\"mouseout\", cancel);\n    el.addEventListener(\"touchend\", cancel);\n    el.addEventListener(\"touchcancel\", cancel);\n  }\n};\n// EXTERNAL MODULE: ./node_modules/vue-analytics/dist/vue-analytics.js\nvar vue_analytics = __webpack_require__(\"AYPi\");\nvar vue_analytics_default = /*#__PURE__*/__webpack_require__.n(vue_analytics);\n\n// CONCATENATED MODULE: ./src/main.js\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n// import VueTouch from 'vue-touch';\n\n\n// import infiniteScroll from 'vue-infinite-scroll'\n\n\n\n\n\n\n\n// Vue.use(VueTouch, { name: 'v-touch' });\nvue_esm[\"a\" /* default */].use(vue_analytics_default.a, {\n  id: 'UA-138246971-1',\n  router: router\n});\nvue_esm[\"a\" /* default */].use(lib_default.a, { defaultType: 'center', duration: 2500, wordWrap: false, width: 'auto' });\n// Vue.use(infiniteScroll)\nvue_esm[\"a\" /* default */].config.productionTip = false;\nvue_esm[\"a\" /* default */].filter('getDateDiff', getDateDiff);\nvue_esm[\"a\" /* default */].directive('longpress', longpress);\n\nvar store = createStore();\nObject(vuex_router_sync[\"sync\"])(store, router);\n\n/* eslint-disable no-new */\nnew vue_esm[\"a\" /* default */]({\n  el: '#app',\n  router: router,\n  store: store,\n  template: '<App/>',\n  components: { App: src_App }\n});\n\n/***/ }),\n\n/***/ \"SaBO\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ \"TAvg\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"UljX\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTlweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMTkgMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT7kuIvovb0t5a6e5b+DPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9Im1haW4yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i6Z+z5LmQ5bm/5Zy6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYwLjAwMDAwMCwgLTUxOC4wMDAwMDApIiBmaWxsPSIjOEM4QzkyIj4KICAgICAgICAgICAgPHBhdGggZD0iTTI3My45MTYxMiw1MzEgTDI3Ny42NTk0Myw1MzEgQzI3OC4yMTE3MTQsNTMxIDI3OC42NTk0Myw1MzEuNDQ3NzE1IDI3OC42NTk0Myw1MzIgQzI3OC42NTk0Myw1MzIuMjgwMTQxIDI3OC41NDE5MjEsNTMyLjU0NzQzNyAyNzguMzM1NTA0LDUzMi43MzY4MzQgTDI3MC4wMDU3OTIsNTQwLjM3OTY3NSBDMjY5LjYyMzM2OSw1NDAuNzMwNTY0IDI2OS4wMzYwNjcsNTQwLjczMDU2NCAyNjguNjUzNjQ0LDU0MC4zNzk2NzUgTDI2MC4zMjM5MzIsNTMyLjczNjgzNCBDMjU5LjkxNjk5LDUzMi4zNjM0NDggMjU5Ljg4OTc4Nyw1MzEuNzMwODY4IDI2MC4yNjMxNzIsNTMxLjMyMzkyNiBDMjYwLjQ1MjU2OCw1MzEuMTE3NTA4IDI2MC43MTk4NjQsNTMxIDI2MS4wMDAwMDYsNTMxIEwyNjQuNzQzMzE2LDUzMSBMMjY0Ljc0MzMxNiw1MTkgQzI2NC43NDMzMTYsNTE4LjQ0NzcxNSAyNjUuMTkxMDMxLDUxOCAyNjUuNzQzMzE2LDUxOCBMMjcyLjkxNjEyLDUxOCBDMjczLjQ2ODQwNCw1MTggMjczLjkxNjEyLDUxOC40NDc3MTUgMjczLjkxNjEyLDUxOSBMMjczLjkxNjEyLDUzMSBaIiBpZD0i5LiL6L29LeWunuW/gyI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"\n\n/***/ }),\n\n/***/ \"Vart\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjhweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMjggMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Db21iaW5lZCBTaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJtYWluMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8ZyBpZD0i6Z+z5LmQ5bm/5Zy6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzA3LjAwMDAwMCwgLTUxNy4wMDAwMDApIiBzdHJva2U9IiM4QzhDOTIiIHN0cm9rZS13aWR0aD0iMS4yIj4KICAgICAgICAgICAgPGcgaWQ9IuaooeWdly/lhavpn7Pnm5Lkv6Hmga8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwLjAwMDAwMCwgMTE2LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IuivtOaYjiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDM3OC44NDM0MDQpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i54K56LWeIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyODguMDAwMDAwLCAyMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQuMjAxMjM3NjYsMTUuNDUyODY2NCBDMC4wMzM0OTEyMTIsMTEuMDQ4ODk4OSAtMS4wOTYwODUzMyw2LjA3MTU4NTc2IDEuMDkzOTA3ODEsMi43ODgxMzc1NiBDMy4yNjU0NjExOSwtMC40Njc2NjQwMDggOS44NTY3MTQ2NywtMS45ODUyNjUzNSAxMyw0LjU3NjI1Nzg4IEMxNi4xNDMyODUzLC0xLjk4NTI2NTM1IDIyLjczNDUzODgsLTAuNDY3NjY0MDA4IDI0LjkwNjA5MjIsMi43ODgxMzc1NiBDMjcuMDk2MDg1Myw2LjA3MTU4NTc2IDI1Ljk2NjUwODgsMTEuMDQ4ODk4OSAyMS43OTg3NjIzLDE1LjQ1Mjg2NjQgQzE5LjkxNTgzOTUsMTcuNDQyNTEwMiAxNi45MzAwMzY4LDE5LjI5MTU1NDcgMTMsMjEgQzkuMDY5OTYzMjQsMTkuMjkxNTU0NyA2LjA4NDE2MDQ4LDE3LjQ0MjUxMDIgNC4yMDEyMzc2NiwxNS40NTI4NjY0IFoiIGlkPSJDb21iaW5lZC1TaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"\n\n/***/ }),\n\n/***/ \"XNAQ\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDNweCIgaGVpZ2h0PSI0M3B4IiB2aWV3Qm94PSIwIDAgNDMgNDMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT7lhavpn7Pnm5LmoIforrA8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8cG9seWdvbiBpZD0icGF0aC0xIiBwb2ludHM9IjAgMCAzNSAwIDM1IDM1Ij48L3BvbHlnb24+CiAgICAgICAgPGZpbHRlciB4PSItMjUuNyUiIHk9Ii0xNC4zJSIgd2lkdGg9IjE0MC4wJSIgaGVpZ2h0PSIxNDAuMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSItMiIgZHk9IjIiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgICAwIDAgMCAwIDAgICAwIDAgMCAwIDAgIDAgMCAwIDAuMiAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgICAgPGZpbHRlciB4PSItNTMuOCUiIHk9Ii00NS41JSIgd2lkdGg9IjIwNy43JSIgaGVpZ2h0PSIyMjcuMyUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC4xIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHJlc3VsdD0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwJSIgeTE9IjAlIiB4Mj0iNTAlIiB5Mj0iMTAwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTQiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIHN0b3Atb3BhY2l0eT0iMC40IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuaIkeeahF/llpzmrKIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNDIuMDAwMDAwLCAtOTUuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLlpb3lj4stKy3mjqjojZAtTWFzayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIuMDAwMDAwLCA5Ny4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLmjqjojZAiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC01Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuWFq+mfs+ebkuagh+iusCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2LjAwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJSZWN0YW5nbGUtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9IiM4Qzk1QTYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAiIGZpbHRlcj0idXJsKCNmaWx0ZXItMykiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4LjAwMDAwMCwgNS4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCw4LjMzMzMzMzMzIEwwLDMgTDEzLDMgTDEzLDguMzMzMzMzMzMgQzEzLDkuODA2MDkyNjcgMTAuMDg5ODUwOSwxMSA2LjUsMTEgQzIuOTEwMTQ5MTMsMTEgMCw5LjgwNjA5MjY3IDAsOC4zMzMzMzMzMyBaIiBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtNCkiIG9wYWNpdHk9IjAuOTAwMDAwMDM2Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVsbGlwc2UgaWQ9Ik92YWwtNyIgZmlsbD0iI0ZGRkZGRiIgY3g9IjYuNSIgY3k9IjIuNSIgcng9IjYuNSIgcnk9IjIuNSI+PC9lbGxpcHNlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"\n\n/***/ }),\n\n/***/ \"YMvE\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"YhRN\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjFweCIgaGVpZ2h0PSIyNXB4IiB2aWV3Qm94PSIwIDAgMjEgMjUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT7kuIvovb0t56m65b+DPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9Im1haW4yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPgogICAgICAgIDxnIGlkPSLpn7PkuZDlub/lnLoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzUuMDAwMDAwLCAtNTE3LjAwMDAwMCkiIHN0cm9rZT0iIzhDOEM5MiIgc3Ryb2tlLXdpZHRoPSIxLjIiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQ5LjkxNjEyLDUzMSBMMjUzLjY1OTQzLDUzMSBDMjU0LjIxMTcxNCw1MzEgMjU0LjY1OTQzLDUzMS40NDc3MTUgMjU0LjY1OTQzLDUzMiBDMjU0LjY1OTQzLDUzMi4yODAxNDEgMjU0LjU0MTkyMSw1MzIuNTQ3NDM3IDI1NC4zMzU1MDQsNTMyLjczNjgzNCBMMjQ2LjAwNTc5Miw1NDAuMzc5Njc1IEMyNDUuNjIzMzY5LDU0MC43MzA1NjQgMjQ1LjAzNjA2Nyw1NDAuNzMwNTY0IDI0NC42NTM2NDQsNTQwLjM3OTY3NSBMMjM2LjMyMzkzMiw1MzIuNzM2ODM0IEMyMzUuOTE2OTksNTMyLjM2MzQ0OCAyMzUuODg5Nzg3LDUzMS43MzA4NjggMjM2LjI2MzE3Miw1MzEuMzIzOTI2IEMyMzYuNDUyNTY4LDUzMS4xMTc1MDggMjM2LjcxOTg2NCw1MzEgMjM3LjAwMDAwNiw1MzEgTDI0MC43NDMzMTYsNTMxIEwyNDAuNzQzMzE2LDUxOSBDMjQwLjc0MzMxNiw1MTguNDQ3NzE1IDI0MS4xOTEwMzEsNTE4IDI0MS43NDMzMTYsNTE4IEwyNDguOTE2MTIsNTE4IEMyNDkuNDY4NDA0LDUxOCAyNDkuOTE2MTIsNTE4LjQ0NzcxNSAyNDkuOTE2MTIsNTE5IEwyNDkuOTE2MTIsNTMxIFoiIGlkPSLkuIvovb0t56m65b+DIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"\n\n/***/ }),\n\n/***/ \"bF52\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"cHe1\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"chZ4\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"e195\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"eTTF\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"g4AG\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"gNLL\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"h06G\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"iygZ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"mave\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAcCAYAAAB/E6/TAAAABGdBTUEAALGPC/xhBQAAApFJREFUSA3Nlc9rE1EQx2deQls1gqg9VMWK4E8U7UUQChJqBUsFUepFCKZVe8jBk/4biuaHOSSrBD14URB6MJsuiIcqHkSQgFLwt0JAFOOPmM0b54Xsxk1C3NWN+CDsm/dmvp83u/MmAB7H3Vx6SM+mJj2GgfAa8MOsRoFkzGucJxARIRDOENABQ0tt8ALzBCpoqTGGbWSAMEme7BmIMzllixNMG4YRtO3fTFxnZFxPrwagw009Gqo9L7ouCtegWqUWAYK+JohnkmYddhfDNYhINl9bQ1AVReFafLiLvr3lCpTPJEY5m612VHMioCJcFYXIZxOX8lp6ZzO2fYYIbdlYXpJk16KYzyW3FDLxi4JPug1k9bGejd8pZJIH63fFUuGnoWkruAimfllqna7pVBT61ct79UzipqxSUSKOqPK8xz++HzBOIMf1bLJY0BLnBSzNhaPR7zX57TgBLGlVd9hEp9m+pQ45fyU5KQnOkWmO1n04GBAXkIX384fOOwKVgVBCgBTHHuGMdrTtOxckCnGWW9MMH3i7c0txcAqNG4mQWYaPQBRodfDL7kNcL8LHYmU++SO/RDvovN03HXtllbf6Tj0ZXLH3lfA/AIkmKID1yutNRgQLdkbhaOw9p7joOwmxtioYemiDGgDfvxMSPNkViXxxghCe+p8R1LNxggiO+g3iprDZ0rSqju8rvrMWfXsSfLK0bJAIBM9w23lpbfz1k7Xqmg0hGzR2YnZxWWhghG/WBe5OX/8cxLGsMdAvditNS4e7T/tQ/U+W4RC/Y264sIedhvnfdHm7p+q9+Jn9XvD1eMB+ugjBbdXWWn07glqdlP1sbq7/9Yc3g2bNHFR2MBAsrVu5trRpYqKi7P9m/AQsKeY4+7W32gAAAABJRU5ErkJggg==\"\n\n/***/ }),\n\n/***/ \"naGj\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABGdBTUEAALGPC/xhBQAAA4ZJREFUWAnFl8trU0EUh5tHY1vRliqCohIK0jQhERV8QHXZvaAo2nZjS4sgKvh/qAtBcdudS93oRrEVraiVpiF9WFJMwUArhSQ25tX4TWDi3OvNbW5yTQeGOa8555czZ+aetLTYMCKRSDfzkg2uWpx2OCmVSsNbW1u37fBlF6BRQPWTpUCjoBoGBIh+wPgFELI0tuOAADEqQQBsKB6Pt0u+nrWhDMVisS5AXFYCdyWTySsKb5lsCFA6nR4ioiYjxWKxoWNrCBDZqRyXkoqz4XA4pPCWyLoBzc7OniNSsEq0urNUNyCHw2GUHYlvMJFI7JaMlbUuQMvLy50cV9XiRbd3bW3tqhUg0rYuQJlM5joOOqSTKut4Fbmp2CG+Qbwl68Fg8I2ppaKkaL+SheOKyJB0u92n/H7/F0OlTigeWG7oQSeO3czXBJmZm5sbRuHR2WpY9KdrASM2FQoF0+LGj5O4F7kg7wEz6XQ62x1LS0uHOYK4jEqxJpiPWltbH/f29q5LuVxx8BRHI5I3W/GTxs8hn8+XUu14UNtSqdQw+nv4OiZ1Ho/H5xAMCGMsXkHLgfFv6AlQPwgEAhEhn5+f35PL5X5AWrlB46FQ6InYT3a7AXCTErkFe0DIlLFB2exzCwHBpzD0KsoW+Db4EVI5QlZeAex+Pp8XNlbACJdj0Wj0Jcd3F183TPZPg6NUBkTwSQwHxW6jgX4AZwPoikb6bWQn+CHfsHGZ2QHmg9CXr73L5ZoyM1Z0pk4VOz257T5OYFpsKgPiakZB+FPvpVm8OCpO4C8gIWC8axYAfRxiL1L4G0JeeakBJepop0a5fkTwCiALdWQ7aJJRPi4NoL6+vs8IMrZHq8EhBf1vhkCZV5HW4Mcuk00uVVg6qxyZEOxQHX0ibsEQENVe63sk9ze86k9FkyHahcWGI1h0QP18VLdoAPG9MWtL1X220XxovaozDSAUR1Rlk2jNHwUNIGroeZNAVMIQ80WFgdAA4vl+RpE9VA3+Jy1iiZhqDA0goaBJukOhXYNcVQ1tpldFDBFL77fcMeqFghe9NQUneqRB0nqBddsWQuwzGUUy8ha96EIn6EJzRrZVAanGCwsL+2ldzwPsDE5PovMyj8LvUu0kjU0W+jszhs0M/DT98qRRjy73yLUmQNJYXQnkWFlZ6cxmsx30MuX/aHygN2nqf/X09CQBUVLta6X/ACwXZTQhUyKSAAAAAElFTkSuQmCC\"\n\n/***/ }),\n\n/***/ \"oB2d\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTExNTM2MTc3OTIyIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE4OTYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNzQyLjc1OSAxNTEuMDE5aC00NjIuNTE2Yy03MC40OTQgMC0xMjguMjM3IDU3Ljc0Mi0xMjguMjM3IDEyOC4yMzh2NDYyLjM3MmMwIDcwLjYzNiA1Ny43NDIgMTI4LjM3OSAxMjguMzgxIDEyOC4zNzloNDYyLjM3YzcwLjY0IDAgMTI4LjM3OS01Ny43NDQgMTI4LjM3OS0xMjguMzc5di00NjIuMzcyYy0wLjE0Mi03MC40OTUtNTcuODgyLTEyOC4yMzgtMTI4LjM3OC0xMjguMjM4eiIgcC1pZD0iMTg5NyIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjwvc3ZnPg==\"\n\n/***/ }),\n\n/***/ \"prJz\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"r+qM\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"rbt3\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"sHdO\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAqCAYAAACk2+sZAAAABGdBTUEAALGPC/xhBQAAAb1JREFUWAnd2D1KA0EYxvGsH6hg5UehncHGAyjaeAHBC2gjegQt9QYewVY7G0lpr95BWwu1Vgi4/h9hYMImu5OZd1bwhTeZDMP8ZpeHZbXTocqynKYnNW6rCsAdsEO6T9/TvaIovvnOWoIvEeY95YXxFfi7N2c+nGBHHxXQpc850LZ+5CrBw2qWySPwY3pu2ILUuVGw23eLga5+3U1YfTfBchbpU/B9OmR90NlCNyrYbY8+A18K2rlhUSjstukyuABPDt64sA4wQyt4J3R08GJg4apNWlcfFbwUWPgC7YI31iM3FRbugqcDLGsipCxg53QZBD/xLGEdIDh41rC7+sbg5YJ1gNrg5YSFu+DpiTcQvNywcNUaPRC8tmDhLngH+tEmLE+1y21f/QtYeH9Kny1WiXXL+9xbm/AHqF4in3WhbcFPWNegn0JVueEvjBvAh1/N+8gJ176f54AVoJ6aKx35F4k1PBAg785WhpZwJUAVzZuwgBUgJfbR27dxmArXBqhOj4WDAmQNBwfIEh4rQBZwVIBS4egAxcLJAYqBTQLUBL+yYMVbZBYgb8/KUP/12WBWL2C6tXc8gQT/3/oBHj+gWM3YV28AAAAASUVORK5CYII=\"\n\n/***/ }),\n\n/***/ \"t0gW\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ \"v2ns\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"vmYS\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ \"wJ+Q\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"x2ag\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAsCAYAAAAacYo8AAAABGdBTUEAALGPC/xhBQAABIRJREFUWAnVmV1oHFUUx/9ndjdqUxJaW/ygYqAtamNsfVDqg/ii0ocWwS+qtRZDa0RqE2JFFPTRl2xTSVEIRYqCID76IvhiH/ykH9nNh1pi0NSi1FJt0ibVbHaO587szM5k7s7OxFl3HNidueeeOed3zz333rkzQIMOnnhnJRcHdjbIPIxGGcbCX0/BpP5G2W8cOPFegO/h8UObGwHfEHAeHewC870WcImf/9+AwzT3VWF5F/86vKJaTuYq8YjzT8eulRR5xoPXjvNXnvSUE7lMHByXLj4Gxio/nZl4uiQPTpBBGTjuk6nxzoD0XwgSBeeJwQ3C8oCWhw1P3ms1YgkTBUdJpkBm0hOYu+3819fGlSYGzvx5FjD31ARQeT9z8Yma9TErEgNH4dR2GZQ3hvvnxNIlOXD9oPS3g3E/j+Zv9wuXV0oEnItD6yTa2yIhmMlEPRFwcOk5WXQykcAZe3hy6JpIuiFKFjgXDm2XX/dyDLI1i3B3iI+lVddjfuHRpcJ6ZTX4uZDfLevBDqVbiTj9Djbfw9zCtDTgDT6TX1PPkFtfPPyQTIEdbjnKBSPyIBXQVi7me1E4OSV+PgAyl5QLa85lHs6hcHlGuvs62y9dlZr3Qdm3aXPfmTAWHsl/LPfFm+aIGC2522hT72Qt21bwruIlqd8vwKsreou4oa2dbu6ZtyJO1FMS0G+rRqQBzC+AF7+X7vlEHlO1q6Gk1loQP1K9L+KVSq9SSRt1HjncIb1+BPM4KwxveqBVmMcVtPJSSRXL4RcBt8oB8w6Uy8e5MHBKGvC0vdBUNOcWnpXZpCVwXxSBGqSqpyuH2nDwyMCHQPlHSdv91d53NKyzG1x3eebi4DaY5U99aroC4ZzADgHZo8DiV6Jyh04tmsyQx13zgkTy1UjTKaGbtrxyTNmugk8Nt+Py7B9iwNsLIf5lHLhjIkQttCqmjRbqpM6D3ymTLiSt75kR6PFQP75KZyD7hDELcWzQLDa9/IPjwAW3BRTMc0ez2WfCCSIyHQw/uIH0grN31vOkitWSbO5Lp0WpOxvkziiKzRdx6uw9C6JfUgdtkWZqg1vAnMZ0oWnq6jvvDagv4nYFpS9dfKu6TRkEz6Uy4r40UehB8M7+MVmXZu12peSfjfrg1lxJ+DolyApjEWv49FKeYMRtjfTM50RjdEu/PF74jxrgqRqggTRRTdCDG3STv31NLU3rvOvBy2afTrlJssd1fvXghOh7Tp3VZGXOts1nVQ8OHPdpNbegZdGDZ7KvyVz+W3N5lXdhsFiCJFpw67mgBQ/KA9dE8Jb/SKJ8C8PSZxTHu7t1cwTes/Xt5sLs6/LZT14TcJu3rnHXsmobfARr295ydvQ6X6Hgzg08+u4qlOf3yQ51p+z673bkiZ6JRmTr+BEyK47SXS/+Wc92JHCvER4bWg+z9LB8WdsqqbRV6jZKY+LZUS+EgEm57xsYhvxyn1HXgSmvn3rX8RxqrFnvG+dKt8pA6pB0WgcyV4paK5jsT4TE6gXOHNi4IjrnROdntOamaeOBv0W+7OMfnuVy0lDJjogAAAAASUVORK5CYII=\"\n\n/***/ }),\n\n/***/ \"zjgq\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.0d49ba3f62883c7e7341.js","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjZweCIgaGVpZ2h0PSIyMnB4IiB2aWV3Qm94PSIwIDAgMjYgMjIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Db21iaW5lZCBTaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJtYWluMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iumfs+S5kOW5v+WcuiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwOC4wMDAwMDAsIC01MTcuMDAwMDAwKSIgZmlsbD0iIzhDOEM5MiI+CiAgICAgICAgICAgIDxnIGlkPSLmqKHlnZcv5YWr6Z+z55uS5L+h5oGvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMC4wMDAwMDAsIDExNi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLor7TmmI4iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAzNzguODQzNDA0KSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IueCuei1niIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjg4LjAwMDAwMCwgMjMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00LjIwMTIzNzY2LDE1LjQ1Mjg2NjQgQzAuMDMzNDkxMjEyLDExLjA0ODg5ODkgLTEuMDk2MDg1MzMsNi4wNzE1ODU3NiAxLjA5MzkwNzgxLDIuNzg4MTM3NTYgQzMuMjY1NDYxMTksLTAuNDY3NjY0MDA4IDkuODU2NzE0NjcsLTEuOTg1MjY1MzUgMTMsNC41NzYyNTc4OCBDMTYuMTQzMjg1MywtMS45ODUyNjUzNSAyMi43MzQ1Mzg4LC0wLjQ2NzY2NDAwOCAyNC45MDYwOTIyLDIuNzg4MTM3NTYgQzI3LjA5NjA4NTMsNi4wNzE1ODU3NiAyNS45NjY1MDg4LDExLjA0ODg5ODkgMjEuNzk4NzYyMywxNS40NTI4NjY0IEMxOS45MTU4Mzk1LDE3LjQ0MjUxMDIgMTYuOTMwMDM2OCwxOS4yOTE1NTQ3IDEzLDIxIEM5LjA2OTk2MzI0LDE5LjI5MTU1NDcgNi4wODQxNjA0OCwxNy40NDI1MTAyIDQuMjAxMjM3NjYsMTUuNDUyODY2NCBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/heartfill.svg\n// module id = 48cV\n// module chunks = 1","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/123-0.png\n// module id = M+BT\n// module chunks = 1","import * as Cookies from 'js-cookie';\n// import Vue from 'vue';\nconst axios = require('axios');\n\naxios.interceptors.response.use((res) => {\n  if (res.data.errcode !== '0') {\n    alert(res.data.resmsg);\n    return Promise.reject(res);\n  }\n  return res;\n});\nconst reqConfig = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    // 'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJ1aWQiOjIzOSwic3ViIjoiMjM5IiwiZXhwIjoxNTU1MjIyNzcxLCJpYXQiOjE1NTI2MzA3NzEsImp0aSI6IjE1NTI2MzA3NzE2MzgifQ.J1WNccABxwadbcjF-GsCLUhBhyROpcxP52g6JXW0vKI'\n  },\n};\n// const tokenObj = { access_token: '' };\n// TODO:cause 500?????? just cuz this few lines???\n\nexport function getUserInfo(wxcode) {\n  const tokenInCookie = Cookies.get('serviceToken');\n  if (tokenInCookie) {\n    // alert('cookie used');\n    reqConfig.headers.Authorization = `${tokenInCookie}`;\n    // tokenObj.access_token = tokenInCookie;\n    return axios.get('//api.octave-love.com/api/v1/user/getInfo', reqConfig);\n  } else if (!tokenInCookie && wxcode) {\n    // alert('no cookie');\n    return new Promise((resolve, reject) => {\n      axios\n        .post(\n          `//api.octave-love.com/api/v1/user/oauth/wechat/callback?code=${wxcode}`,\n          '',\n          reqConfig,\n        )\n        .then(\n          (res) => {\n            if (res.data.errcode === 20001) {\n              reject(20001); // 相当于return了\n            }\n            const serviceToken = res.data.data.id_token;\n            reqConfig.headers.Authorization = `${serviceToken}`;\n            // tokenObj.access_token = serviceToken;\n            Cookies.set('serviceToken', serviceToken, {\n              expires: 30,\n            });\n            return axios.get('//api.octave-love.com/api/v1/user/getInfo', reqConfig);\n          },\n          () => {\n            reject();\n          },\n        )\n        .then((res) => {\n          resolve(res);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n  // !tokenInCookie&&!wxcode的情况在app.js里处理, 不会走到这里\n  return false;\n}\n\nexport function uploadRecord(record, info) {\n  return new Promise((resolve, reject) => {\n    // create a new midi file\n    const midi = MidiConvert.create();\n    console.log('record', record);\n    // record = [{ \"note\": \"E4\", \"time\": 0 }, { \"note\": \"E5\", \"time\": 0.098 }, { \"note\": \"G5\", \"time\": 1.058 }, { \"note\": \"G4\", \"time\": 1.074 }, { \"note\": \"A5\", \"time\": 1.074 }, { \"note\": \"A4\", \"time\": 1.102 }, { \"note\": \"C5\", \"time\": 1.19 }, { \"note\": \"G5\", \"time\": 1.69 }, { \"note\": \"A5\", \"time\": 2.029 }, { \"note\": \"A4\", \"time\": 2.047 }, { \"note\": \"A5\", \"time\": 2.109 }, { \"note\": \"F5\", \"time\": 2.198 }, { \"note\": \"G5\", \"time\": 2.587 }, { \"note\": \"A5\", \"time\": 2.646 }, { \"note\": \"C6\", \"time\": 3.082 }, { \"note\": \"A5\", \"time\": 3.582 }, { \"note\": \"A4\", \"time\": 3.7 }, { \"note\": \"A5\", \"time\": 3.702 }, { \"note\": \"G4\", \"time\": 4.541 }, { \"note\": \"G5\", \"time\": 4.569 }, { \"note\": \"E5\", \"time\": 5.074 }, { \"note\": \"E4\", \"time\": 5.075 }, { \"note\": \"C5\", \"time\": 6.015 }, { \"note\": \"E5\", \"time\": 6.209 }, { \"note\": \"E4\", \"time\": 6.239 }, { \"note\": \"G5\", \"time\": 6.498 }, { \"note\": \"A5\", \"time\": 6.881 }, { \"note\": \"G5\", \"time\": 7.331 }, { \"note\": \"E5\", \"time\": 7.778 }, { \"note\": \"E4\", \"time\": 7.779 }, { \"note\": \"G5\", \"time\": 8.445 }, { \"note\": \"G4\", \"time\": 8.46 }, { \"note\": \"F5\", \"time\": 8.966 }, { \"note\": \"A4\", \"time\": 9.059 }, { \"note\": \"A5\", \"time\": 9.06 }, { \"note\": \"A5\", \"time\": 9.449 }, { \"note\": \"C6\", \"time\": 9.866 }, { \"note\": \"A4\", \"time\": 10.126 }, { \"note\": \"A5\", \"time\": 10.127 }, { \"note\": \"A5\", \"time\": 10.317 }, { \"note\": \"A5\", \"time\": 11.56 }, { \"note\": \"A4\", \"time\": 11.598 }, { \"note\": \"C5\", \"time\": 11.6 }, { \"note\": \"B4\", \"time\": 11.8 }, { \"note\": \"E5\", \"time\": 12.093 }, { \"note\": \"C5\", \"time\": 12.168 }, { \"note\": \"E5\", \"time\": 12.18 }, { \"note\": \"B4\", \"time\": 12.206 }, { \"note\": \"G5\", \"time\": 12.373 }, { \"note\": \"G4\", \"time\": 12.404 }, { \"note\": \"G5\", \"time\": 12.73 }, { \"note\": \"E5\", \"time\": 13.005 }, { \"note\": \"E4\", \"time\": 13.007 }, { \"note\": \"E5\", \"time\": 13.864 }, { \"note\": \"F5\", \"time\": 14.708 }, { \"note\": \"F4\", \"time\": 14.744 }, { \"note\": \"E4\", \"time\": 15.04 }, { \"note\": \"E5\", \"time\": 15.098 }, { \"note\": \"D5\", \"time\": 15.478 }, { \"note\": \"D4\", \"time\": 15.479 }, { \"note\": \"D5\", \"time\": 16.1 }, { \"note\": \"G5\", \"time\": 16.573 }, { \"note\": \"B5\", \"time\": 16.901 }, { \"note\": \"G5\", \"time\": 17.33 }, { \"note\": \"C4\", \"time\": 17.382 }, { \"note\": \"C5\", \"time\": 17.426 }, { \"note\": \"C5\", \"time\": 17.749 }, { \"note\": \"E5\", \"time\": 18.796 }, { \"note\": \"F5\", \"time\": 19.343 }]\n\n    // add a track\n    // midi\n    //   .track()\n    //   // select an instrument by its MIDI patch number\n    //   .patch(32)\n    //   // chain note events: note, time, duration\n    //   .note(60, 0, 2)\n    //   .note(63, 1, 2)\n    //   .note(60, 2, 2);\n\n    record.reduce((acc, cur) => {\n      return acc.note(\n        Tone.Frequency(cur.note).toMidi(),//midiNo,\n        cur.time, //startTime,\n        1//duration,\n        //velocity\n      );\n    }, midi.track(0).patch(32));\n\n    const formReqConfig = {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        processData: false,\n        Authorization: reqConfig.headers.Authorization,\n      },\n    };\n    // const blob = new Blob([JSON.stringify(record)]);\n    // const blob = new Blob([JSON.stringify(midi.encode())]);\n\n    const binaryString = midi.encode();\n    // write the output\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i < binaryString.length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    const blob = new Blob([bytes], {\n      type: 'audio/midi;charset=binary',\n    });\n    const reader = new FileReader();\n    reader.onload = async (event) => {\n      const fd = new FormData();\n      // fd.append('fname', 'test.txt');\n      fd.append('fname', 'output.mid');\n      fd.append('data', event.target.result);\n      // fd.append('access_token', tokenObj.access_token);\n      let postFix = '';\n      try {\n        // important, othereise dispatch won't be stoped here...\n        postFix = await axios.post('//api.octave-love.com/api/v1/uploadAudio', fd, formReqConfig);\n      } catch (e) {\n        console.log(e);\n        reject(e);\n      }\n      const workURL = `${postFix.data.data}`;\n      const param = {\n        // ...tokenObj,\n        ...info, // title,content.cover\n        url: workURL,\n      };\n      console.log(workURL);\n      return axios\n        .post('//api.octave-love.com/api/v1/work/create', JSON.stringify(param), reqConfig)\n        .then((res) => {\n          resolve(res.data.data);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    };\n    reader.readAsDataURL(blob);\n  });\n  // trigger the read from the reader...\n}\nexport function downloadAsWav(blob) {\n  const formReqConfig = {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n      processData: false,\n      Authorization: reqConfig.headers.Authorization,\n    },\n  };\n  return new Promise(async (resolve, reject) => {\n    const fd = new FormData();\n    fd.append('files', blob)\n    try {\n      // important, othereise dispatch won't be stoped here...\n      const postFix = await axios.post('//api.octave-love.com/api/v1/picture/uploadPic', fd, formReqConfig);\n      const wavURL = `${postFix.data.data}`;\n      console.log(wavURL);\n      resolve(wavURL)\n    } catch (e) {\n      console.log(e);\n      reject(e);\n    }\n\n    /*****底下没jb用，uploadPic直接等着文件流，不需要读成base64 */\n    //const reader = new FileReader();\n    // reader.onload = async (event) => {\n    //   const fd = new FormData();\n    //   // fd.append('fname', 'output.wav');\n    //   // fd.append('data', event.target.result);\n    //   // fd.append('access_token', tokenObj.access_token);\n    //   let postFix = '';\n    //   try {\n    //     // important, othereise dispatch won't be stoped here...\n    //     postFix = await axios.post('//api.octave-love.com/api/v1/picture/uploadPic', fd, formReqConfig);\n    //   } catch (e) {\n    //     console.log(e);\n    //     reject(e);\n    //   }\n    //   const wavURL = `${postFix.data.data}`;\n    //   console.log(wavURL);\n    //   resolve(wavURL)\n    // };\n    // reader.readAsDataURL(blob);\n  })\n}\nexport function fetchMbox(id) {\n  return axios.get(`//api.octave-love.com/api/v1/work/detail/${id}`, reqConfig);\n}\nexport function fetchMusixiser(id) {\n  return axios.get(`//api.octave-love.com/api/v1/user/detail/${id}`, reqConfig);\n}\nexport function fetchWorksFromMusixiser(id, page) {\n  return axios.get(\n    `//api.octave-love.com/api/v1/work/getListByUid/${id}?page=${page}&size=14`,\n    reqConfig,\n  );\n}\nexport function fetchFavWorks(id, page) {\n  return axios.get(\n    `//api.octave-love.com/api/v1/favorite/getWorkList/${id}?page=${page}&size=14`,\n    reqConfig,\n  );\n}\nexport function toggleFavSong({ workId, status }) {\n  return axios.post(\n    '//api.octave-love.com/api/v1/favorite/create',\n    JSON.stringify({ workId, status }),\n    reqConfig,\n  );\n  // .then((res) => { console.log(res); })\n  // .catch((err) => { console.log(err); });\n}\nexport function updateWork({ id, title, cover, content, status }) {\n  return axios.put(\n    `//api.octave-love.com/api/v1/work/updateWork/${id}`,\n    JSON.stringify({ title, cover, content, status }),\n    reqConfig,\n  );\n  // .then((res) => { console.log(res); })\n  // .catch((err) => { console.log(err); });\n}\nexport function getRecommendations() {\n  return axios.post('//api.octave-love.com/api/v1/home', '', reqConfig);\n}\n\nexport function createOrder({ pid, wid, amount, addressId, message }) {\n  return axios.post(\n    '//api.octave-love.com/api/v1/shop/orders/create',\n    JSON.stringify({ pid, wid, amount, addressId, message }),\n    reqConfig,\n  );\n}\n\nexport function payOrder({ orderId }) {\n  return axios.post(\n    `//api.octave-love.com/api/v1/shop/pay/unifiedorder?orderId=${orderId}`,\n    '',\n    reqConfig,\n  );\n}\nexport function fetchOrders(page) {\n  return axios.get(`//api.octave-love.com/api/v1/shop/orders/myOrderList?page=${page}&size=14`, reqConfig,\n  );\n}\n\nexport function sendAddress(addressVO) {\n  return axios.post(\n    '//api.octave-love.com/api/v1/shop/address/create',\n    JSON.stringify(addressVO),\n    reqConfig\n  )\n}\nexport function getWXMedia({ media_id }) {\n  return axios.post(`//api.octave-love.com/api/v1/wechat/saveMedia?media_id=${media_id}`,\n    '',\n    reqConfig,\n  );\n}\nexport function fetchProductList() {\n  return axios.get(\n    '//api.octave-love.com/api/v1/admin/shop/products',\n    reqConfig\n  )\n}\n\nexport function fetchStacks({ page, size }) {\n  return axios.get(\n    `//api.octave-love.com//api/v1/admin/works?page=${page}&size=${size}`,\n    reqConfig\n  )\n}\n\nexport function fetchSquareWorks({ page, size, category, orderStrategy, id }) {\n  let reqUrl = `//api.octave-love.com/api/v1/home?page=${page}&size=${size}`\n  if (category) reqUrl += `&category=${category}`\n  if (orderStrategy) reqUrl += `&orderStrategy=${orderStrategy}`\n  return axios.get(\n    reqUrl,\n    reqConfig,\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/api.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b4e9e83a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b4e9e83a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","export function getUrlParam(key) {\n  const reg = new RegExp(`[?|&]${key}=([^&]+)`);\n  const match = location.search.match(reg);\n  return match && match[1];\n}\n\nexport function getUrlParam1(key) {\n  const reg = new RegExp(`[?|&]${key}=([^&]+)`);\n  const match = location.search.match(reg);\n  return match && match[1];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/util.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a687a94\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a687a94\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0a687a94\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a705d7d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BigCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BigCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BigCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a705d7d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BigCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a705d7d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/BigCard.vue\n// module id = null\n// module chunks = ","const Tone = require('tone');\nvar toWav = require('audiobuffer-to-wav')\n\nTone.Transport.cancel();\nconst SAME_NOTE_INTERVAL = 1; // 同一个音不能相距小于1秒，不然音片打击出问题\nlet musicPreview;\n\nlet oncePlayed = false;\n// notesInfo example\n// let work = [{note: \"E4\", time: 0.14585000000000037},\n// {note: \"G4\", time: 1.0295},\n// {note: \"G4\", time: 1.3985},\n// {note: \"E4\", time: 2.6605300000000005},\n// {note: \"D4\", time: 3.4207450000000006},\n// {note: \"C4\", time: 4.196245000000001},\n// {note: \"G4\", time: 2.671395000000004},\n// {note: \"A4\", time: 3.35932},\n// {note: \"B4\", time: 4.183044999999998}]\n// const mbox = new Tone.MonoSynth({\n//   volume: -10,\n//   envelope: {\n//     attack: 0.1,\n//     decay: 0.3,\n//     release: 2,\n//   },\n//   filterEnvelope: {\n//     attack: 0.001,\n//     decay: 0.01,\n//     sustain: 0.5,\n//     baseFrequency: 200,\n//     octaves: 2.6,\n//   },\n// }).toMaster();\n// const mbox = new Tone.PolySynth(6, Tone.Synth, {\n//   oscillator: {\n//     partials: [0, 2, 3, 4],\n//   },\n// }).toMaster();\n// const mbox = new Tone.Sampler({\n//   C4: 'C4.[mp3|ogg]',\n//   'D#4': 'Ds4.[mp3|ogg]',\n//   'F#4': 'Fs4.[mp3|ogg]',\n//   A4: 'A4.[mp3|ogg]',\n//   C5: 'C5.[mp3|ogg]',\n//   'D#5': 'Ds5.[mp3|ogg]',\n//   'F#5': 'Fs5.[mp3|ogg]',\n//   A5: 'A5.[mp3|ogg]',\n//   C6: 'C6.[mp3|ogg]',\n// }, {\n//   release: 1,\n//   baseUrl: '/static/audio/',\n// }).toMaster();\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\nconst mbox = new Tone.Sampler(\n  {\n    B3: 'B3.[mp3|ogg]',\n    E4: 'E4.[mp3|ogg]',\n    G4: 'G4.[mp3|ogg]',\n    B4: 'B4.[mp3|ogg]',\n    'C#5': 'Cs5.[mp3|ogg]',\n    E5: 'E5.[mp3|ogg]',\n    G5: 'G5.[mp3|ogg]',\n    B5: 'B5.[mp3|ogg]',\n    'C#6': 'Cs6.[mp3|ogg]',\n  },\n  {\n    release: 1,\n    // baseUrl: '/static/audio/mbox/',\n    baseUrl: '//cnbj1.fds.api.xiaomi.com/mbox/audio/mbox/',\n  },\n).toMaster();\n\nexport function RealMagic(items) {\n  console.log('== Enter RealMagic ==');\n  console.log(JSON.stringify(items));\n  const tasksObj = {};\n  items.forEach((item) => {\n    //* 2 cuz print mbox need 1 octave higher.\n    const itemNoteFreq = parseInt(Tone.Frequency(item.note).toFrequency() * 2, 10);\n    if (!tasksObj[itemNoteFreq]) {\n      tasksObj[itemNoteFreq] = [];\n    }\n    tasksObj[itemNoteFreq].push(item.time);\n  });\n  // tasksObj is like {784:[1.0295,1.39,2.6713],659:[2.66],...}\n\n  // then we focus on each task\n  const taskTypes = Object.keys(tasksObj); // [659,784,...]  freq array, 排好序的（object.keys）\n  const taskTimeArrays = Object.values(tasksObj); // [[2.66]，[1.0295,1.39,2.6713]] 顺序跟上面对应的\n  // const taskTimeArraysCycle = taskTimeArrays.map(a => a.map(b => [b, b + 20]).flat().sort((a, b) => a - b)) //考虑首位交接[[2.66,22.66],[1.0295,1.39,2.6713,21.0295,21.39,22.6713]]\n  const taskTimeArraysCycle = taskTimeArrays.map(a => a.map(b => [b, b + 20]).reduce((acc, val) => acc.concat(val), []).sort((a, b) => a - b)) //flat方法摩羯浏览器不支持\n\n  const machines = []; // init with existing types, will add more machines\n  const groups = []; // will final be [[1],[1,2,1],...], corespond to taskTimeArrays\n\n  if (taskTypes.length > 18) {\n    console.log('音种类超过18个，这个做不了');\n    return false;\n  }\n\n  taskTimeArraysCycle.forEach((timeArray) => {\n    const final = [];\n    timeArray.forEach((time, j) => {\n      const test = []; // 校验当前final里不能用的序号， final里序号种类和test种类相同则证明不行\n      let allPreviousOccupied = false;\n      let successFound = false;\n      if (j === 0) {\n        final.push(1); // 给第1组的第一个任务分配第一个机器\n      } else {\n        let counter = j;\n        while (counter >= 1 && !allPreviousOccupied) {\n          // TODO: -1 or 0\n          counter -= 1;\n          if (\n            time - timeArray[counter] >= SAME_NOTE_INTERVAL &&\n            test.indexOf(final[counter]) === -1\n          ) {\n            final.push(final[counter]);\n            successFound = true;\n            break;\n          } else if (test.indexOf(final[counter]) === -1) {\n            test.push(final[counter]);\n            if ([...new Set(final)].length === [...new Set(test)].length) {\n              // final目前已有的都不满足，set可以取unique elements [1,1,2,2,3,1] => [1,2,3]\n              allPreviousOccupied = true;\n              break;\n            }\n          }\n        }\n        if ((counter === 0 && !successFound) || allPreviousOccupied) {\n          final.push(Math.max(...final) + 1);\n        }\n      }\n    });\n    groups.push(final);\n  });\n  // console.log(taskTypes);\n  // console.log(taskTimeArrays);\n  // console.log('hehe', groups); // [[1],[1,2,1],...], corespond to taskTimeArrays\n\n  // now we have groups, let's build machines based on this\n  groups.forEach((group, index) => {\n    let count = 0;\n    while (count <= Math.max(...group) - 1) {\n      machines.push(taskTypes[index]);\n      count += 1;\n    }\n  });\n  if (machines.length < 18) {\n    const lastMachine = machines[machines.length - 1];\n    while (machines.length < 18) {\n      machines.push(lastMachine); // make it length of 18\n    }\n    // machines is like [\"1046\", \"1174\", \"1318\", \"1318\", \"1318\", \"1396\", \"1567\"] of 18 length\n  } else if (machines.length > 18) {\n    console.log('所需音片儿超过18个');\n    return false;\n  }\n  return true;\n}\n\nexport function mapNoteTimeToColor(time) {\n  const COLOR1 = [151, 255, 241];\n  const COLOR2 = [137, 228, 217];\n  const COLOR3 = [143, 123, 242];\n  const TIME_MAX = 20;\n  let rgb = [0, 0, 0];\n  if (time < 0 || time > TIME_MAX) {\n    // console.warn('we don\\'t allow time above 20. from \\'mapNoteTimeToColor\\' util function');\n  } else if (time <= 10) {\n    rgb = [\n      COLOR1[0] + time * (COLOR2[0] - COLOR1[0]) / (TIME_MAX / 2),\n      COLOR1[1] + time * (COLOR2[1] - COLOR1[1]) / (TIME_MAX / 2),\n      COLOR1[2] + time * (COLOR2[2] - COLOR1[2]) / (TIME_MAX / 2),\n    ];\n  }\n  rgb = [\n    COLOR2[0] + time * (COLOR3[0] - COLOR2[0]) / (TIME_MAX / 2),\n    COLOR2[1] + time * (COLOR3[1] - COLOR2[1]) / (TIME_MAX / 2),\n    COLOR2[2] + time * (COLOR3[2] - COLOR2[2]) / (TIME_MAX / 2),\n  ];\n  // console.log(`rgb(${Math.floor(rgb[0])},${Math.floor(rgb[1])},${Math.floor(rgb[2])})`);\n  return `rgb(${Math.floor(rgb[0])},${Math.floor(rgb[1])},${Math.floor(rgb[2])})`;\n}\nexport function mapNoteMidiToLength(noteName) {\n  // in our context, the midi range would be from 60 - 84\n  // 75 is rem to px\n  // return `${(75 * 0.8 * ((Tone.Frequency(noteName).toMidi() - 60) / (84 - 40))) + 0.2}`;\n  // 50 - 110\n  return `${75 * 0.8 * ((Tone.Frequency(noteName).toMidi() - 50) / (110 - 40)) + 0.2}`; // 75 is rem to px\n}\n\nexport function clearTone(parts) {\n  // 本方法只为Tone.js不在各页面中全局污染，完全是作者这包操蛋\n  if (parts && parts.length) {\n    // 传进来值 挨个dispose。。。\n    parts.forEach((part) => {\n      try {\n        part.dispose();\n      } catch (e) {\n        //\n      }\n    });\n  }\n  if (musicPreview) {\n    // 清理自己的musicPreview\n    try {\n      musicPreview.dispose();\n    } catch (e) {\n      //\n    }\n  }\n}\nexport function preview(items, start) {\n  console.log('current state', Tone.Transport.state);\n  // if (Tone.Transport.state === 'stopped') {\n  if (start) {\n    // TODO: this is weird...but you need to play something to make sure it works\n    // trigger to avoid no sound\n    if (!oncePlayed) {\n      console.log('pp')\n      mbox.triggerAttack('E6', 0, 0);\n      oncePlayed = true;\n    }\n    if (musicPreview) {\n      try {\n        musicPreview.dispose();\n      } catch (e) {\n        //\n      }\n    }\n    musicPreview = new Tone.Part((time, value) => {\n      // mbox.triggerAttackRelease(value.note, '4n', time);\n      mbox.triggerAttackRelease(Tone.Frequency(value.midi, 'midi'), '2n', time);\n    }, items).start(0, 0);\n    musicPreview.loop = true;\n\n    const lastNote = items[items.length - 1]\n    if (lastNote.time >= 20) {\n      musicPreview.loopEnd = lastNote.time + lastNote.duration + 2\n    } else {\n      musicPreview.loopEnd = 20; // 20s的作品，以前21秒，现在就20正好，弄啥样啥样，所听即所得\n    }\n    Tone.Transport.position = 0;\n    Tone.Transport.start('+0.01', 0);\n  } else {\n    Tone.Transport.stop(0);\n  }\n}\n\nexport function previewMidi(url, start) {\n  // TODO why so fucking tricky\n  return new Promise((resolve, reject) => {\n    if (start && !/.mid/.test(url)) { reject() }\n    else if (start) {\n      if (!oncePlayed) {\n        console.log('ppp')\n        mbox.triggerAttack('E6', 0, 0);\n        oncePlayed = true;\n      }\n      console.log('midi---url', url)\n      MidiConvert.load(url, (midi) => {\n        console.log('dasdsad', midi)\n        const mergeNotes = midi.tracks.reduce((a, b) => a.concat(b.notes), []);\n        preview(mergeNotes, start)\n      });\n      resolve()\n    } else {\n      Tone.Transport.stop(0);\n      resolve()\n    }\n\n  })\n}\nexport function bounceAsWavBlob(url) {\n  return new Promise((resolve, reject) => {\n    if (!/.mid/.test(url)) reject()\n    MidiConvert.load(url, (midi) => {\n      // https://github.com/Tonejs/Tone.js/issues/368\n      function renderOffline(callback, duration) {\n        // Set the OfflineAudioContext\n        let sampleRate = Tone.context.sampleRate\n        let originalContext = Tone.context\n        // Make sure to preserve original Transport if it has not be cached on the context yet\n        if (!originalContext.Transport) originalContext.Transport = Tone.Transport\n        // Create new OfflineContext and make it the default context\n        let context = new Tone.OfflineContext(2, duration, sampleRate)\n        Tone.context = context\n        function onReady() {\n          // process the audio\n          var rendered = context.render()\n          // return the original AudioContext\n          Tone.context = originalContext\n          // return the audio\n          return rendered.then(function (buffer) {\n            // wrap it in a Tone.Buffer\n            return new Tone.Buffer(buffer)\n          })\n        }\n        // invoke the callback/scheduling\n        callback(Tone.Transport, onReady)\n      }\n\n\n      renderOffline((Transport, render) => {\n        const synth = new Tone.Sampler({\n          B3: 'B3.[mp3]',\n          E4: 'E4.[mp3]',\n          G4: 'G4.[mp3]',\n          B4: 'B4.[mp3]',\n          'C#5': 'Cs5.[mp3]',\n          E5: 'E5.[mp3]',\n          G5: 'G5.[mp3]',\n          B5: 'B5.[mp3]',\n          'C#6': 'Cs6.[mp3]',\n        }, onSynthLoaded, '//cnbj1.fds.api.xiaomi.com/mbox/audio/mbox/').toMaster();\n\n        function onSynthLoaded() {\n          const mergeNotes = midi.tracks.reduce((a, b) => a.concat(b.notes), []);\n          mergeNotes.forEach(note => {\n            synth.triggerAttackRelease(Tone.Frequency(note.midi, 'midi'), '2n', note.time);\n          })\n          render().then((buffer) => {\n            // below is local generate download\n            // var anchor = document.createElement('a')\n            // document.body.appendChild(anchor)\n            // anchor.style = 'display: none'\n            // // alert('CONG')\n            // console.log(buffer)\n            // console.log(buffer.getChannelData())\n            // buffer.sampleRate = 44100 // 我艹这神了。。。没这个不行，不然读不出来sampleRate\n            // var wav = toWav(buffer)\n            // var blob = new window.Blob([new DataView(wav)], {\n            //   type: 'audio/wav'\n            // })\n\n            // var url = window.URL.createObjectURL(blob)\n\n            // anchor.href = url\n            // anchor.download = 'audio.wav'\n            // anchor.click()\n            // window.URL.revokeObjectURL(url)\n\n            // below is upload to have server return url\n            buffer.sampleRate = 44100 // 我艹这神了。。。没这个不行，不然读不出来sampleRate\n            var wav = toWav(buffer)\n            var blob = new window.Blob([new DataView(wav)], {\n              type: 'audio/wav'\n            })\n            console.log('blob generated successfully')\n            resolve(blob)\n          })\n        }\n      }, 20)\n    })\n  });\n}\n\nexport function canMakePaper30(items) {\n  const paper30Notes = [48, 50, 55, 57, 59, 60, 62, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 86, 88]\n  return items.every(item => paper30Notes.indexOf(item) >= 0)\n}\nexport function canMakePaper15(items) {\n  const paper15Notes = [48, 50, 52, 53, 55, 57, 59, 60, 62, 64, 65, 67, 69, 71, 72]\n  return items.every(item => paper15Notes.indexOf(item) >= 0)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/magic.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-789cc054\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Square.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Square.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Square.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-789cc054\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Square.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Square.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0866545f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NMBMaker.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NMBMaker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NMBMaker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0866545f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NMBMaker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0866545f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NMBMaker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d7b6d28\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./countButton.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./countButton.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./countButton.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d7b6d28\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./countButton.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4d7b6d28\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/countButton.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-619611f8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NMBViewer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NMBViewer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NMBViewer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-619611f8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NMBViewer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-619611f8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NMBViewer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f49f988e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./pieProgress.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./pieProgress.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./pieProgress.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f49f988e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./pieProgress.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f49f988e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/pieProgress.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b043526\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MBRollMaker.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MBRollMaker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MBRollMaker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b043526\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MBRollMaker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b043526\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MBRollMaker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29cb8019\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./workCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./workCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./workCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29cb8019\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./workCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-29cb8019\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/workCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-eba98184\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tagDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tagDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tagDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eba98184\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tagDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-eba98184\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/tagDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e5b918e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MusixiserDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MusixiserDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MusixiserDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e5b918e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MusixiserDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e5b918e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MusixiserDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d2538886\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MyFav.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyFav.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyFav.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d2538886\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyFav.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d2538886\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MyFav.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-12dc8390\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProductList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-12dc8390\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProductList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-12dc8390\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ProductList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc0d2e92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrderConfirm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderConfirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderConfirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc0d2e92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrderConfirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dc0d2e92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/OrderConfirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c56ec848\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Order.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Order.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c56ec848\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c56ec848\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/Order.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59a32344\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MyOrders.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyOrders.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyOrders.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59a32344\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyOrders.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-59a32344\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MyOrders.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-eee3c6b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./workFlatCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./workFlatCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./workFlatCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eee3c6b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./workFlatCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-eee3c6b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/workFlatCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21e82d53\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RankBoard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RankBoard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RankBoard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21e82d53\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RankBoard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-21e82d53\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RankBoard.vue\n// module id = null\n// module chunks = ","\nexport function getDateDiff(dateTimeStamp) {\n  let result = ''\n  // some are\"2019-03-12 22:54:36\", some are 1552399367000\n  // alert(+ new Date(dateTimeStamp))\n  const newdateTimeStamp = typeof dateTimeStamp === 'string' ? + new Date(dateTimeStamp.replace(/-/g, '/')) : dateTimeStamp\n  var minute = 1000 * 60;\n  var hour = minute * 60;\n  var day = hour * 24;\n  var halfamonth = day * 15;\n  var month = day * 30;\n  var year = month * 12;\n  var now = new Date().getTime();\n  var diffValue = now - newdateTimeStamp;\n  if (diffValue < 0) { return; }\n  var yearC = diffValue / year;\n  var monthC = diffValue / month;\n  var weekC = diffValue / (7 * day);\n  var dayC = diffValue / day;\n  var hourC = diffValue / hour;\n  var minC = diffValue / minute;\n  if (yearC >= 1) {\n    result = \"\" + parseInt(yearC) + \"年前\";\n  }\n  else if (monthC >= 1) {\n    result = \"\" + parseInt(monthC) + \"月前\";\n  }\n  else if (weekC >= 1) {\n    result = \"\" + parseInt(weekC) + \"周前\";\n  }\n  else if (dayC >= 1) {\n    result = \"\" + parseInt(dayC) + \"天前\";\n  }\n  else if (hourC >= 1) {\n    result = \"\" + parseInt(hourC) + \"小时前\";\n  }\n  else if (minC >= 1) {\n    result = \"\" + parseInt(minC) + \"分钟前\";\n  } else\n    result = \"刚刚\";\n  return result;\n}\nexport function toMidi(midiNum) {\n  return Tone.Frequency(midiNum, \"midi\").toNote()\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/filters.js","import {\n  // fetchUser,\n  // fetchItems,\n  // fetchIdsByType,\n  fetchMbox,\n  uploadRecord,\n  fetchMusixiser,\n  fetchWorksFromMusixiser,\n  fetchFavWorks,\n  fetchProductList,\n  fetchOrders,\n  fetchStacks,\n  fetchSquareWorks\n} from '../_common/js/api';\n/*\n  getUserInfo\n  getWorkInfo\n  getMusixiserInfo\n  saveWork\n*/\nexport default {\n  BOUNCE_PROJECT: ({ commit, state }, { record, info }) => uploadRecord(record, info),\n  // 存作品到后台\n  // uploadRecord(record, info).then(() => {\n  //   // commit('SET_BOUNCE_PROJECT', { record, info });\n  //   // 可以在组建直接跳链接，不commit 存store一道\n  // });\n\n  FETCH_MBOX: async ({ commit, state }, { id }) =>\n    // {\n    //   const project = await fetchMbox(id);\n    //   console.log('xxi', project.data.data.url);\n    //   console.log('xxi', project.data.data.userId);\n    //   const musixiser = await fetchMusixiser(project.data.data.userId);\n    //   console.log('work musixiser info: ', musixiser.data.data);\n    //   project.data.data.userVO = musixiser.data.data; // 拼接口。\n    //   // MidiConvert.load(project.data.data.url, (midi) => {\n    //   MidiConvert.load('//cdn.cnbj1.fds.api.mi-img.com/lftemp/silent_night_easy.mid', (midi) => {\n    //     commit('SET_ID_PROJECT', {\n    //       record: midi.tracks[0].notes,\n    //       info: project.data.data,\n    //     });\n    //   });\n    // },\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchMbox(id).then((project) => {\n        console.log('xxi', project.data.data.url);\n        console.log('xxi', project.data.data.userId);\n        fetchMusixiser(project.data.data.userId).then((musixiser) => {\n          console.log('work musixiser info: ', musixiser.data.data);\n          project.data.data.userVO = musixiser.data.data; // 拼接口。\n          // load music notes/ midi notes\n          // '//cdn.cnbj1.fds.api.mi-img.com/lftemp/silent_night_easy.mid' => test url\n\n          MidiConvert.load(project.data.data.url, (midi) => {\n            console.log('midi', midi);\n            const mergeNotes = midi.tracks.reduce((a, b) => a.concat(b.notes), []);\n            commit('SET_ID_PROJECT', {\n              record: mergeNotes, // midi.tracks[1].notes, // TODO:稍后要改成0\n              info: project.data.data,\n            });\n            resolve();\n          });\n          // const request = new XMLHttpRequest();\n          // request.open('GET', project.data.data.url, true);\n          // request.send(null);\n          // request.onreadystatechange = function () {\n          //   if (request.readyState === 4 && request.status === 200) {\n          //     const type = request.getResponseHeader('Content-Type');\n          //     if (type.indexOf('text') !== -1) {\n          //       commit('SET_ID_PROJECT', {\n          //         record: JSON.parse(request.responseText),\n          //         info: project.data.data,\n          //       });\n          //       resolve();\n          //     }\n          //   }\n          // };\n        });\n      });\n    }),\n  FETCH_MUSIXISER: ({ commit, state }, { id }) =>\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchMusixiser(id).then((musixiser) => {\n        console.log('musixiser info: ', musixiser.data.data);\n        commit('SET_MUSIXISER', { musixiserInfo: musixiser.data.data });\n        resolve();\n      });\n    }),\n  FETCH_SQUARE_WORKS: ({ commit, state }, { page, size }) =>\n    new Promise((resolve, reject) => {\n      fetchSquareWorks({ page, size }).then((works) => {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_SQUARE_WORKS', { squareWorksObj: works.data.data });\n        resolve();\n      });\n    }),\n  FETCH_BOARD_WORKS: ({ commit, state }, { page, size, category, orderStrategy }) =>\n    new Promise((resolve, reject) => {\n      fetchSquareWorks({ page, size, category, orderStrategy }).then((works) => {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_BOARD_WORKS', { boardWorksObj: works.data.data });\n        resolve();\n      });\n    }),\n  FETCH_WORKS_FROM_MUSIXISER: ({ commit, state }, { id, page }) =>\n    new Promise((resolve, reject) => {\n      fetchWorksFromMusixiser(id, page).then((works) => {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_MUSIXISER_WORKS', { musixiserWorksObj: works.data.data });\n        resolve();\n      });\n    }),\n  FETCH_FAV_WORKS: ({ commit, state }, { id, page }) =>\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchFavWorks(id, page).then((works) => {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_FAV_WORKS', { favWorksObj: works.data.data });\n        resolve();\n      });\n    }),\n  FETCH_PRODUCTLIST: ({ commit, state }, { id, page }) =>\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchProductList().then((products) => {\n        console.log('product list: ', products.data.data.list);\n        commit('PUSH_PRODUCTLIST', { productList: products.data.data.list.filter(item => item.category == 1) });\n        resolve();\n      });\n    }),\n  FETCH_ORDERS: ({ commit, state }, { page }) =>\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchOrders(page).then((orders) => {\n        // console.log('product list: ', orders.data.data.list);\n        commit('PUSH_ORDERS', { orders: orders.data.data });\n        resolve();\n      });\n    }),\n  //   // ensure data for rendering given list type\n  //   FETCH_LIST_DATA: ({ commit, dispatch, state }, { type }) => {\n  //     commit('SET_ACTIVE_TYPE', { type });\n  //     return fetchIdsByType(type)\n  //       .then(ids => commit('SET_LIST', { type, ids }))\n  //       .then(() => dispatch('ENSURE_ACTIVE_ITEMS'));\n  //   },\n  //\n  //   // ensure all active items are fetched\n  //   ENSURE_ACTIVE_ITEMS: ({ dispatch, getters }) => dispatch('FETCH_ITEMS', {\n  //     ids: getters.activeIds,\n  //   }),\n  //\n  //   FETCH_ITEMS: ({ commit, state }, { ids }) => {\n  //     // on the client, the store itself serves as a cache.\n  //     // only fetch items that we do not already have, or has expired (3 minutes)\n  //     const now = Date.now();\n  //     ids = ids.filter((id) => {\n  //       const item = state.items[id];\n  //       if (!item) {\n  //         return true;\n  //       }\n  //       if (now - item.__lastUpdated > 1000 * 60 * 3) {\n  //         return true;\n  //       }\n  //       return false;\n  //     });\n  //     if (ids.length) {\n  //       return fetchItems(ids).then(items => commit('SET_ITEMS', { items }));\n  //     }\n  //     return Promise.resolve();\n  //   },\n  //\n  //   FETCH_USER: ({ commit, state }, { id }) => (state.users[id]\n  //       ? Promise.resolve(state.users[id])\n  //       : fetchUser(id).then(user => commit('SET_USER', { id, user }))),\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue';\n\nexport default {\n  SET_USER_INFO: (state, { type }) => {\n    // 个人信息\n    state.activeType = type;\n  },\n\n  SET_WORK_INFO: (state, { type, ids }) => {\n    // 作品详情\n    state.lists[type] = ids;\n  },\n\n  SET_MUSIXISER_INFO: (state, { items }) => {\n    // 作者信息\n    items.forEach((item) => {\n      if (item) {\n        Vue.set(state.items, item.id, item);\n      }\n    });\n  },\n  SET_BOUNCE_PROJECT: (state, { record }) => {\n    // 储存录制信息\n    state.recordProject = record;\n  },\n  SET_ID_PROJECT: (state, { record, info }) => {\n    // 储存录制信息\n    state.recordProject = record; // this is the music itself\n    state.recordProjectInfo = info; // this includes all the relative info\n  },\n  SET_MUSIXISER: (state, { musixiserInfo }) => {\n    // 储存录制信息\n    state.musixiserInfo = musixiserInfo;\n  },\n  PUSH_SQUARE_WORKS: (state, { squareWorksObj }) => {\n    // 储存录制信息\n    console.log('ccccc', squareWorksObj.current);\n    if (+squareWorksObj.current === 1) {\n      state.squareWorksObj.content = squareWorksObj.list;\n    } else {\n      state.squareWorksObj.content = state.squareWorksObj.content.concat(\n        squareWorksObj.list,\n      );\n    }\n    state.squareWorksObj.total = squareWorksObj.total;\n    state.squareWorksObj.size = squareWorksObj.size;\n    state.squareWorksObj.current = squareWorksObj.current;\n  },\n  PUSH_MUSIXISER_WORKS: (state, { musixiserWorksObj }) => {\n    // 储存录制信息\n    console.log('ccccc', musixiserWorksObj.current);\n    if (+musixiserWorksObj.current === 1) {\n      state.musixiserWorksObj.content = musixiserWorksObj.list;\n    } else {\n      state.musixiserWorksObj.content = state.musixiserWorksObj.content.concat(\n        musixiserWorksObj.list,\n      );\n    }\n    state.musixiserWorksObj.total = musixiserWorksObj.total;\n    state.musixiserWorksObj.size = musixiserWorksObj.size;\n    state.musixiserWorksObj.current = musixiserWorksObj.current;\n  },\n  PUSH_FAV_WORKS: (state, { favWorksObj }) => {\n    // 储存录制信息\n    console.log('xxxxxxx', favWorksObj);\n    if (+favWorksObj.current === 1) {\n      state.favWorksObj.content = favWorksObj.list;\n    } else {\n      state.favWorksObj.content = state.favWorksObj.content.concat(favWorksObj.list);\n    }\n    state.favWorksObj.total = favWorksObj.total;\n    state.favWorksObj.size = favWorksObj.size;\n    state.favWorksObj.current = favWorksObj.current;\n  },\n  PUSH_BOARD_WORKS: (state, { boardWorksObj }) => {\n    // 储存录制信息\n    console.log('xxxxxxx', boardWorksObj);\n    if (+boardWorksObj.current === 1) {\n      state.boardWorksObj.content = boardWorksObj.list;\n    } else {\n      state.boardWorksObj.content = state.boardWorksObj.content.concat(boardWorksObj.list);\n    }\n    state.boardWorksObj.total = boardWorksObj.total;\n    state.boardWorksObj.size = boardWorksObj.size;\n    state.boardWorksObj.current = boardWorksObj.current;\n  },\n  RESET_WORK_LIST: (state, { type }) => {\n    state[type] = { content: [] }\n  },\n  // SET_FINAL_WORK: (state, { type }) => { // 储存成品信息\n  //   state.activeType = type;\n  // },\n  // SET_USER: (state, { id, user }) => {\n  //   Vue.set(state.users, id, user || false); /* false means user not found */\n  // },\n  SAVE_ORDER_INFO: (state, { work, product, address }) => {\n    state.orderToCreate.wid = work ? work.id : state.orderToCreate.wid;\n    state.orderToCreate.pid = product ? product.id : state.orderToCreate.pid;\n    state.orderToCreate.address = address || state.orderToCreate.address;\n    state.targetProduct = product || state.targetProduct\n    state.targetWork = work || state.targetWork\n  },\n  PUSH_PRODUCTLIST: (state, { productList }) => {\n    state.productList = productList\n    state.targetProduct = productList[0]\n  },\n  PUSH_ORDERS: (state, { orders }) => {\n    // 储存录制信息\n    console.log('xxxxxxx', orders);\n    if (+orders.current === 1) {\n      state.orders.content = orders.list;\n    } else {\n      state.orders.content = state.orders.content.concat(orders.list);\n    }\n    state.orders.total = orders.total;\n    state.orders.size = orders.size;\n    state.orders.current = orders.current;\n  },\n  OPERATE_WORK: (state, { work }) => {\n    state.operatingWorkId = work.id\n  },\n  PLAY_WORK: (state, { work }) => {\n    state.playingWorkId = work.id\n  },\n  LOCAL_UPDATE_LIST_FAV: (state, { type, item }) => {\n    console.log(item)\n    state[type].content.forEach((work) => {\n      if (work.id == item.id) {\n        work.favStatus = item.favStatus\n        work.collectNum = work.favStatus ? work.collectNum + 1 : work.collectNum - 1\n      }\n    })\n  },\n  LOCAL_UPDATE_LIST: (state, { type, item }) => {\n    // { 0: \"公开\", 1: \"私密\", 2: \"删除\" };\n    console.log(item)\n    if (item.status != 2) { //更新状态\n      state[type].content.forEach((work) => {\n        if (work.id == item.id) {\n          work.status = item.status\n        }\n      })\n    } else {//删除\n      const index = state[type].content.findIndex(work => work.id == item.id)\n      state[type].content.splice(index, 1)\n      // state[type].content = state[type].content.filter(i => i.status != item.status)\n    }\n\n  },\n  LOCAL_UPDATE_ORDER_STATUS: (state, { orderId, status }) => {\n    state.orders.content.forEach((order) => {\n      if (order.orderId == orderId) {\n        order.status = status\n      }\n    })\n  },\n  PUSH_STACKS: (state, { stacks }) => {\n    console.log('来自mutation', stacks)\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","export default {\n  // ids of the items that should be currently displayed based on\n  // current list type and current pagination\n  activeIds(state) {\n    const { activeType, itemsPerPage, lists } = state;\n    const page = Number(state.route.params.page) || 1;\n    if (activeType) {\n      const start = (page - 1) * itemsPerPage;\n      const end = page * itemsPerPage;\n      return lists[activeType].slice(start, end);\n    }\n    return [];\n  },\n\n  // items that should be currently displayed.\n  // this Array may not be fully fetched.\n  activeItems(state, getters) {\n    return getters.activeIds.map(id => state.items[id]).filter(_ => _);\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport actions from './actions';\nimport mutations from './mutations';\nimport getters from './getters';\n\nVue.use(Vuex);\n\nexport function createStore() {\n  return new Vuex.Store({\n    state: {\n      myInfo: {},\n      recordParts: [],\n      recordProject: [],\n      recordProjectInfo: {},\n      musixiserInfo: {},\n      squareWorksObj: { content: [] },\n      musixiserWorksObj: { content: [] },\n      favWorksObj: { content: [] },\n      boardWorksObj: { content: [] },\n      targetProduct: {},\n      targetWork: {},\n      orders: { content: [] },\n      productList: [\n        // {\n        //   \"id\": 5,\n        //   \"category\": 0,\n        //   \"name\": \"111\",\n        //   \"intro\": \"ssssss\",\n        //   \"price\": 0.01,\n        //   \"status\": 0,\n        //   \"createdDate\": 1545545063000,\n        //   \"previewPic\": 'http://img1.imgtn.bdimg.com/it/u=1428864537,4075266830&fm=26&gp=0.jpg'\n        // },\n        // {\n        //   \"id\": 3,\n        //   \"category\": 0,\n        //   \"name\": \"产品名02\",\n        //   \"intro\": \"八音盒02\",\n        //   \"price\": 0.02,\n        //   \"status\": 0,\n        //   \"createdDate\": 1545545057000,\n        //   \"previewPic\": 'http://img5.imgtn.bdimg.com/it/u=2832745675,3618470846&fm=26&gp=0.jpg'\n        // },\n        // {\n        //   \"id\": 2,\n        //   \"category\": 0,\n        //   \"name\": \"产品名03\",\n        //   \"intro\": \"八音盒01\",\n        //   \"price\": 0.02,\n        //   \"status\": 0,\n        //   \"createdDate\": 1545545054000,\n        //   \"previewPic\": 'http://img3.imgtn.bdimg.com/it/u=567439238,127662271&fm=26&gp=0.jpg'\n        // },\n        // {\n        //   \"id\": 1,\n        //   \"category\": 0,\n        //   \"name\": \"产品名04\",\n        //   \"intro\": \"八音盒\",\n        //   \"price\": 0.01,\n        //   \"status\": 0,\n        //   \"createdDate\": 1545545048000,\n        //   \"previewPic\": 'http://img5.imgtn.bdimg.com/it/u=771337150,1492914445&fm=26&gp=0.jpg'\n        // }\n      ], // ProductList.vue\n      orderToCreate: {\n        // OrderConfirm.vue & createOrder\n        wid: '',\n        pid: '',\n        address: {},\n      },\n      operatingWorkId: -1,\n      playingWorkId: -1,\n    },\n    actions,\n    mutations,\n    getters,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n  <div id=\"app\">\n    <transition :name=\"transitionName\">\n      <router-view :screenOrientation=\"screenOrientation\"/>\n    </transition>\n  </div>\n</template>\n\n<script>\n// https://router.vuejs.org/en/advanced/transitions.html\nexport default {\n  name: \"app\",\n  data() {\n    return {\n      transitionName: \"fade\",\n      screenOrientation: \"\"\n    };\n  },\n  created() {\n    const win = window;\n    const docElem = document.documentElement;\n    const on = \"addEventListener\";\n    let timeoutId;\n\n    function delaySetRem() {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(setRem, 300);\n    }\n\n    function setRem() {\n      win.rem = docElem.getBoundingClientRect().width / 10;\n      docElem.style.fontSize = win.rem + \"px\";\n    }\n\n    setRem();\n    docElem.setAttribute(\"data-dpr\", win.devicePixelRatio);\n    win[on](\"resize\", delaySetRem);\n    win[on](\"pageshow\", function(e) {\n      if (e.persisted) {\n        delaySetRem();\n      }\n    });\n    //add by ziwen\n    if (window.orientation === 180 || window.orientation === 0) {\n      // 竖屏状态\n      this.screenOrientation = \"portrait\";\n    }\n    if (window.orientation === 90 || window.orientation === -90) {\n      // 横屏状态\n      this.screenOrientation = \"landscape\";\n    }\n    win[on](\"orientationchange\", () => {\n      console.log(screen.orientation);\n      console.log(window.orientation);\n      if (window.orientation === 180 || window.orientation === 0) {\n        // 竖屏状态\n        this.screenOrientation = \"portrait\";\n      }\n      if (window.orientation === 90 || window.orientation === -90) {\n        // 横屏状态\n        this.screenOrientation = \"landscape\";\n      }\n    });\n\n    this.$store.dispatch(\"FETCH_PRODUCTLIST\", {});\n  },\n  beforeRouteUpdate(to, from, next) {\n    // const toPage = to.indexOf('make')\n    // const fromPage = from.path.split('/').length\n    // this.transitionName = toDepth < fromDepth ? 'slide-right' : 'slide-left'\n    // next()\n  }\n};\n</script>\n\n<style>\nhtml,\nbody {\n  height: 100%;\n}\n* {\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\ninput,\ntextarea {\n  -webkit-user-select: auto;\n}\ntextarea:focus,\ninput:focus {\n  outline: none;\n}\n.lx-toast {\n  rotate: 90deg;\n  transform-origin: left;\n}\n.vue-slider-component\n  .vue-slider-tooltip-wrap.vue-slider-tooltip-left\n  .vue-slider-tooltip:before {\n  border: none !important;\n}\n#app {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  /* color: #2c3e50; */\n  user-select: none;\n  overflow: hidden;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.fade-enter-active {\n  transition: all 0.3s ease-out;\n}\n.fade-leave-active {\n  transition: all 0.3s ease-out;\n}\n.fade-enter, .fade-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n@keyframes marquee {\n  /* 0% {\n    transform: translate(10%, 0);\n  }\n\n  50% {\n    transform: translate(-70%, 0);\n  }\n\n  100% {\n    transform: translate(10%, 0);\n  } */\n  0% {\n    transform: translate(100%, 0);\n  }\n  100% {\n    transform: translate(-100%, 0);\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":_vm.transitionName}},[_c('router-view',{attrs:{\"screenOrientation\":_vm.screenOrientation}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b4e9e83a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"app\">\n    <div class=\"m-logo\"></div>\n    <div class=\"redirect-button\" id=\"mb-maker\" @touchstart=\"redirectTo('/new-music-box-maker')\">\n        去编曲\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as Util from '../_common/js/util';\nimport * as Api from '../_common/js/api';\nimport * as Cookies from 'js-cookie';\nexport default {\n  name: 'hello',\n  data() {\n    return {\n      msg: 'Welcome to Your Vue.js App',\n    };\n  },\n  methods: {\n    redirectTo(path) {\n      // IMPORTANT keng. 从主页跳制作页，如果相对路径会带上参数，比如auth回来的code会一直带着，污染之后的auth\n      // 成功auth一次，就写入cookie了，所以往后跳就直接给全路径，摒弃微信弄回来的乱七八糟的参数\n      this.$router.push(path);\n    },\n  },\n  created() {\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + 'px';\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    if (Util.getUrlParam('code') || Cookies.get('serviceToken')) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam('code'))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove('serviceToken');\n            location.replace(\n              'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect',\n            );\n          }\n          alert(`welcome${res.data.data.realname}`);\n          console.log('get user info success', res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove('serviceToken');\n          location.replace(\n            'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect',\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect',\n      );\n    }\n  },\n};\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n@import '../_common/style/_functions.scss';\n@import '../_common/style/_variables.scss';\n@import '../_common/style/_mixins.scss';\n@import '../_common/style/_reboot.scss';\n* {\n  box-sizing: border-box;\n  margin:0;\n  padding:0;\n}\n.app {\n\n  background-color: black;\n}\n.m-logo {\n  position: absolute;\n  width: getRem(200);\n  height: getRem(200);\n  top: 30%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background:url('//gw.alicdn.com/tps/TB1pfhUOFXXXXaSaXXXXXXXXXXX-350-350.png') no-repeat center center;\n  background-size: getRem(175) getRem(175);\n  background-color: #ffcc33;\n  border-radius: getRem(25);\n  animation: toupperleftwithsize 4.5s linear;\n  -webkit-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n  z-index: 2\n}\n.redirect-button {\n  width:getRem(450);\n  height: getRem(100);\n  padding: getRem(20) getRem(50);\n  background-color: #ffcc33;\n  border-radius:getRem(10);\n  color: gray;\n}\n.redirect-button,#mb-maker {\n  position: absolute;\n  top: 60%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size:.57rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('div',{staticClass:\"m-logo\"}),_vm._v(\" \"),_c('div',{staticClass:\"redirect-button\",attrs:{\"id\":\"mb-maker\"},on:{\"touchstart\":function($event){return _vm.redirectTo('/new-music-box-maker')}}},[_vm._v(\"\\n      去编曲\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a687a94\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","\n\n<script>\nexport default {\n  props: {\n    // editing: bool. //instead of as state, can be passed in prop, to keep only one current editing card in a work card list\n    // onPlayClick: function. //\n    // onPauseClick: function. //\n    workInfo: { type: Object },\n    playingStatus: {\n      type: Boolean,\n      default: false\n    },\n    showAuthor: { type: Boolean, default: true },\n    maskOn: { type: Boolean, default: false },\n    onPlayWork: Function,\n    onPurchaseWork: Function,\n    onShareWork: Function,\n    onHideWork: Function,\n    onDeleteWork: Function,\n    onToggleLike: Function,\n    onDownloadWork: Function,\n    onLongPress: {\n      type: Function,\n      default: function() {\n        console.log(\"longpress\");\n      }\n    },\n    onTapMask: Function\n  },\n  computed: {},\n  data() {\n    return {};\n  },\n  watch: {},\n  created() {\n    // alert(this.progress)\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    // showMask() {\n    //   // TODO: should be prop\n    //   console.log(\"aiyo\");\n    //   this.editing = true;\n    // },\n    // hideMask() {\n    //   // can be in state data\n    //   this.editing = false;\n    // }\n    gotoWork(id) {\n      this.$router.push({\n        path: \"/new-music-box-viewer\",\n        query: {\n          id\n        }\n      });\n    },\n    gotoMusixiser(id) {\n      this.$router.push({\n        path: \"/musixiser\",\n        query: {\n          id\n        }\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"card\">\n    <div class=\"preview-bg\">\n      <img v-if=\"workInfo.cover.indexOf('//')>=0\" class=\"cover\" :src=\"workInfo.cover\" alt>\n      <div v-if=\"workInfo.cover.indexOf('//')<0\" class=\"dark-mask\"></div>\n      <p class=\"work-content\">{{workInfo.content}}</p>\n      <img\n        class=\"playBtn\"\n        @touchend=\"onPlayWork\"\n        v-if=\"!playingStatus\"\n        src=\"../../assets/viewer/trans-play.png\"\n        alt\n      >\n      <img\n        class=\"playBtn\"\n        @touchend=\"onPlayWork\"\n        v-if=\"playingStatus\"\n        src=\"../../assets/stop.svg\"\n        alt\n      >\n    </div>\n    <div class=\"detail\">\n      <div class=\"basic-info\">\n        <p class=\"title\" @click=\"gotoWork(workInfo.id)\">{{workInfo.title}}</p>\n        <div style=\"display:flex;align-items:center;\" @click=\"gotoMusixiser(workInfo.userId)\">\n          <img class=\"avatar\" :src=\"workInfo.userVO.smallAvatar\" alt>\n          <p class=\"song-title\">{{workInfo.userVO.realname}}</p>\n          <p class=\"update-info\">&nbsp;· 更新于{{workInfo.lastModifiedDate|getDateDiff}}</p>\n        </div>\n      </div>\n      <div class=\"download-info\">\n        <div class=\"likes\" @click=\"onDownloadWork(workInfo)\">\n          <img v-if=\"!workInfo.wavAccess\" src=\"../../assets/download1.svg\" alt>\n          <img v-if=\"workInfo.wavAccess\" src=\"../../assets/download2.svg\" alt>\n          <p>.wav</p>\n        </div>\n      </div>\n      <div class=\"like-info\">\n        <div class=\"likes\" @click=\"onToggleLike(workInfo)\">\n          <img v-if=\"!workInfo.favStatus\" src=\"../../assets/heartstroke.svg\" alt>\n          <img v-if=\"workInfo.favStatus\" src=\"../../assets/heartfill.svg\" alt>\n          <p>{{workInfo.collectNum}}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../../_common/style/_functions.scss\";\n@import \"../../_common/style/_variables.scss\";\n@import \"../../_common/style/_mixins.scss\";\n@import \"../../_common/style/_reboot.scss\";\n.card {\n  // display: inline-block;\n  position: relative;\n  width: getRem(670);\n  height: getRem(920);\n  margin: 0 auto getRem(16);\n  border-radius: getRem(40);\n  // margin-right: getRem(16);\n  .mask {\n    z-index: 2;\n    padding: getRem(40 / 2);\n\n    top: 0;\n    position: absolute;\n    background-color: $img-mask;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n    .circle-btn {\n      border-radius: getRem(38);\n      width: getRem(76);\n      height: getRem(76);\n      margin: getRem(24);\n      font-size: getRem(20);\n      color: white;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .statusProcess {\n      width: getRem(204);\n      height: getRem(28);\n    }\n    .statusText {\n      font-size: 14px;\n      color: white;\n    }\n  }\n  .preview-bg {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    border-radius: getRem(40) getRem(40) 0 0;\n    height: getRem(758);\n    background: linear-gradient(#585c63 0%, #36373b 100%);\n    // background-size: 2rem;\n    // opacity: 0.5;\n    .work-content {\n      position: absolute;\n      left: getRem(40);\n      top: getRem(40);\n      color: white;\n      opacity: 0.7;\n      font-size: getRem(24);\n      width: 40%;\n      text-align: left;\n      line-height: getRem(40);\n    }\n    .dark-mask {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: getRem(40) getRem(40) 0 0;\n      overflow: hidden;\n      background: url(\"../../assets/notes.svg\") center center no-repeat;\n      background-size: 3rem;\n      opacity: 0.06;\n    }\n    .playBtn {\n      position: relative;\n      width: getRem(30);\n      height: getRem(42);\n    }\n    .playBtn:after {\n      content: \"\";\n      position: absolute;\n      top: -10px;\n      bottom: -10px;\n      left: -10px;\n      right: -10px;\n    }\n    .cover {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      border-radius: getRem(40) getRem(40) 0 0;\n    }\n  }\n  .detail {\n    position: relative;\n    display: flex;\n    align-items: center;\n    width: 100%;\n    height: getRem(162);\n    color: $gray-text;\n    background-color: $dark-gray;\n    text-align: left;\n    padding: getRem(32) getRem(40) getRem(20);\n    border-radius: 0 0 0.53333rem 0.53333rem;\n    .title {\n      font-size: getRem(32);\n      color: #8c8c92;\n      margin-bottom: getRem(16);\n    }\n    .basic-info {\n      flex: 1;\n      // display: flex;\n      // align-items: center;\n      .avatar {\n        width: getRem(46);\n        height: getRem(46);\n        border-radius: getRem(23);\n        margin-right: getRem(8);\n      }\n      .song-title {\n        font-size: 12px;\n        color: #6d6e75;\n      }\n      .update-info {\n        font-size: 12px;\n        color: #6d6e75;\n        opacity: 0.5;\n      }\n    }\n    .download-info {\n      display: flex;\n      justify-content: space-between;\n      // padding: getRem(40) getRem(16);\n      padding-right: getRem(40);\n      font-size: 10px;\n      .likes {\n        // display: flex;\n        text-align: center;\n        font-size: getRem(28);\n        img {\n          width: getRem(52);\n          height: getRem(42);\n          // margin-right: getRem(8);\n        }\n      }\n    }\n    .like-info {\n      display: flex;\n      justify-content: space-between;\n      // padding: getRem(10) getRem(16);\n      font-size: 10px;\n      .likes {\n        // display: flex;\n        text-align: center;\n        font-size: getRem(28);\n        img {\n          width: getRem(52);\n          height: getRem(42);\n          // margin-right: getRem(8);\n        }\n      }\n    }\n  }\n}\n.pink {\n  background-color: $pink;\n}\n.blue {\n  background-color: $blue;\n}\n.purple {\n  background-color: $purple;\n}\n.gray {\n  background-color: $gray;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/BigCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"preview-bg\"},[(_vm.workInfo.cover.indexOf('//')>=0)?_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.workInfo.cover,\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.cover.indexOf('//')<0)?_c('div',{staticClass:\"dark-mask\"}):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"work-content\"},[_vm._v(_vm._s(_vm.workInfo.content))]),_vm._v(\" \"),(!_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":require(\"../../assets/viewer/trans-play.png\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e(),_vm._v(\" \"),(_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":require(\"../../assets/stop.svg\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"basic-info\"},[_c('p',{staticClass:\"title\",on:{\"click\":function($event){return _vm.gotoWork(_vm.workInfo.id)}}},[_vm._v(_vm._s(_vm.workInfo.title))]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"},on:{\"click\":function($event){return _vm.gotoMusixiser(_vm.workInfo.userId)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.workInfo.userVO.smallAvatar,\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"song-title\"},[_vm._v(_vm._s(_vm.workInfo.userVO.realname))]),_vm._v(\" \"),_c('p',{staticClass:\"update-info\"},[_vm._v(\" · 更新于\"+_vm._s(_vm._f(\"getDateDiff\")(_vm.workInfo.lastModifiedDate)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"download-info\"},[_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.onDownloadWork(_vm.workInfo)}}},[(!_vm.workInfo.wavAccess)?_c('img',{attrs:{\"src\":require(\"../../assets/download1.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.wavAccess)?_c('img',{attrs:{\"src\":require(\"../../assets/download2.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('p',[_vm._v(\".wav\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"like-info\"},[_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.onToggleLike(_vm.workInfo)}}},[(!_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":require(\"../../assets/heartstroke.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":require(\"../../assets/heartfill.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.workInfo.collectNum))])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a705d7d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/BigCard.vue\n// module id = null\n// module chunks = ","import axios from 'axios';\nimport wx from 'weixin-js-sdk';\nimport { createOrder, payOrder, sendAddress, getWXMedia } from './api';\nimport { fail } from 'assert';\n\nconst reqConfig = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n};\nexport const prepareShareConfig = () =>\n  new Promise((resolve, reject) => {\n    axios\n      .post(\n        `//api.octave-love.com/api/v1/wechat/getTicket?url=${encodeURIComponent(\n          window.location.href.split('#')[0],\n        )}`,\n        '',\n        reqConfig,\n      )\n      .then(\n        (res) => {\n          // alert(`before # url: ${window.location.href.split('#')[0]}`);\n          // alert(`full path: ${window.location.href}`);\n          // alert(JSON.stringify(res.data.data));\n          wx.config({\n            debug: false,\n            appId: res.data.data.appId,\n            timestamp: res.data.data.timestamp,\n            nonceStr: res.data.data.nonceStr,\n            signature: res.data.data.signature,\n            jsApiList: [\n              'onMenuShareTimeline',\n              'onMenuShareAppMessage',\n              'chooseWXPay',\n              'openAddress',\n              'chooseImage',\n              'uploadImage'\n            ],\n          });\n          wx.ready(() => {\n            // 配置wx.config成功\n            resolve(wx);\n          });\n        },\n        () => {\n          reject('配置wx.config失败');\n        },\n      );\n  });\n\n// 分享配置\nexport const prepareShareContent = ({ title, desc, fullPath, imgUrl }) => {\n  // const link = 'http://example.com/static/auth.html' +\n  //              `?redirect_uri=${encodeURIComponent(window.location.href.split('#')[0])}` +\n  //              `&full_path=${encodeURIComponent(fullPath)}`;\n  const link = fullPath;\n  wx.onMenuShareTimeline({\n    title,\n    link,\n    imgUrl,\n    success() { },\n    cancel() { },\n  });\n  wx.onMenuShareAppMessage({\n    title,\n    desc,\n    link,\n    imgUrl,\n    success() { },\n    cancel() { },\n  });\n};\n\n// order pay\nexport const makeWxOrder = async ({ pid, wid, amount, address, message }, successCallback, failCalback) => {\n  // new Promise((resolve, reject) => {\n  //address is\n  //     {\n  //   \"userName\": \"string\",\n  //   \"postalCode\": \"string\",\n  //   \"provinceName\": \"string\",\n  //   \"cityName\": \"string\",\n  //   \"countryName\": \"string\",\n  //   \"detailInfo\": \"string\",\n  //   \"nationalCode\": \"string\",\n  //   \"telNumber\": \"string\"\n  // }\n  console.log('------------')\n  const addressObj = await sendAddress(address)\n  console.log('===========')\n  console.log(addressObj)\n  // return\n  const res = await createOrder({ pid, wid, amount, addressId: addressObj.data.data, message })\n  // 得到返回的支付参数\n  // alert(JSON.stringify(res));\n  const orderId = res.data.data;\n\n  payWxOrder({ orderId }, successCallback, failCalback)\n\n  // const payResult = await payOrder({ orderId })\n  // // alert(JSON.stringify(res));\n  // const params = payResult.data.data;\n  // // alert(JSON.stringify(params));\n  // console.log(params.nonceStr);\n  // console.log(params.signType);\n  // console.log(params.package);\n  // console.log(params.timeStamp);\n  // console.log(params.appId);\n  // console.log(params.paySign);\n  // console.log('sdsd');\n  // wx.chooseWXPay({\n  //   // ...params,\n  //   appId: params.appId,\n  //   timestamp: params.timeStamp,\n  //   nonceStr: params.nonceStr,\n  //   package: params.package,\n  //   signType: params.signType,\n  //   paySign: params.paySign,\n  //   success(res) {\n  //     console.log(res);\n  //     // resolve(res);\n  //     successCallback(res)\n  //   },\n  //   fail() {\n  //     failCalback();\n  //   },\n  //   cancel() {\n  //     failCalback();\n  //   }\n  // });\n}\nexport const makeWavWxOrder = async ({ wid }, successCallback, failCalback) => {\n  const res = await createOrder({ pid:7, wid })\n  const orderId = res.data.data;\n  payWxOrder({ orderId }, successCallback, failCalback)\n}\nexport const payWxOrder = async ({ orderId }, successCallback, failCalback) => {\n  const payResult = await payOrder({ orderId })\n  // alert(JSON.stringify(res));\n  const params = payResult.data.data;\n  // alert(JSON.stringify(params));\n  console.log(params.nonceStr);\n  console.log(params.signType);\n  console.log(params.package);\n  console.log(params.timeStamp);\n  console.log(params.appId);\n  console.log(params.paySign);\n  console.log('sdsd');\n  wx.chooseWXPay({\n    // ...params,\n    appId: params.appId,\n    timestamp: params.timeStamp,\n    nonceStr: params.nonceStr,\n    package: params.package,\n    signType: params.signType,\n    paySign: params.paySign,\n    success(res) {\n      console.log(res);\n      // resolve(res);\n      successCallback(res)\n    },\n    fail() {\n      failCalback();\n    },\n    cancel() {\n      failCalback();\n    }\n  });\n}\n// });\n\nexport const createAddress = (cb1, cb2) => {\n  wx.openAddress({\n    success(res) {\n      cb1(res);\n    },\n    cancel() {\n      cb2();\n    },\n  });\n}\n// address\n// export const newMakeWxOrder = ({ pid, wid, amount }, cb1, cb2) => {\n//   console.log(res);\n//   createOrder({ pid, wid, amount, address: res }).then((res) => {\n//     const orderId = res.data.data;\n//     payOrder({ orderId }).then((res) => {\n//       // alert(JSON.stringify(res));\n//       const params = res.data.data;\n//       alert(JSON.stringify(params));\n//       console.log(params.nonceStr);\n//       console.log(params.signType);\n//       console.log(params.package);\n//       console.log(params.timeStamp);\n//       console.log(params.appId);\n//       console.log(params.paySign);\n//       console.log('1234');\n//       wx.chooseWXPay({\n//         // ...params,\n//         appId: params.appId,\n//         timestamp: params.timeStamp,\n//         nonceStr: params.nonceStr,\n//         package: params.package,\n//         signType: params.signType,\n//         paySign: params.paySign,\n//         success(res) {\n//           console.log(res);\n//           cb1(res);\n//         },\n//         fail() {\n//           cb2();\n//         },\n//         cancel() {\n//           cb2();\n//         }\n//       });\n//     });\n//   });\n// }\n\n// export const getAddress = () => {\n//   new Promise((resolve, reject) => {\n//     wx.openAddress({\n//       success(res) {\n//         console.log(res);\n//         resolve(res);\n//       },\n//       cancel() {\n//         reject();\n//       },\n//     });\n//   });\n// };\n// 调用分享\n// $_wechat().config().then((res) => {\n//   $_wechat().share({ // 配置分享\n//     title: 'wechat-spa',\n//     desc: 'Wechat SPA',\n//     fullPath: '/home/index',\n//     imgUrl: 'https://www.baidu.com/img/bd_logo1.png',\n//   });\n// }, (err) => {\n//   console.warn(err);\n// });\n\nexport const selectAndUploadImage = (cb1, cb2) => {\n  wx.chooseImage({\n    count: 1,\n    sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\n    sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\n    success: function (res) {\n      const localId = res.localIds[0]; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片\n      wx.uploadImage({\n        localId, // 需要上传的图片的本地ID，由chooseImage接口获得\n        isShowProgressTips: 1, // 默认为1，显示进度提示\n        success: async function (res) {\n          const serverId = res.serverId\n          const imgRes = await getWXMedia({ media_id: serverId })\n          // const imgUrl = localId // for now...\n          console.log('file derived', imgRes)\n          cb1(imgRes.data.data)\n        },\n        fail: function (error) {\n          cb2()\n        }\n      });\n    }\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/wx_share.js","import * as Magic from \"./magic\";\nimport * as Api from \"./api\";\nimport * as WxShare from './wx_share';\n\nexport const mbMixin = {\n  data() {\n    return {\n      everPlayFlag: false,\n      playing: false,\n    };\n  },\n  methods: {\n    downloadWork(work) {\n      if (!work || !work.url) {\n        this.$toast('作品文件缺失')\n        return;\n      }\n      this.$ga.event(\"Download\", \"tap\", `${work.id}`);\n      // TODO, need check first\n      WxShare.makeWavWxOrder({ wid: work.id },\n        () => {\n          this.$toast(\"下单成功\");\n          this.$loading(\"为您生成wav文件中...\");\n          Tone.Transport.stop(0);\n          Magic.bounceAsWavBlob(work.url)\n            .then(blob => {\n              return Api.downloadAsWav(blob);\n            })\n            .then(url => {\n              // this.$toast(`url is ${url}`);\n              this.$ga.event(\"Download\", \"success\", `${work.id}`);\n              this.$loading.close();\n              location.href = url;\n            })\n            .catch(() => {\n              this.$loading.close();\n              this.$toast(\"下载失败请稍后再试\");\n            });\n        },\n        () => {\n          this.$toast(\"停止生成\");\n        }\n      );\n\n    },\n    purchaseWork(work) {\n      this.$ga.event(\"MakeMB\", \"tap\", `${work.id}`);\n      if (work.machineNum > 18) {\n        this.$toast(\"该作品目前无法制作\");\n        return;\n      }\n      console.log(\"purchase in\");\n      this.$store.commit(\"SAVE_ORDER_INFO\", { work }); // store current workId\n      this.$router.push({\n        path: \"/product-list\",\n        query: {}\n      });\n    },\n    toggleLike(work, type) {\n      // console.log('current work info',work.favStatus)\n      if (!work.status)\n        this.$ga.event(\"Song\", \"fav\", `${work.id}`);\n      Api.toggleFavSong({\n        workId: work.id,\n        status: +!work.favStatus\n      }).then(() => {\n        this.$store.commit(\"LOCAL_UPDATE_LIST_FAV\", {\n          type,\n          item: {\n            id: work.id,\n            favStatus: +!work.favStatus\n          }\n        });\n      });\n    },\n    playWork(work) {\n      if (!work) return\n      this.everPlayFlag = true;\n      console.log(\"work going to play: \", work);\n      if (work.id != this.playingWorkId) {\n        this.$ga.event(\"Song\", \"play_20s\", `${work.id}`);\n        this.playing = true;\n        Magic.previewMidi(work.url, this.playing)\n          .then(() => this.$store.commit(\"PLAY_WORK\", { work }))\n          .catch(() => { this.$toast('作品损坏，无法播放') });\n      } else {\n        //操作的同一个\n        if (this.playing) {\n          //正播着这个呢\n          this.$ga.event(\"Song\", \"stop_20s\", `${work.id}`);\n          this.playing = false;\n          Magic.previewMidi(work.url, this.playing)\n            .then(() => this.$store.commit(\"PLAY_WORK\", { work: { id: -1 } }))\n            .catch(() => { this.$toast('作品损坏，无法播放') });\n        } else {\n          //这个已经被停了\n          this.$ga.event(\"Song\", \"play_20s\", `${work.id}`);\n          this.playing = true;\n          Magic.previewMidi(work.url, this.playing)\n            .then(() => this.$store.commit(\"PLAY_WORK\", { work }))\n            .catch(() => { this.$toast('作品损坏，无法播放') });\n        }\n      }\n    },\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/mixin.js","<script>\nimport Card from \"./common/BigCard\";\nimport { swiper, swiperSlide } from \"vue-awesome-swiper\";\nimport * as Util from \"../_common/js/util\";\nimport * as Magic from \"../_common/js/magic\";\nimport { mbMixin } from \"../_common/js/mixin.js\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as WxShare from \"../_common/js/wx_share\";\n/**\n * 首页 component\n * 业务逻辑， 左滑动下一个， 右滑动点赞下一个， 双击点赞，点击中间播放， 点击下面按钮 （编曲页面 | 购买页面）\n *\n */\nexport default {\n  name: \"Square\",\n  mixins: [mbMixin],\n  components: {\n    Card,\n    swiper,\n    swiperSlide\n  },\n  data() {\n    return {\n      cards: [], //to be commented\n      userId: 0,\n      bigCardListOption: [],\n      activeIndex: 0,\n      everPlayFlag: false\n    };\n  },\n  computed: {\n    squareWorksObj() {\n      return this.$store.state.squareWorksObj;\n    },\n    // operatingWorkId() {\n    //   return this.$store.state.operatingWorkId;\n    // },\n    playingWorkId() {\n      return this.$store.state.playingWorkId;\n    },\n    bigSwiper() {\n      return this.$refs.bigCardList.swiper;\n    }\n  },\n  methods: {\n    redirectToMaker() {\n      this.$router.push({\n        path: \"/new-music-box-maker\",\n        query: {}\n      });\n    },\n    loadWorks() {\n      this.$store\n        .dispatch(\"FETCH_SQUARE_WORKS\", {\n          page: this.squareWorksObj.current\n            ? this.squareWorksObj.current + 1\n            : 1,\n          size: 10\n        })\n        .then(() => {\n          if (\n            +this.squareWorksObj.content.length < +this.squareWorksObj.total\n          ) {\n            //otherwise no more content\n            this.busy = false;\n          }\n        });\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    next();\n  },\n  created() {\n    const self = this;\n    this.bigCardListOption = {\n      loop: false,\n      // spaceBetween: 30,\n      centeredSlides: true,\n      slidesPerView: 1,\n      // slidesPerView: \"auto\",\n      watchSlidesProgress: true,\n      on: {\n        transitionEnd(e) {\n          const { size, current } = self.squareWorksObj;\n          // console.log(this.realIndex);\n          self.targetProduct = self.squareWorksObj.content[this.realIndex];\n          self.activeIndex = this.realIndex;\n          //TODO: first one need click, rest should be auto played.\n          if (self.everPlayFlag)\n            self.playWork(self.squareWorksObj.content[this.realIndex]);\n          if (self.activeIndex >= (size * current - 1) / 2) {\n            self.loadWorks();\n          }\n        },\n        progress(progress) {\n          // this.activeIndex = progress;\n          // console.log()\n        }\n      }\n    };\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    this.userId = 239;\n\n    if (!inWechat) {\n      self.loadWorks();\n      return;\n    }\n    const fullPath = `${location.origin}${\n      location.pathname\n    }#/new-music-box-viewer?id=${self.$store.state.route.query.id}`;\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"ai\",\n        desc: \"我的地盘你就dê听我的\",\n        // fullPath:location.href.split('#')[0],\n        fullPath,\n        imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          // self.userId =\n          //   this.$store.state.route.query.id || res.data.data.userId;\n          // self.isMe = self.userId == res.data.data.userId;\n          self.loadWorks();\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  }\n};\n</script>\n<template>\n  <div class=\"container\">\n    <div id=\"swiper-container\">\n      <swiper :options=\"bigCardListOption\" ref=\"bigCardList\">\n        <swiper-slide v-for=\"item in squareWorksObj.content\" :key=\"item.id\">\n          <card\n            :workInfo=\"item\"\n            :onPlayWork=\"()=>playWork(item)\"\n            :playingStatus=\"item.id==playingWorkId\"\n            :onDownloadWork=\"downloadWork\"\n            :onPurchaseWork=\"()=>purchaseWork(item)\"\n            :onToggleLike=\"()=>toggleLike(item,'squareWorksObj')\"\n          ></card>\n        </swiper-slide>\n      </swiper>\n    </div>\n    <div class=\"button_group\">\n      <button @click=\"redirectToMaker\">我来试试</button>\n      <!-- FUTURE WORK: not all work can be built, disabled here on condition -->\n      <button @click=\"purchaseWork(squareWorksObj.content[activeIndex])\">制作八音盒</button>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\">\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n.container {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  background: rgb(26, 28, 30);\n}\n#swiper-container {\n  position: relative;\n  width: 100%;\n  height: getRem(920);\n}\n.button_group {\n  width: 100%;\n  height: getRem(100);\n  // position: absolute;\n  bottom: getRem(60);\n  margin: 0 auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  z-index: 100;\n  button {\n    outline: 0;\n    border: 0;\n    display: block;\n    width: getRem(325);\n    color: #fff;\n    padding: getRem(20);\n    font-size: 16px;\n    &:first-of-type {\n      border-radius: getRem(50) 0 0 getRem(50);\n      background: rgb(113, 113, 230);\n    }\n    &:last-of-type {\n      border-radius: 0 getRem(50) getRem(50) 0;\n      background: rgb(69, 100, 215);\n    }\n  }\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/Square.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{attrs:{\"id\":\"swiper-container\"}},[_c('swiper',{ref:\"bigCardList\",attrs:{\"options\":_vm.bigCardListOption}},_vm._l((_vm.squareWorksObj.content),function(item){return _c('swiper-slide',{key:item.id},[_c('card',{attrs:{\"workInfo\":item,\"onPlayWork\":function (){ return _vm.playWork(item); },\"playingStatus\":item.id==_vm.playingWorkId,\"onDownloadWork\":_vm.downloadWork,\"onPurchaseWork\":function (){ return _vm.purchaseWork(item); },\"onToggleLike\":function (){ return _vm.toggleLike(item,'squareWorksObj'); }}})],1)}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"button_group\"},[_c('button',{on:{\"click\":_vm.redirectToMaker}},[_vm._v(\"我来试试\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.purchaseWork(_vm.squareWorksObj.content[_vm.activeIndex])}}},[_vm._v(\"制作八音盒\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-789cc054\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Square.vue\n// module id = null\n// module chunks = ","<script>\nimport \"swiper/dist/css/swiper.css\";\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport * as WxShare from \"../_common/js/wx_share\";\nimport vueSlider from \"vue-slider-component\";\nimport { swiper, swiperSlide } from \"vue-awesome-swiper\";\n\nconst Tone = require(\"tone\");\nconst touchIdKeyMap = {}; // touch move can have several threads, each thread only activate one note at most\n// e.g. {0:a4,1:b5}\n\nlet extendBtnsTimeout;\n\nlet piano = new Tone.Sampler(\n  {\n    C4: \"C4.[mp3|ogg]\",\n    \"D#4\": \"Ds4.[mp3|ogg]\",\n    \"F#4\": \"Fs4.[mp3|ogg]\",\n    A4: \"A4.[mp3|ogg]\",\n    C5: \"C5.[mp3|ogg]\",\n    \"D#5\": \"Ds5.[mp3|ogg]\",\n    \"F#5\": \"Fs5.[mp3|ogg]\",\n    A5: \"A5.[mp3|ogg]\",\n    C6: \"C6.[mp3|ogg]\"\n  },\n  {\n    release: 1,\n    // 'baseUrl': '/static/audio/'\n    baseUrl: \"//cnbj1.fds.api.xiaomi.com/mbox/audio/\"\n  }\n).toMaster();\n\n// var plucky = new Tone.PluckSynth().toMaster()\n\nconst SCREEN_WIDTH = document.documentElement.getBoundingClientRect().width;\nconst SCREEN_HEIGHT = Math.max(\n  document.documentElement.clientHeight,\n  window.innerHeight || 0\n);\n\nlet tonepart = []; // store all the music parts. (ummm,that's why it's named part...)\nlet bouncepart = [];\n\nlet recordStartTime = 0;\n\nlet isLinger = true; // 非播放状态中未开始录音\nlet replayInterval; // 控制progressbar的setinterval\nlet playOffset = 0; // 播放状态的拉条bar初始时间记录\nlet lingerOffset = 0; // 未播放状态的拉条bar初始时间记录\nconst PROGRESS_INTERVAL_TIME = 0.1; // 0.1秒挪一下\nlet tutorOnceEnter = false;\nlet tutorTimeout = [];\nexport default {\n  components: {\n    swiper,\n    swiperSlide,\n    vueSlider\n  },\n  props: [\"screenOrientation\"],\n  data() {\n    return {\n      portraitMode: true,\n      activeNote: {},\n      recordPart: [], // current record part\n      recordParts: [], // each new record goes in here.\n      playing: false,\n      generalControllerShow: false,\n      activeSwiperIndex: 3,\n      lastActiveSwiperIndex: 3 - 1,\n      vuetimeline: 0,\n      showExtendBtns: false,\n      alertAppear: false,\n      bouncing: false,\n      tutorSession: 0,\n      handClass: \"\", // hand or clickhand\n      tutorClass: \"\", // hand positioning in different session\n      menuAppear: false,\n      fuckReady: false,\n      timelineConfig: {\n        value: 0,\n        width: 8,\n        // height: `${window.screen.height * 0.9 - 20}px`,\n        // height: `${window.innerHeight * 0.9 - 20}px`,\n        // height: \"90%\",\n        padding: \"0\",\n        dotSize: 20,\n        eventType: \"auto\",\n        min: 0,\n        max: 2000,\n        interval: 1,\n        disabled: false,\n        show: true,\n        tooltip: \"always\",\n        // tooltip: 'hidden',\n        piecewise: false,\n        reverse: true,\n        style: {\n          display: \"inline-block\"\n        },\n        class: \"star-slider\",\n        direction: \"vertical\",\n        speed: PROGRESS_INTERVAL_TIME,\n        bgStyle: {\n          backgroundColor: \"rgb(110,113,158)\",\n          boxShadow: \"inset 0.5px 0.5px 3px 1px rgba(0,0,0,.36)\"\n        },\n        tooltipDir: \"left\",\n        tooltipStyle: {\n          backgroundColor: \"rgb(69, 106, 255)\",\n          borderColor: \"rgb(69, 106, 255)\",\n          transform: \"rotate(90deg)\",\n          transformOrigin: \"right\",\n          position: \"relative\",\n          left: \"-.2rem\",\n          top: \"0.9rem\"\n        },\n        formatter(value) {\n          if (value) {\n            return `${(value / 100).toFixed(2)}s/20s`;\n          }\n          return \"0.0s/20s\";\n        },\n        processStyle: {\n          backgroundColor: \"rgb(69,106,255)\"\n        }\n      }\n    };\n  },\n  watch: {\n    playing(val) {\n      console.log(\"playing status\", val);\n      if (val) {\n        //start progress bar\n        replayInterval = setInterval(() => {\n          this.vuetimeline += 10;\n          if (this.vuetimeline >= 2000) {\n            this.toggleReplay();\n            this.vuetimeline = 0;\n          }\n        }, PROGRESS_INTERVAL_TIME * 1000);\n      } else {\n        //stop progress bar\n        clearInterval(replayInterval);\n      }\n    },\n    screenOrientation() {\n      console.log(\"update\");\n      this.$nextTick(() => this.$refs.timeline.refresh());\n    }\n  },\n  computed: {\n    swiper() {\n      return this.$refs.pianoRoll.swiper;\n    },\n    activePartIndex() {\n      return this.PARTNUM - this.activeSwiperIndex - 1;\n    },\n    lastActivePartIndex() {\n      return this.PARTNUM - this.lastActiveSwiperIndex - 1;\n    }\n  },\n  methods: {\n    load() {},\n    toggleReplay() {\n      console.log(1);\n      this.playing = !this.playing;\n      if (this.playing) {\n        if (this.vuetimeline >= 2000) {\n          this.vuetimeline = 0;\n        }\n        // this.confirmRecordPart(!isLinger)\n        playOffset = performance.now() - this.vuetimeline * 10;\n        console.log(\"播放开始\");\n        this.confirmRecordPart(0);\n        console.log(\"kokokoko\");\n        recordStartTime = performance.now();\n        console.log(`activeOffsetTime${this.vuetimeline * 10}`);\n        Tone.Transport.start(\"+0.01\", (this.vuetimeline * 10) / 1000); // TODO:有问题in case < context.currentTime\n      } else {\n        console.log(\"播放停了\");\n        Tone.Transport.stop(0); // TODO：必须stop才能start。。。有没有自动stop啊..\n        // recordStartTime = performance.now()\n      }\n    },\n    handleNoteStart(noteId) {\n      let noteTime = 0;\n      // console.log('down', e.target.id)\n      piano.triggerAttack(noteId);\n      // console.log('midi no. :', Tone.Frequency(noteId).toMidi())\n      this.$set(this.activeNote, noteId, 1);\n\n      if (!this.playing) {\n        if (isLinger) {\n          recordStartTime = performance.now();\n          lingerOffset = this.vuetimeline * 10;\n          isLinger = false;\n        }\n        noteTime = performance.now() - recordStartTime + lingerOffset;\n        this.toggleReplay();\n      } else {\n        noteTime = performance.now() - playOffset;\n        // noteTime = this.vuetimeline * 10\n        // console.log('1', this.vuetimeline * 10)\n        // console.log('2', performance.now() - recordStartTime + this.vuetimeline*100)\n      }\n\n      if (noteTime < 20000) {\n        this.vuetimeline = (10 * noteTime) / 100;\n        this.recordPart.push({\n          note: noteId,\n          time: +(noteTime / 1000).toFixed(4)\n        });\n      } else {\n        this.vuetimeline = 20 * 100; // 颗粒度是0.1s => 200份\n        console.log(\"cannot record more than 20 seconds\");\n      }\n      console.log(noteTime);\n    },\n    handleNoteEnd(noteId) {\n      piano.triggerRelease(noteId);\n      this.$set(this.activeNote, noteId, 0);\n    },\n    touchNoteStartHandler(e) {\n      console.log(e);\n      // 先存起来，防止在该键位touchmove重复\n      touchIdKeyMap[e.changedTouches[0].identifier] = e.target.id; // TODO: 猜测 touchstart只会有一个changetouches///\n      this.handleNoteStart(e.target.id);\n    },\n    touchNoteEndHandler(e) {\n      this.handleNoteEnd(e.target.id);\n      this.handleNoteEnd(touchIdKeyMap[e.changedTouches[0].identifier]); // TODO: 猜测 touchend只会有一个changetouches,记录的正好是该停的\n    },\n    confirmRecordPart(shouldClearTime) {\n      if (this.recordPart.length) {\n        console.log(\"processing track: \", this.lastActivePartIndex);\n        if (\n          this.recordParts[this.lastActivePartIndex] &&\n          this.recordParts[this.lastActivePartIndex].length\n        ) {\n          // 已在该track录过,merge both\n          this.recordPart = this.recordPart.concat(\n            this.recordParts[this.lastActivePartIndex]\n          );\n        }\n        if (tonepart[this.lastActivePartIndex]) {\n          try {\n            tonepart[this.lastActivePartIndex].dispose(); // 覆盖之前的需要dispose\n          } catch (e) {}\n        }\n        tonepart[this.lastActivePartIndex] = new Tone.Part((time, value) => {\n          // 不能老这new啊，要每次一个数组，每次改动最后一个\n          piano.triggerAttackRelease(value.note, \"8n\", time);\n        }, this.recordPart).start(0);\n        this.recordParts[this.lastActivePartIndex] = this.recordPart;\n        this.recordPart = [];\n      } else {\n        console.log(\"啥也没录\");\n      }\n      this.lastActiveSwiperIndex = this.activeSwiperIndex;\n      // reinit time\n      if (shouldClearTime) {\n        this.vuetimeline = 0; // this is kind of separate for progress view\n        recordStartTime = 0;\n      }\n      isLinger = true;\n    },\n    clearRecordPart(trackNum) {\n      console.log(`cleaning track ${trackNum}`);\n      if (this.activePartIndex === trackNum) {\n        this.recordPart = [];\n        this.vuetimeline = 0;\n        isLinger = true;\n        this.playing = false;\n        Tone.Transport.stop(0);\n      }\n      if (this.recordParts[trackNum] && this.recordParts[trackNum].length) {\n        this.$set(this.recordParts, trackNum, []);\n        if (tonepart[trackNum]) {\n          try {\n            tonepart[trackNum].dispose(); // dispose掉\n          } catch (e) {}\n          tonepart[trackNum] = undefined; // 同时要从数组中删掉\n        }\n      } else {\n        console.log(`track ${trackNum} has no content`);\n      }\n    },\n    checkBouncibility() {\n      this.confirmRecordPart(0);\n      bouncepart = [];\n      if (tonepart.length) {\n        tonepart.forEach(item => {\n          if (item && item._events.length && item._events[0].value) {\n            item._events.forEach(noteInfo => {\n              bouncepart.push(noteInfo.value);\n            });\n          }\n        });\n        bouncepart.sort((a, b) => 0 + a.time - b.time);\n        return Magic.RealMagic(bouncepart);\n      }\n      return true;\n    },\n    bounceProject() {\n      this.confirmRecordPart(0);\n      console.log(this);\n      console.log(tonepart);\n      bouncepart = [];\n      if (tonepart.length) {\n        tonepart.forEach(item => {\n          if (item && item._events.length && item._events[0].value) {\n            item._events.forEach(noteInfo => {\n              bouncepart.push(noteInfo.value);\n            });\n          }\n        });\n        bouncepart.sort((a, b) => 0 + a.time - b.time);\n        // TODO, semi done\n        this.bouncing = true;\n        this.$store\n          .dispatch(\"BOUNCE_PROJECT\", {\n            record: bouncepart,\n            info: {\n              title: \"尚未起名\",\n              content: \"\",\n              cover: \"\"\n            }\n          })\n          .then(id => {\n            console.log(\"successfully bounced\");\n            this.bouncing = false;\n            this.$toast(\"作品已为您存储\");\n            this.$router.push({\n              path: \"/new-music-box-viewer\",\n              query: {\n                id\n              }\n            });\n          })\n          .catch(err => {\n            this.bouncing = false;\n            this.$toast(\"非常抱歉，上传作品失败了\");\n          });\n      } else {\n        this.$toast(\"什么都没录呢\");\n      }\n    },\n    mapNoteTimeToColor(t) {\n      return Magic.mapNoteTimeToColor(t);\n    },\n    mapNoteMidiToLength(m) {\n      return Magic.mapNoteMidiToLength(m);\n    },\n    adjustTimeline(e) {\n      if (this.playing) {\n        console.log(\"ccccccccc\");\n        this.toggleReplay(); // 现在播放中拉条，直接停，涉及到ref读不到最新值貌似，无法直接继续播放 this is TODO\n      } else {\n        isLinger = true; // 你拉条了肯定是\n      }\n    },\n    onMiniKeyboardScroll(e) {\n      console.log(e.touches[0].clientY);\n    },\n    onMiniKeyboardStart(e) {\n      console.log(e);\n    },\n    removeNoteInRecordPart(index, partIndex) {\n      // console.log(\"dd\");\n      if (partIndex === undefined) this.recordPart.splice(index, 1);\n      else this.recordParts[partIndex].splice(index, 1);\n    },\n    keng(e) {\n      // console.log(e)\n      // console.log(document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY).style.backgroundColor=\"yellow\")\n      console.log(e); // e.touches is array like object\n      for (let i = 0; i <= e.changedTouches.length - 1; i++) {\n        const a = document.elementFromPoint(\n          e.changedTouches[i].clientX,\n          e.changedTouches[i].clientY\n        );\n        if (a.classList.contains(\"white\") || a.classList.contains(\"black\")) {\n          if (\n            touchIdKeyMap[e.changedTouches[i].identifier] &&\n            touchIdKeyMap[e.changedTouches[i].identifier] !=\n              a.getAttribute(\"id\")\n          ) {\n            // 这个touch已经触发，且和当前不一致\n            console.log(touchIdKeyMap);\n            this.handleNoteStart(a.getAttribute(\"id\"));\n            this.handleNoteEnd(touchIdKeyMap[e.changedTouches[i].identifier]);\n            touchIdKeyMap[e.changedTouches[i].identifier] = a.getAttribute(\n              \"id\"\n            );\n          } else if (!touchIdKeyMap[e.changedTouches[i].identifier]) {\n            console.log(2);\n            this.handleNoteStart(a.getAttribute(\"id\"));\n            touchIdKeyMap[e.changedTouches[i].identifier] = a.getAttribute(\n              \"id\"\n            );\n          } else {\n            console.log(3);\n            // 新旧相同什么都不做\n          }\n        } else {\n          console.log(\"外边\");\n          if (touchIdKeyMap[e.changedTouches[i].identifier]) {\n            this.handleNoteEnd(touchIdKeyMap[e.changedTouches[i].identifier]);\n          }\n          touchIdKeyMap[e.changedTouches[i].identifier] = undefined;\n        }\n      }\n    },\n    // btnStart(e) {\n    //   console.log(e);\n    //   this.showExtendBtns = false;\n    //   extendBtnsTimeout = setTimeout(() => {\n    //     // show extend buttons\n    //     this.showExtendBtns = true;\n    //   }, 200);\n    // },\n    // btnEnd(e) {\n    //   // console.log(e)\n    //   clearTimeout(extendBtnsTimeout);\n    //   const a = document.elementFromPoint(\n    //     e.changedTouches[0].clientX,\n    //     e.changedTouches[0].clientY\n    //   );\n    //   console.log(a);\n    //   if (a && a.classList.contains(\"bounceBtn\")) {\n    //     // 导出\n    //     if (this.checkBouncibility()) {\n    //       this.bounceProject();\n    //     } else {\n    //       this.alertAppear = true;\n    //     }\n    //   } else if (\n    //     a &&\n    //     (a.classList.contains(\"playBtn\") || a.classList.contains(\"pauseBtn\"))\n    //   ) {\n    //     // 播放\n    //     if (!this.showExtendBtns) this.toggleReplay();\n    //     // this.showExtendBtns = false;\n    //   } else if (a && a.classList.contains(\"cancelBtn\")) {\n    //     // hide extend buttons\n    //     this.showExtendBtns = false;\n    //   }\n    // },\n    tutorStart() {\n      // 0未开始，1黑屏,2键盘，3track，4时间线，5播放,\n      this.tutorSession = 1;\n      this.$toast(\"请锁住竖屏使用\");\n      tutorOnceEnter = setTimeout(this.tutorProgress, 3000);\n      // setTimeout(()=>{this.tutorSession=2},3000)\n      // setTimeout(()=>{this.tutorSession=3;this.swiper.slidePrev()},5000)\n      // setTimeout(()=>{this.swiper.slideNext()},7000)\n      // setTimeout(()=>{this.tutorSession=4},8500)\n      // setTimeout(()=>{this.vuetimeline=120},9500)\n      // setTimeout(()=>{this.vuetimeline=0},10500)\n      // setTimeout(()=>{this.tutorSession=5},12000)\n      // setTimeout(()=>{this.showExtendBtns = true},13000)\n      // setTimeout(()=>{this.showExtendBtns=false},15000)\n      // setTimeout(()=>{this.tutorSession=0},16000)\n    },\n    tutorProgress() {\n      clearTimeout(tutorOnceEnter);\n      console.log(\"??????????\");\n      this.tutorSession += 1;\n      console.log(this.tutorSession);\n      switch (this.tutorSession) {\n        case 1:\n          this.clearTutorTimeout();\n          this.$toast(\"请锁住竖屏使用,长按播放按钮保存作品\");\n          break;\n        case 2:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor2start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor2end\";\n            }, 500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.vuetimeline = 700;\n              this.handClass = \"hand\";\n            }, 1500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.vuetimeline = 0;\n              this.handClass = \"hidehand\";\n            }, 2500)\n          );\n          break;\n        case 3:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor3start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor3end\";\n            }, 500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hand\"; // clickhand\n              this.tutorClass = \"tutor3end\";\n            }, 800)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hidehand\";\n            }, 1000)\n          );\n          break;\n        case 4:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor4start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor4end\";\n            }, 500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hand\"; // clickhand\n              this.tutorClass = \"tutor4start\";\n              this.menuAppear = true;\n            }, 1500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hidehand\";\n            }, 2500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.menuAppear = false;\n            }, 3000)\n          );\n          break;\n        case 5:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor5start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor5end\";\n            }, 1200)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.swiper.slidePrev();\n            }, 1500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.swiper.slideNext();\n              this.handClass = \"hidehand\";\n            }, 2500)\n          );\n          break;\n        case 6:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor6start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor6end\";\n            }, 500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hand\"; // clickhand\n              this.tutorClass = \"tutor6end\";\n            }, 800)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hidehand\";\n            }, 1500)\n          );\n          break;\n        default:\n          this.tutorSession = 0;\n          break;\n      }\n    },\n    clearTutorTimeout() {\n      this.showExtendBtns = false;\n      tutorTimeout.forEach(v => clearTimeout(v));\n      tutorTimeout = [];\n    }\n  },\n  created() {\n    // check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    const self = this;\n    setTimeout(() => {\n      //ineresting... due to sb wechat webpage\n      // alert(window.innerHeight);\n      self.timelineConfig.height = `${(window.innerHeight - 50) * 0.9}px`;\n      self.fuckReady = true;\n    }, 100);\n    Tone.Transport.cancel();\n    tonepart = [];\n    bouncepart = [];\n    // this is very important\n    let docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = `${window.rem}px`;\n\n    this.PARTNUM = 3;\n    this.pianoRollSwiperOption = {\n      initialSlide: this.PARTNUM,\n      // centeredSlides: true,\n      slidesPerView: 3,\n      on: {\n        // slideChange(e){\n        //   console.log('1',e)\n        // },\n        // slideNextTransitionStart(e) {\n        //   console.log('2',e)\n        // },\n        transitionEnd(e) {\n          console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          self.activeSwiperIndex = this.activeIndex;\n          self.confirmRecordPart(!isLinger);\n        }\n      }\n    };\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    // alert(Cookies.get('serviceToken'))\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"寻找你自己的八音盒\",\n        fullPath: `${location.origin}${location.pathname}#/new-music-box-maker`,\n        imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      // TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n              // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                `${location.origin + location.pathname}#/new-music-box-maker`\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          // alert(`welcome${res.data.data.realname}`)\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n            // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              `${location.origin + location.pathname}#/new-music-box-maker`\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      // 又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n        // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          `${location.origin + location.pathname}#/new-music-box-maker`\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone(tonepart);\n    next();\n  },\n  mounted() {\n    // this.startRecord();\n    // pointer events以后可以使用\n    if (!Cookies.get(\"serviceToken\")) this.tutorStart();\n    // this.$refs.timeline.refresh();\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div id=\"container\">\n    <!-- <v-touch @pan=\"onPan\"> -->\n    <div\n      :class=\"['keys',tutorSession===8?'tutorial-highlight':'']\"\n      @touchmove=\"keng\"\n      @touchstart.stop.prevent=\"touchNoteStartHandler\"\n      @touchend.stop.event=\"touchNoteEndHandler\"\n    >\n      <!-- using sharp sign => '#' as object key cause syntax error... -->\n      <!-- <div :class=\"['white', 'a', activeNote.A3?'active-note':'']\" id=\"A3\"></div>\n      <div :class=\"['black', 'b-minor', activeNote.Bb3?'active-note':'']\" id=\"Bb3\"></div>\n      <div :class=\"['white', 'b', activeNote.B3?'active-note':'']\" id=\"B3\"></div>-->\n      <div :class=\"['white', 'c', activeNote.C4?'active-note':'']\" id=\"C4\"></div>\n      <div :class=\"['black', 'd-minor', activeNote.Db4?'active-note':'']\" id=\"Db4\"></div>\n      <div :class=\"['white', 'd', activeNote.D4?'active-note':'']\" id=\"D4\"></div>\n      <div :class=\"['black', 'e-minor', activeNote.Eb4?'active-note':'']\" id=\"Eb4\"></div>\n      <div :class=\"['white', 'e', activeNote.E4?'active-note':'']\" id=\"E4\"></div>\n      <div :class=\"['white', 'f', activeNote.F4?'active-note':'']\" id=\"F4\"></div>\n      <div :class=\"['black', 'f-sharp', activeNote.Gb4?'active-note':'']\" id=\"Gb4\"></div>\n      <div :class=\"['white', 'g', activeNote.G4?'active-note':'']\" id=\"G4\"></div>\n      <div :class=\"['black', 'a-minor', activeNote.Ab4?'active-note':'']\" id=\"Ab4\"></div>\n      <div :class=\"['white', 'a', activeNote.A4?'active-note':'']\" id=\"A4\"></div>\n      <div :class=\"['black', 'b-minor', activeNote.Bb4?'active-note':'']\" id=\"Bb4\"></div>\n      <div :class=\"['white', 'b', activeNote.B4?'active-note':'']\" id=\"B4\"></div>\n      <div :class=\"['white', 'c', activeNote.C5?'active-note':'']\" id=\"C5\"></div>\n      <div :class=\"['black', 'd-minor', activeNote.Db5?'active-note':'']\" id=\"Db5\"></div>\n      <div :class=\"['white', 'd', activeNote.D5?'active-note':'']\" id=\"D5\"></div>\n      <div :class=\"['black', 'e-minor', activeNote.Eb5?'active-note':'']\" id=\"Eb5\"></div>\n      <div :class=\"['white', 'e', activeNote.E5?'active-note':'']\" id=\"E5\"></div>\n      <div :class=\"['white', 'f', activeNote.F5?'active-note':'']\" id=\"F5\"></div>\n      <div :class=\"['black', 'f-sharp', activeNote.Gb5?'active-note':'']\" id=\"Gb5\"></div>\n      <div :class=\"['white', 'g', activeNote.G5?'active-note':'']\" id=\"G5\"></div>\n      <div :class=\"['black', 'a-minor', activeNote.Ab5?'active-note':'']\" id=\"Ab5\"></div>\n      <div :class=\"['white', 'a', activeNote.A5?'active-note':'']\" id=\"A5\"></div>\n      <div :class=\"['black', 'b-minor', activeNote.Bb5?'active-note':'']\" id=\"Bb5\"></div>\n      <div :class=\"['white', 'b', activeNote.B5?'active-note':'']\" id=\"B5\"></div>\n      <div :class=\"['white', 'c', activeNote.C6?'active-note':'']\" id=\"C6\"></div>\n      <div :class=\"['black', 'd-minor', activeNote.Db6?'active-note':'']\" id=\"Db6\"></div>\n      <div :class=\"['white', 'd', activeNote.D6?'active-note':'']\" id=\"D6\"></div>\n      <div :class=\"['black', 'e-minor', activeNote.Eb6?'active-note':'']\" id=\"Eb6\"></div>\n      <div :class=\"['white', 'e', activeNote.E6?'active-note':'']\" id=\"E6\"></div>\n      <div :class=\"['white', 'f', activeNote.F6?'active-note':'']\" id=\"F6\"></div>\n    </div>\n    <div :class=\"['keyshadow',tutorSession===8?'tutorial-highlight':'']\"></div>\n    <div class=\"scroll-container\"></div>\n    <div\n      class=\"semi-piano-roll\"\n      :class=\"[(tutorSession===5||tutorSession===6)?'tutorial-highlight':'']\"\n      @touchmove.stop.prevent\n    >\n      <swiper :options=\"pianoRollSwiperOption\" ref=\"pianoRoll\">\n        <!-- slides -->\n        <swiper-slide v-for=\"n in PARTNUM\">\n          <div class=\"current-piano-roll\">\n            <svg :style=\"{height:'90%',padding:timelineConfig.dotSize/2+'px 0'}\">\n              <defs>\n                <filter id=\"glowing\" height=\"400%\" width=\"130%\" x=\"-10%\" y=\"-130%\">\n                  <!-- Thicken out the original shape -->\n                  <feMorphology operator=\"dilate\" radius=\"1\" in=\"SourceAlpha\" result=\"thicken\"></feMorphology>\n\n                  <!-- Use a gaussian blur to create the soft blurriness of the glow -->\n                  <feGaussianBlur in=\"thicken\" stdDeviation=\"2\" result=\"blurred\"></feGaussianBlur>\n\n                  <!-- Change the colour -->\n                  <feFlood flood-color=\"rgb(200,200,255)\" result=\"glowColor\"></feFlood>\n\n                  <!-- Color in the glows -->\n                  <feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\"></feComposite>\n\n                  <!--\tLayer the effects together -->\n                  <feMerge>\n                    <feMergeNode in=\"softGlow_colored\"></feMergeNode>\n                    <feMergeNode in=\"SourceGraphic\"></feMergeNode>\n                  </feMerge>\n                </filter>\n              </defs>\n              <rect\n                v-if=\"activePartIndex===(PARTNUM-n)\"\n                v-for=\"(item,index) in recordPart\"\n                :x=\"2\"\n                :y=\"100*item.time/20-0.2 + '%'\"\n                :width=\"mapNoteMidiToLength(item.note)\"\n                height=\"3\"\n                rx=\"2\"\n                ry=\"2\"\n                :fill=\"mapNoteTimeToColor(item.time)\"\n                filter=\"url(#glowing)\"\n                @click=\"removeNoteInRecordPart(index)\"\n              ></rect>\n              <rect\n                v-for=\"(item,index) in recordParts[PARTNUM-n]\"\n                :x=\"2\"\n                :y=\"100*item.time/20-0.2 + '%'\"\n                :width=\"mapNoteMidiToLength(item.note)\"\n                height=\"3\"\n                rx=\"2\"\n                ry=\"2\"\n                :fill=\"activePartIndex===(PARTNUM-n)?mapNoteTimeToColor(item.time):'rgb(120,120,120)'\"\n                :filter=\"activePartIndex===(PARTNUM-n)?'url(#glowing)':''\"\n                @click=\"removeNoteInRecordPart(index,PARTNUM-n)\"\n              ></rect>\n            </svg>\n            <div class=\"temp\" @click=\"clearRecordPart(PARTNUM-n)\"></div>\n          </div>\n        </swiper-slide>\n        <!-- need the bottom two empty slides to fill whole swiper -->\n        <swiper-slide></swiper-slide>\n        <swiper-slide></swiper-slide>\n      </swiper>\n    </div>\n\n    <div class=\"g-controller\">\n      <div\n        :class=\"[tutorSession===4?'tutorial-highlight':'']\"\n        @touchstart=\"menuAppear=true\"\n        id=\"menuicon\"\n        class=\"rotate\"\n      ></div>\n      <vue-slider\n        v-if=\"fuckReady\"\n        ref=\"timeline\"\n        :class=\"[tutorSession===2?'tutorial-highlight':'']\"\n        :show=\"screenOrientation==='portrait'\"\n        v-model=\"vuetimeline\"\n        v-bind=\"timelineConfig\"\n        @callback=\"adjustTimeline\"\n      ></vue-slider>\n      <div class=\"btnContainer\" :class=\"[tutorSession===3?'tutorial-highlight':'']\">\n        <div :class=\"[playing?'pauseBtn':'playBtn', 'rotate']\" @click=\"toggleReplay\"></div>\n        <!-- <div :class=\"[showExtendBtns?'extendBtnsShow':'extendBtnsHide','extendBtns']\">\n          <div class=\"bounceBtn rotate\"></div>\n          <div class=\"cancelBtn\"></div>\n        </div>-->\n      </div>\n    </div>\n    <transition name=\"fade\">\n      <div class=\"alert-mask\" v-show=\"alertAppear\">\n        <div class=\"mb-dialog\">\n          <div class=\"title\">减少些音符才能做成音乐盒，是否继续上传</div>\n          <div class=\"btns\">\n            <span class=\"btn cancel\" @click=\"alertAppear=false\">再调整</span>\n            <span class=\"btn confirm\" @click=\"bounceProject\">任性上传</span>\n          </div>\n        </div>\n      </div>\n    </transition>\n    <!-- </v-touch> -->\n    <div class=\"mask\" v-show=\"bouncing\">\n      <p>存储中...</p>\n    </div>\n    <div class=\"hint-mask\" id=\"tutorial-mask\" v-show=\"tutorSession>0\" @touchend=\"tutorProgress\">\n      <!-- <transition name=\"tutor1\"><div></div></transition> -->\n      <div v-show=\"tutorSession===2\" class=\"hint-text\" id=\"timeline-hint\">\n        <h3>进度条</h3>\n        <p>拖动原点改变时间</p>\n      </div>\n      <div v-show=\"tutorSession===3\" class=\"hint-text\" id=\"play-hint\">\n        <h3>功能按钮</h3>\n        <p>点击播放/暂停</p>\n      </div>\n      <div v-show=\"tutorSession===4\" class=\"hint-text\" id=\"longpress-hint\">\n        <h3>功能按钮</h3>\n        <p>点击后点击：保存/取消</p>\n      </div>\n      <div v-show=\"tutorSession===5\" class=\"hint-text\" id=\"swipe-hint\">\n        <h3>多轨编曲</h3>\n        <p>上下滑动切换轨道编曲</p>\n      </div>\n      <div v-show=\"tutorSession===6\" class=\"hint-text\" id=\"clear-hint\">\n        <h3>多轨编曲</h3>\n        <p>清空轨道</p>\n      </div>\n    </div>\n    <div id=\"tutorhand\" :class=\"[tutorClass]\" v-show=\"handClass!='hidehand'\">\n      <div :class=\"[handClass]\"></div>\n    </div>\n    <transition name=\"slide\">\n      <div class=\"alert-mask\" v-show=\"menuAppear\" @click.self=\"menuAppear=false\">\n        <div class=\"menu\">\n          <div @touchstart=\"bounceProject\" class>完成作品</div>\n          <div @touchstart=\"menuAppear=false\" class>退出</div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n\n#tutorhand {\n  position: absolute;\n  width: getRem(96);\n  height: getRem(98);\n  // transform:rotate(90deg);\n  // background-color:white;\n  z-index: 500;\n  transition: background 0.05s ease, transform 1s linear;\n  &.tutor2start {\n    top: 1.4rem;\n    right: 0.8rem;\n    transition: none;\n  }\n  &.tutor2end {\n    top: 1.4rem;\n    right: 0.8rem;\n    transform: translateY(5rem);\n  }\n  &.tutor3start {\n    bottom: 0.1rem;\n    right: 0.6rem;\n    transition: none;\n  }\n  &.tutor3end {\n    bottom: 0.1rem;\n    right: 0.6rem;\n  }\n  &.tutor4start {\n    top: 0.1rem;\n    right: 0.6rem;\n    transition: none;\n  }\n  &.tutor4end {\n    top: 0.1rem;\n    right: 0.6rem;\n  }\n  &.tutor5start {\n    top: 2rem;\n    right: 3.5rem;\n    transition: none;\n  }\n  &.tutor5end {\n    top: 2rem;\n    right: 3.5rem;\n    transform: translateX(1rem);\n  }\n  &.tutor6start {\n    bottom: 0.1rem;\n    right: 3.5rem;\n    transition: none;\n  }\n  &.tutor6end {\n    bottom: 0.1rem;\n    right: 3.5rem;\n  }\n}\n// .longclickhand {transform:rotate(90deg) translateY(1rem);background:url('../assets/tutorial/handlongclick.svg') no-repeat;background-size:contain}\n.hand {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform: rotate(90deg);\n  background: url(\"../assets/tutorial/hand.svg\") no-repeat;\n  background-size: contain;\n}\n.clickhand {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform: rotate(90deg);\n  background: url(\"../assets/tutorial/handclick.svg\") no-repeat;\n  background-size: contain;\n}\n#tutorial-mask {\n  .hint-text {\n    color: white;\n    text-align: right;\n  }\n}\n.tutorial-highlight {\n  z-index: 200;\n  pointer-events: none;\n}\n.g-controller {\n  position: absolute;\n  width: getRem(42);\n  height: 100%;\n  // padding-top: 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  right: 0.5rem;\n  // pointer-events: none;\n  // .timeline {\n  //     height: 90%;\n  //     width: getRem(16);\n  //     background-color: rgb(110,113,158);\n  //     .progress {\n  //         height: 5%;\n  //         background-color: rgb(69,106,255);\n  //     }\n  //     .indicator {\n  //         position: relative;\n  //         width: getRem(42);\n  //         height: getRem(42);\n  //         border-radius: getRem(21);\n  //         border: 4px;\n  //         border-color: yellow;\n  //         background-color: #fff;\n  //         right: getRem(13);\n  //     }\n  // }\n  #menuicon {\n    // position: absolute;\n    // z-index: 50;\n    // right: 0;\n    // top: 0;\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/menu.png\") center center no-repeat;\n    background-size: cover;\n    margin: 6px 0 10px 0;\n  }\n  .btnContainer {\n    position: absolute;\n    width: getRem(80);\n    height: getRem(80);\n    // margin-top: 0.3rem;\n    bottom: 10px;\n    .playBtn {\n      z-index: 2;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: getRem(42);\n      background: url(\"../assets/play.svg\") 55% 46% no-repeat;\n      background-size: getRem(32);\n      background-color: rgb(69, 106, 255);\n    }\n    .pauseBtn {\n      z-index: 2;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: getRem(42);\n      background: url(\"../assets/pause.svg\") center center no-repeat;\n      background-size: getRem(32);\n      background-color: rgb(69, 106, 255);\n    }\n    .bounceBtn {\n      position: absolute;\n      width: getRem(84);\n      height: getRem(84);\n      border-radius: getRem(42);\n      left: getRem(310);\n      background: url(\"../assets/check.svg\") center center no-repeat;\n      // background-size: getRem(32);\n    }\n    .cancelBtn {\n      position: absolute;\n      width: getRem(84);\n      height: getRem(84);\n      border-radius: getRem(42);\n      background: url(\"../assets/cancel.svg\") center center no-repeat;\n      // background-size: getRem(32);\n    }\n    .extendBtns {\n      // this element is within rotate, everything is opposite\n      position: absolute;\n      height: getRem(84);\n      border-radius: getRem(42);\n      overflow: hidden;\n      right: -1px;\n      z-index: 1;\n      transition: width 1s;\n      background: linear-gradient(\n        to right,\n        rgb(254, 64, 64),\n        rgb(142, 122, 239),\n        rgb(69, 106, 255) 80%\n      );\n    }\n    .extendBtnsShow {\n      width: getRem(690);\n    }\n    .extendBtnsHide {\n      width: getRem(84);\n    }\n  }\n}\n.scroll-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  background: url(\"../assets/pianolid.png\") no-repeat;\n  background-size: getRem(46) 100%;\n  // background-color:black;\n  // transform: rotate(90deg);\n  width: getRem(46);\n  height: 100%;\n  left: getRem(380);\n}\n.keyshadow {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  // background: url('../assets/pianolid.png') no-repeat;\n  background: linear-gradient(\n    to left,\n    rgba(28, 28, 28, 0.92) 0%,\n    rgba(48, 48, 48, 0.65) 10%,\n    rgba(118, 118, 118, 0.1) 40%,\n    rgba(0, 0, 0, 0) 100%\n  );\n  pointer-events: none;\n  // transform: rotate(90deg);\n  width: getRem(388);\n  height: 100%;\n  width: getRem(388);\n  left: 0;\n}\n.temp {\n  width: 0.7rem;\n  height: 0.7rem;\n  border-radius: 0.35rem;\n  margin: 0.5rem 0 0;\n  background: url(\"../assets/delete.svg\") center center no-repeat;\n  background-size: getRem(32);\n  background-color: #8e7aef;\n}\n\n#container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background-color: rgb(19, 19, 21);\n}\nh2 {\n  font-size: 20px;\n  color: #2c3e50;\n}\n\n// * {\n//   user-select: none;\n//   margin: 0;\n//   padding: 0;\n// }\n\n.container {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.keys {\n  // position: absolute;  //make whole keys appear\n  // 奇葩， adjust white and black heights influence all key layout\n  height: 100%;\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  justify-content: space-between;\n  float: left;\n  /* padding-right:getRem(347); */\n  box-sizing: border-box;\n}\n.semi-piano-roll {\n  top: 0;\n  width: getRem(328);\n  position: fixed;\n  right: 0;\n  height: 100%;\n  // background-color: rgb(19,19,21);\n  .swiper-container {\n    height: 100%;\n  }\n  .current-piano-roll {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    padding-top: 50px;\n    padding-left: getRem(18);\n    svg {\n      bottom: getRem(92);\n      height: 100%;\n      width: 100%;\n    }\n  }\n}\n\n.general-controller {\n  display: flex;\n  width: 2.5rem;\n  position: fixed;\n  right: 0;\n  height: 100%;\n  background: linear-gradient(\n    90deg,\n    rgba(40, 40, 40, 0.5) 0%,\n    rgba(40, 40, 40, 0.8) 100%\n  );\n  .funcBtn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: getRem(100);\n    height: getRem(220);\n    border-radius: getRem(10);\n    box-sizing: border-box;\n    &.record {\n      background-color: #b70411;\n      .recordHint {\n        width: getRem(50);\n        height: getRem(50);\n        background-color: white;\n        border-radius: 50%;\n      }\n      &.active {\n        background-color: red;\n        border: 1px solid white;\n      }\n    }\n    &.play {\n      background-color: #098244;\n      .playHint {\n        width: getRem(50);\n        height: getRem(50);\n        background: url(\"../assets/play.svg\") center center;\n        background-size: cover;\n      }\n      .stopHint {\n        width: getRem(45);\n        height: getRem(45);\n        background-color: white;\n        border-radius: 10%;\n      }\n      &.active {\n        background-color: #0aca0a;\n        border: 1px solid white;\n      }\n    }\n    &.undo {\n      background-color: #a4af00;\n      .undoHint {\n        width: getRem(50);\n        height: getRem(50);\n        background: url(\"../assets/undo.svg\") center center;\n        background-size: cover;\n      }\n      &:active {\n        background-color: #e3f300;\n        // border: 1px solid white;\n      }\n    }\n    &.bounce {\n      background-color: black;\n      .bounceHint {\n        width: getRem(50);\n        height: getRem(50);\n        background: url(\"../assets/bounce.svg\") center center;\n        background-size: cover;\n      }\n      &.active {\n        background-color: green;\n        border: 1px solid white;\n      }\n    }\n  }\n}\n.general-controller-enter-active,\n.general-controller-leave-active {\n  transition: all 0.5s ease;\n}\n.general-controller-enter,\n.general-controller-leave-to {\n  transform: translateX(3.5rem);\n}\n\n.progressBar {\n  position: fixed;\n  width: getRem(750);\n}\n\n/* piano keyboard layout css  */\n\n.white {\n  width: getRem(388);\n  height: 5.56%;\n  z-index: 1;\n  // border-left: 1px solid #bbb;\n  // border-bottom: 1px solid #bbb;\n  // border-radius: 0 0 5px 5px;\n  // box-shadow: 1px 0 0 rgba(80, 80, 80, 0.8) inset, 0 0 5px #ccc inset, 0 0 3px rgba(0, 0, 0, 0.2);\n  box-shadow: 0 0 1px rgba(65, 65, 65, 0.5) inset,\n    0 0 2px rgba(211, 211, 211, 0.5) inset;\n  // background: linear-gradient(to left, rgba(28,28,28,.92) 0%, rgba(48,48,48,.65) 10%,rgba(118,118,118,.1) 40%,rgba(0,0,0,0) 100%);\n  background-color: white;\n  &.active-note {\n    box-shadow: 2px 0 3px rgba(0, 0, 0, 0.1) inset,\n      -5px 5px 20px rgba(0, 0, 0, 0.2) inset, 0 0 3px rgba(0, 0, 0, 0.2);\n    // background: linear-gradient(to left, #555 0%, #ddd 40%, #eee 100%);\n    background: linear-gradient(to left, white, rgb(236, 236, 236));\n  }\n}\n\n.black {\n  position: relative;\n  width: getRem(200);\n  height: getRem(50);\n  margin-top: getRem(-50);\n  top: getRem(25);\n  // height: 4.3%; 百分比不好使\n  // margin-top: -4.3%;\n  // top: 2.15%;\n  z-index: 2;\n  border: 2px solid #000;\n  border-radius: getRem(8) 0px 0px getRem(8);\n  // box-shadow: -1px -1px 2px rgba(255, 255, 255, 0.2) inset, 0 -5px 2px 3px rgba(0, 0, 0, 0.6) inset, 0 2px 4px rgba(0, 0, 0, 0.5);\n  // background: linear-gradient(45deg, #222 0%, #555 100%);\n  background: url(\"../assets/blackkey.png\") center center no-repeat;\n  background-size: cover;\n  &.active-note {\n    // box-shadow: -1px -1px 2px rgba(255, 255, 255, 0.2) inset, 0 -2px 2px 3px rgba(0, 0, 0, 0.6) inset, 0 1px 2px rgba(0, 0, 0, 0.5);\n    // background: linear-gradient(to right, #444 0%, #222 100%);\n    background: url(\"../assets/blackkeydown.png\") center center no-repeat;\n    background-size: cover;\n  }\n}\n\n/* mask layout */\n\n.mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  p {\n    font-size: 0.57rem;\n    font-weight: 200;\n    transform: rotate(90deg);\n  }\n}\n.hint-mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  .hint-text {\n    transform: rotate(90deg);\n    text-align: right;\n  }\n  p {\n    font-size: 0.43rem;\n    font-weight: 200;\n  }\n  h3 {\n    font-size: 0.57rem;\n    font-weight: 400;\n  }\n  #timeline-hint {\n    position: absolute;\n    top: 2rem;\n    right: 1rem;\n  }\n  #play-hint {\n    position: absolute;\n    bottom: 2rem;\n    right: 1rem;\n  }\n  #longpress-hint {\n    position: absolute;\n    top: 3rem;\n    right: -1rem;\n  }\n  #swipe-hint {\n    position: absolute;\n    top: 2rem;\n    right: 4rem;\n  }\n  #clear-hint {\n    position: absolute;\n    bottom: 2rem;\n    right: 4rem;\n  }\n}\n.fadein {\n  animation: fadein 1s;\n  animation-fill-mode: forwards;\n}\n\n.fadeout {\n  animation: fadeout 1s;\n  animation-fill-mode: forwards;\n}\n@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n@keyframes fadeout {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n}\n\n.hide {\n  display: none;\n}\n\n.rotate {\n  transform: rotate(90deg);\n}\n.alert-mask {\n  position: absolute;\n  top: 0;\n  z-index: 100;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .mb-dialog {\n    position: relative;\n    rotate: 90deg;\n    width: getRem(570);\n    padding-top: getRem(75);\n    border-radius: getRem(50);\n    height: getRem(344);\n    background-color: rgba(255, 255, 255, 0.96);\n    display: flex;\n    flex-direction: column;\n    .title {\n      flex: 1;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-end;\n      position: relative;\n      width: 100%;\n      font-size: 0.32rem;\n    }\n    .input {\n      flex: 2;\n      flex-direction: column;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-start;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      input {\n        background: transparent;\n        border: none;\n        outline: none;\n        width: 100%;\n        height: 1rem;\n        font-size: 0.54rem;\n      }\n      .splitter {\n        position: relative;\n        width: 100%;\n        height: 1px;\n        background-color: gray;\n        padding: 0 getRem(77);\n      }\n    }\n    .btns {\n      flex: 4;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      span.btn {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        display: flex;\n        align-items: center;\n        padding-top: 0.6rem;\n      }\n      .cancel {\n        color: gray;\n        text-align: right;\n        justify-content: flex-start;\n        padding-left: getRem(77);\n      }\n      .confirm {\n        color: blue;\n        text-align: left;\n        justify-content: flex-end;\n        padding-right: getRem(77);\n      }\n    }\n  }\n  .menu {\n    display: flex;\n    top: 0;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    position: absolute;\n    // padding: getRem(40);\n    font-size: 0.5rem;\n    // top: 0;\n    bottom: -3.6rem;\n    width: getRem(240 * 2);\n    height: getRem(375 * 2);\n    background-color: $dark-gray;\n    color: white;\n    // important rotate\n    left: 100%;\n    transform-origin: 0% 0%;\n    transform: rotate(90deg);\n    .menu-op {\n      background-color: #3c3f4b;\n    }\n    #fullkey {\n      width: 34px;\n      height: 34px;\n      margin-right: 4px;\n      background: url(\"../assets/fullkey.png\") center center no-repeat;\n      background-size: contain;\n    }\n    #whitekey {\n      width: 34px;\n      height: 34px;\n      margin-right: 4px;\n      background: url(\"../assets/whitekey.png\") center center no-repeat;\n      background-size: contain;\n    }\n    .inactive {\n      opacity: 0.4;\n    }\n    > div {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      height: 100%;\n      background-color: $dark-gray;\n    }\n  }\n}\n\n.slide-enter-active {\n  transition: all 0.3s ease-out;\n  top: 0px;\n}\n.slide-leave-active {\n  transition: all 0.3s ease-out;\n  top: 0px;\n}\n.slide-enter, .slide-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n  top: -200px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NMBMaker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}},[_c('div',{class:['keys',_vm.tutorSession===8?'tutorial-highlight':''],on:{\"touchmove\":_vm.keng,\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.touchNoteStartHandler($event)},\"touchend\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"event\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.touchNoteEndHandler($event)}}},[_c('div',{class:['white', 'c', _vm.activeNote.C4?'active-note':''],attrs:{\"id\":\"C4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db4?'active-note':''],attrs:{\"id\":\"Db4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D4?'active-note':''],attrs:{\"id\":\"D4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb4?'active-note':''],attrs:{\"id\":\"Eb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E4?'active-note':''],attrs:{\"id\":\"E4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F4?'active-note':''],attrs:{\"id\":\"F4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'f-sharp', _vm.activeNote.Gb4?'active-note':''],attrs:{\"id\":\"Gb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'g', _vm.activeNote.G4?'active-note':''],attrs:{\"id\":\"G4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'a-minor', _vm.activeNote.Ab4?'active-note':''],attrs:{\"id\":\"Ab4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'a', _vm.activeNote.A4?'active-note':''],attrs:{\"id\":\"A4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'b-minor', _vm.activeNote.Bb4?'active-note':''],attrs:{\"id\":\"Bb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'b', _vm.activeNote.B4?'active-note':''],attrs:{\"id\":\"B4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'c', _vm.activeNote.C5?'active-note':''],attrs:{\"id\":\"C5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db5?'active-note':''],attrs:{\"id\":\"Db5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D5?'active-note':''],attrs:{\"id\":\"D5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb5?'active-note':''],attrs:{\"id\":\"Eb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E5?'active-note':''],attrs:{\"id\":\"E5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F5?'active-note':''],attrs:{\"id\":\"F5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'f-sharp', _vm.activeNote.Gb5?'active-note':''],attrs:{\"id\":\"Gb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'g', _vm.activeNote.G5?'active-note':''],attrs:{\"id\":\"G5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'a-minor', _vm.activeNote.Ab5?'active-note':''],attrs:{\"id\":\"Ab5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'a', _vm.activeNote.A5?'active-note':''],attrs:{\"id\":\"A5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'b-minor', _vm.activeNote.Bb5?'active-note':''],attrs:{\"id\":\"Bb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'b', _vm.activeNote.B5?'active-note':''],attrs:{\"id\":\"B5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'c', _vm.activeNote.C6?'active-note':''],attrs:{\"id\":\"C6\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db6?'active-note':''],attrs:{\"id\":\"Db6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D6?'active-note':''],attrs:{\"id\":\"D6\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb6?'active-note':''],attrs:{\"id\":\"Eb6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E6?'active-note':''],attrs:{\"id\":\"E6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F6?'active-note':''],attrs:{\"id\":\"F6\"}})]),_vm._v(\" \"),_c('div',{class:['keyshadow',_vm.tutorSession===8?'tutorial-highlight':'']}),_vm._v(\" \"),_c('div',{staticClass:\"scroll-container\"}),_vm._v(\" \"),_c('div',{staticClass:\"semi-piano-roll\",class:[(_vm.tutorSession===5||_vm.tutorSession===6)?'tutorial-highlight':''],on:{\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('swiper',{ref:\"pianoRoll\",attrs:{\"options\":_vm.pianoRollSwiperOption}},[_vm._l((_vm.PARTNUM),function(n){return _c('swiper-slide',[_c('div',{staticClass:\"current-piano-roll\"},[_c('svg',{style:({height:'90%',padding:_vm.timelineConfig.dotSize/2+'px 0'})},[_c('defs',[_c('filter',{attrs:{\"id\":\"glowing\",\"height\":\"400%\",\"width\":\"130%\",\"x\":\"-10%\",\"y\":\"-130%\"}},[_c('feMorphology',{attrs:{\"operator\":\"dilate\",\"radius\":\"1\",\"in\":\"SourceAlpha\",\"result\":\"thicken\"}}),_vm._v(\" \"),_c('feGaussianBlur',{attrs:{\"in\":\"thicken\",\"stdDeviation\":\"2\",\"result\":\"blurred\"}}),_vm._v(\" \"),_c('feFlood',{attrs:{\"flood-color\":\"rgb(200,200,255)\",\"result\":\"glowColor\"}}),_vm._v(\" \"),_c('feComposite',{attrs:{\"in\":\"glowColor\",\"in2\":\"blurred\",\"operator\":\"in\",\"result\":\"softGlow_colored\"}}),_vm._v(\" \"),_c('feMerge',[_c('feMergeNode',{attrs:{\"in\":\"softGlow_colored\"}}),_vm._v(\" \"),_c('feMergeNode',{attrs:{\"in\":\"SourceGraphic\"}})],1)],1)]),_vm._v(\" \"),_vm._l((_vm.recordPart),function(item,index){return (_vm.activePartIndex===(_vm.PARTNUM-n))?_c('rect',{attrs:{\"x\":2,\"y\":100*item.time/20-0.2 + '%',\"width\":_vm.mapNoteMidiToLength(item.note),\"height\":\"3\",\"rx\":\"2\",\"ry\":\"2\",\"fill\":_vm.mapNoteTimeToColor(item.time),\"filter\":\"url(#glowing)\"},on:{\"click\":function($event){return _vm.removeNoteInRecordPart(index)}}}):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.recordParts[_vm.PARTNUM-n]),function(item,index){return _c('rect',{attrs:{\"x\":2,\"y\":100*item.time/20-0.2 + '%',\"width\":_vm.mapNoteMidiToLength(item.note),\"height\":\"3\",\"rx\":\"2\",\"ry\":\"2\",\"fill\":_vm.activePartIndex===(_vm.PARTNUM-n)?_vm.mapNoteTimeToColor(item.time):'rgb(120,120,120)',\"filter\":_vm.activePartIndex===(_vm.PARTNUM-n)?'url(#glowing)':''},on:{\"click\":function($event){return _vm.removeNoteInRecordPart(index,_vm.PARTNUM-n)}}})})],2),_vm._v(\" \"),_c('div',{staticClass:\"temp\",on:{\"click\":function($event){return _vm.clearRecordPart(_vm.PARTNUM-n)}}})])])}),_vm._v(\" \"),_c('swiper-slide'),_vm._v(\" \"),_c('swiper-slide')],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"g-controller\"},[_c('div',{staticClass:\"rotate\",class:[_vm.tutorSession===4?'tutorial-highlight':''],attrs:{\"id\":\"menuicon\"},on:{\"touchstart\":function($event){_vm.menuAppear=true}}}),_vm._v(\" \"),(_vm.fuckReady)?_c('vue-slider',_vm._b({ref:\"timeline\",class:[_vm.tutorSession===2?'tutorial-highlight':''],attrs:{\"show\":_vm.screenOrientation==='portrait'},on:{\"callback\":_vm.adjustTimeline},model:{value:(_vm.vuetimeline),callback:function ($$v) {_vm.vuetimeline=$$v},expression:\"vuetimeline\"}},'vue-slider',_vm.timelineConfig,false)):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btnContainer\",class:[_vm.tutorSession===3?'tutorial-highlight':'']},[_c('div',{class:[_vm.playing?'pauseBtn':'playBtn', 'rotate'],on:{\"click\":_vm.toggleReplay}})])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear),expression:\"alertAppear\"}],staticClass:\"alert-mask\"},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"减少些音符才能做成音乐盒，是否继续上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear=false}}},[_vm._v(\"再调整\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.bounceProject}},[_vm._v(\"任性上传\")])])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bouncing),expression:\"bouncing\"}],staticClass:\"mask\"},[_c('p',[_vm._v(\"存储中...\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession>0),expression:\"tutorSession>0\"}],staticClass:\"hint-mask\",attrs:{\"id\":\"tutorial-mask\"},on:{\"touchend\":_vm.tutorProgress}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===2),expression:\"tutorSession===2\"}],staticClass:\"hint-text\",attrs:{\"id\":\"timeline-hint\"}},[_c('h3',[_vm._v(\"进度条\")]),_vm._v(\" \"),_c('p',[_vm._v(\"拖动原点改变时间\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===3),expression:\"tutorSession===3\"}],staticClass:\"hint-text\",attrs:{\"id\":\"play-hint\"}},[_c('h3',[_vm._v(\"功能按钮\")]),_vm._v(\" \"),_c('p',[_vm._v(\"点击播放/暂停\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===4),expression:\"tutorSession===4\"}],staticClass:\"hint-text\",attrs:{\"id\":\"longpress-hint\"}},[_c('h3',[_vm._v(\"功能按钮\")]),_vm._v(\" \"),_c('p',[_vm._v(\"点击后点击：保存/取消\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===5),expression:\"tutorSession===5\"}],staticClass:\"hint-text\",attrs:{\"id\":\"swipe-hint\"}},[_c('h3',[_vm._v(\"多轨编曲\")]),_vm._v(\" \"),_c('p',[_vm._v(\"上下滑动切换轨道编曲\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===6),expression:\"tutorSession===6\"}],staticClass:\"hint-text\",attrs:{\"id\":\"clear-hint\"}},[_c('h3',[_vm._v(\"多轨编曲\")]),_vm._v(\" \"),_c('p',[_vm._v(\"清空轨道\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.handClass!='hidehand'),expression:\"handClass!='hidehand'\"}],class:[_vm.tutorClass],attrs:{\"id\":\"tutorhand\"}},[_c('div',{class:[_vm.handClass]})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuAppear),expression:\"menuAppear\"}],staticClass:\"alert-mask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.menuAppear=false}}},[_c('div',{staticClass:\"menu\"},[_c('div',{on:{\"touchstart\":_vm.bounceProject}},[_vm._v(\"完成作品\")]),_vm._v(\" \"),_c('div',{on:{\"touchstart\":function($event){_vm.menuAppear=false}}},[_vm._v(\"退出\")])])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0866545f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NMBMaker.vue\n// module id = null\n// module chunks = ","<script>\nexport default {\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String,\n    onClickCall: {\n      type: Function,\n      default() {\n        return function() {\n          console.log(\"tap tap in count Button\");\n        };\n      }\n    }\n  },\n  computed: {\n    style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    }\n  },\n  data() {\n    return {\n      currentActiveCount: 0,\n      currentActive: false\n    };\n  },\n  watch: {},\n  created() {\n    this.currentActive = this.initActive;\n    this.currentActiveCount = this.currentActive\n      ? this.initCount\n      : this.initCount + 1;\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    updateButton() {\n      // if (this.currentActive) {\n      //   this.currentActiveCount -= 1;\n      // } else {\n      //   this.currentActiveCount += 1;\n      // }\n      this.currentActive = !this.currentActive;\n      this.onClickCall();\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"btnContainer\" @click=\"updateButton\">\n    <transition name=\"fade\">\n      <div class=\"active-btn-background\" v-show=\"currentActive\"></div>\n    </transition>\n    <transition name=\"slideDown\">\n      <div class=\"btn active\" v-show=\"currentActive\">\n        <img src=\"../../assets/heartfill.svg\" class=\"heart\">\n        <p>{{currentActiveCount}}</p>\n      </div>\n    </transition>\n    <transition name=\"slideUp\">\n      <div class=\"btn inactive\" v-show=\"!currentActive\">\n        <img src=\"../../assets/heartstroke.svg\" class=\"heart\">\n        <p>{{currentActiveCount-1}}</p>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../../_common/style/_functions.scss\";\n@import \"../../_common/style/_variables.scss\";\n@import \"../../_common/style/_mixins.scss\";\n@import \"../../_common/style/_reboot.scss\";\n.btnContainer {\n  position: relative;\n  width: getRem(92);\n  height: getRem(68);\n  // border: 1px solid #7d839e;\n  // border-radius: 50%;\n  overflow: hidden;\n  // -webkit-mask-image: -webkit-radial-gradient(circle, white, black);\n  .active-btn-background {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    // background-color: #7d839e;\n    // border-radius: 50%;\n    border: none;\n    overflow: hidden;\n  }\n  .active {\n    // background-color:#7D839E;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    // border-radius: 50%;\n    display: flex;\n    flex-direction: row;\n    color: white;\n    align-items: center;\n    justify-content: space-around;\n    .heart {\n      width: getRem(56);\n      height: getRem(50);\n    }\n    p {\n      font-size: getRem(36);\n      // margin: 0 0 0.1rem 0;\n      color: #707baa;\n    }\n  }\n  .inactive {\n    // background-color:blue;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    // border-radius: 50%;\n    display: flex;\n    flex-direction: row;\n    color: white;\n    align-items: center;\n    justify-content: space-around;\n    .heart {\n      width: getRem(56);\n      height: getRem(50);\n    }\n    p {\n      font-size: getRem(36);\n      // margin: 0 0 0.1rem 0;\n      color: #7d839e;\n    }\n  }\n}\n//\n.slideDown-enter-active {\n  transition: all 0.3s ease-out;\n}\n.slideDown-leave-active {\n  transition: all 0.3s ease-out;\n}\n.slideDown-enter,.slideDown-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  transform: translateY(100%);\n  opacity: 0;\n}\n.slideUp-enter-active {\n  transition: all 0.3s ease-out;\n}\n.slideUp-leave-active {\n  transition: all 0.3s ease-out;\n}\n.slideUp-enter,.slideUp-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  transform: translateY(-100%);\n  opacity: 0;\n}\n.fade-enter-active {\n  transition: all 0.3s ease-out;\n}\n.fade-leave-active {\n  transition: all 0.3s ease-out;\n}\n.fade-enter, .fade-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/countButton.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btnContainer\",on:{\"click\":_vm.updateButton}},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentActive),expression:\"currentActive\"}],staticClass:\"active-btn-background\"})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slideDown\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentActive),expression:\"currentActive\"}],staticClass:\"btn active\"},[_c('img',{staticClass:\"heart\",attrs:{\"src\":require(\"../../assets/heartfill.svg\")}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.currentActiveCount))])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slideUp\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.currentActive),expression:\"!currentActive\"}],staticClass:\"btn inactive\"},[_c('img',{staticClass:\"heart\",attrs:{\"src\":require(\"../../assets/heartstroke.svg\")}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.currentActiveCount-1))])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d7b6d28\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/countButton.vue\n// module id = null\n// module chunks = ","<script>\n// window.Tone = require('tone')\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport { mbMixin } from \"../_common/js/mixin.js\";\nimport CountButton from \"./common/countButton\";\nimport * as WxShare from \"../_common/js/wx_share\";\n\n// const musicPart;\n\nexport default {\n  mixins: [mbMixin],\n  components: {\n    CountButton\n  },\n  data() {\n    return {\n      // playing: false,\n      loading: true,\n      workIntroAppear: false,\n      controlPanalAppear: false,\n      workUpdateAppear: false,\n      playing: false,\n      userId: 0,\n      favStatus: false,\n      newWorkTitle: \"\",\n      newMessage: \"\",\n      newCover: \"\",\n      finalNewWorkTitle: \"\"\n    };\n  },\n  computed: {\n    project() {\n      return this.$store.state.recordProject;\n    },\n    projectInfo() {\n      return this.$store.state.recordProjectInfo;\n    }\n  },\n  methods: {\n    load() {},\n    loadMusicById() {\n      // alert(2);\n      console.log(\"hehe\", this.$store.state);\n      const { id } = this.$store.state.route.query;\n      if (id) {\n        // 从id取作品\n        console.log(\"mmm\", id);\n        this.$store.dispatch(\"FETCH_MBOX\", { id }).then(() => {\n          console.log(\"workPart\", this.project);\n          console.log(\"work info\", this.projectInfo);\n          this.favStatus = this.projectInfo.favStatus;\n          this.newWorkTitle =\n            this.projectInfo.title === \"尚未起名\" ? \"\" : this.projectInfo.title;\n          this.newMessage = this.projectInfo.content;\n          this.newCover = this.projectInfo.cover;\n          // alert('load complete');\n          // this.togglePlay();\n          document.title = this.projectInfo.title;\n          const fullPath = `${location.origin}${\n            location.pathname\n          }#/new-music-box-viewer?id=${this.$store.state.route.query.id}`;\n          WxShare.prepareShareContent({\n            title: `${this.projectInfo.userVO.realname}做了个八音盒-${\n              this.projectInfo.title\n            }`,\n            desc: \"一般人儿我不告诉TA\",\n            // fullPath:location.href.split('#')[0],\n            fullPath,\n            imgUrl:\n              this.projectInfo.cover ||\n              \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n          });\n        });\n      } else {\n        // 不会出现这个情况\n        // this.$store.dispatch(\"FETCH_MBOX\", { id: 50 }).then(() => {\n        //   console.log(\"workPart\", this.project);\n        //   console.log(\"work info\", this.projectInfo);\n        //   this.favStatus = this.projectInfo.favStatus;\n        //   // alert('load complete');\n        //   // this.togglePlay();\n        // });\n      }\n    },\n    togglePlay() {\n      this.playing\n        ? this.$ga.event(\"Song\", \"stop_20s\", `${this.projectInfo.id}`)\n        : this.$ga.event(\"Song\", \"play_20s\", `${this.projectInfo.id}`);\n      Magic.preview(this.project, !this.playing);\n      this.playing = !this.playing;\n    },\n    toggleFav() {\n      if (!this.favStatus)\n        this.$ga.event(\"Song\", \"fav\", `${this.projectInfo.id}`);\n      this.favStatus = +!this.favStatus;\n      Api.toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      })\n        .then(() => {})\n        .catch(err => {\n          // alert(JSON.stringify(err))\n        });\n    },\n    uploadPic() {\n      WxShare.selectAndUploadImage(\n        imgUrl => {\n          console.log(\"url:\", imgUrl);\n          this.newCover = imgUrl;\n        },\n        () => {\n          // alert(\"mayemeigan\");\n        }\n      );\n    },\n    updateWork() {\n      if (!this.newWorkTitle) {\n        this.$toast(\"作品名称不能为空\");\n        return;\n      }\n      Api.updateWork({\n        id: this.$store.state.route.query.id,\n        title: this.newWorkTitle,\n        cover: this.newCover,\n        content: this.newMessage\n      })\n        .then(\n          () => {\n            this.$toast(\"作品更新成功\");\n            this.workUpdateAppear = false;\n            this.finalNewWorkTitle = this.newWorkTitle;\n            document.title = this.finalNewWorkTitle;\n            const fullPath = `${location.origin}${\n              location.pathname\n            }#/new-music-box-viewer?id=${this.$store.state.route.query.id}`;\n            WxShare.prepareShareContent({\n              title: `${this.projectInfo.userVO.realname}做了个八音盒-${\n                this.newWorkTitle\n              }`,\n              desc: \"一般人儿我不告诉TA\",\n              // fullPath:location.href.split('#')[0],\n              fullPath,\n              imgUrl:\n                this.projectInfo.cover ||\n                \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n            });\n          },\n          () => {\n            this.$toast(\"作品更新失败\");\n          }\n        )\n        .catch(() => {\n          this.$toast(\"作品更新失败\");\n        });\n    },\n    redirectToMaker() {\n      this.$ga.event(\"Work\", \"create\", \"fromSharePage\");\n      this.$router.push({\n        path: \"/new-music-box-maker\"\n        // query: {\n        //   id\n        // }\n      });\n    },\n    guideShare() {\n      this.$toast(\"作品取名后，点击右上角分享哦～\");\n    },\n    redirectToMusixiser(id) {\n      if (id) {\n        this.$router.push({\n          path: \"/musixiser\",\n          query: {\n            id\n          }\n        });\n      }\n    },\n    positionWindow() {\n      window.scroll(0, 0);\n    },\n    purchaseItem() {\n      this.$ga.event(\"MakeMB\", \"tap\", `${this.projectInfo.id}`);\n      if (this.projectInfo.machineNum > 18) {\n        this.$toast(\"该作品目前无法制作\");\n        return;\n      }\n      // TODO: router push with workId\n      console.log(`you are about to purchase ${this.projectInfo.id}`);\n      this.$store.commit(\"SAVE_ORDER_INFO\", {\n        work: {\n          ...this.projectInfo,\n          title: this.newWorkTitle,\n          content: this.newMessage\n        }\n      }); // store current workId\n\n      this.$router.push({\n        path: \"/product-list\",\n        query: {\n          // id\n        }\n      });\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    next();\n  },\n  created() {\n    // check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    const self = this;\n    const docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = `${window.rem}px`;\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      self.loadMusicById();\n      return;\n    }\n    const fullPath = `${location.origin}${\n      location.pathname\n    }#/new-music-box-viewer?id=${self.$store.state.route.query.id}`;\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"分享一个八音盒\",\n        // fullPath:location.href.split('#')[0],\n        fullPath,\n        imgUrl: \"https://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      // TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          self.userId = res.data.data.userId;\n          // alert(`welcome${res.data.data.realname}`)\n          // if (!this.project) {\n          self.loadMusicById();\n          // }\n\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      // 又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {\n    // this.startRecord();\n    setTimeout(() => {\n      this.loading = false;\n    }, 2000);\n    setTimeout(() => {\n      this.workIntroAppear = true;\n    }, 4500);\n    setTimeout(() => {\n      this.controlPanalAppear = true;\n    }, 5500);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div :class=\"['container', loading?'loading':'']\">\n    <div id=\"ground\"></div>\n    <div id=\"spirit\">\n      <div class=\"spirit-part\" id=\"spirit-body\"></div>\n      <div class=\"spirit-part\" id=\"spirit-front-leaf\"></div>\n      <div class=\"spirit-part\" id=\"spirit-back-leaf\"></div>\n      <div class=\"spirit-part\" id=\"spirit-back1\"></div>\n      <div class=\"spirit-part\" id=\"spirit-back2\"></div>\n    </div>\n    <div id=\"mb\" @click=\"togglePlay\">\n      <div :class=\"['mb-part', playing?'playing':'']\" id=\"mb-lid\"></div>\n      <div class=\"mb-part\" id=\"mb-body\">\n        <div id=\"play-btn\" v-show=\"!playing\"></div>\n        <div id=\"pause-btn\" v-show=\"playing\"></div>\n      </div>\n      <div id=\"mb-shiner\" :class=\"[playing?'':'not-playing']\"></div>\n    </div>\n    <transition name=\"fade\">\n      <div id=\"music-aurora\" v-show=\"playing\"></div>\n    </transition>\n    <div id=\"low-leaf1\"></div>\n    <div id=\"low-leaf2\"></div>\n    <div id=\"low-leaf3\"></div>\n    <div id=\"low-leaf4\"></div>\n    <div id=\"mid-leaf1\"></div>\n    <div id=\"mid-leaf2\"></div>\n    <div id=\"mid-leaf3\"></div>\n    <div id=\"mid-leaf4\"></div>\n    <div id=\"top-leaf1\"></div>\n    <div id=\"top-leaf2\"></div>\n    <div id=\"top-leaf3\"></div>\n    <div id=\"top-leaf4\"></div>\n    <div id=\"top-leaf5\"></div>\n    <div id=\"top-leaf6\"></div>\n    <transition name=\"bounce\">\n      <div id=\"work-intro\" v-if=\"workIntroAppear\">\n        <div\n          class=\"title\"\n          @click=\"userId === projectInfo.userId?workUpdateAppear=true:workUpdateAppear=false\"\n        >{{finalNewWorkTitle||projectInfo.title}}</div>\n        <div class=\"subtitle\">\n          <span>by</span>\n          <span @click=\"redirectToMusixiser(projectInfo.userVO.userId)\">\n            <img :src=\"projectInfo.userVO.smallAvatar\" alt>\n          </span>\n          <span>{{projectInfo.userVO.realname}}</span>\n        </div>\n        <div v-if=\"userId === projectInfo.userId\" id=\"edit-work\" @click=\"workUpdateAppear=true\"></div>\n      </div>\n    </transition>\n    <transition name=\"bounce\">\n      <div id=\"control-panal\" v-if=\"controlPanalAppear\">\n        <!-- <div class=\"likeBtn\">\n        <div class=\"active\">\n          <div class=\"\"></div>\n          <p>1</p>\n        </div>\n        <div class=\"inactive\">\n          <div class=\"\"></div>\n          <p>0</p>\n        </div>\n        </div>-->\n        <count-button\n          style=\"top:.05rem;\"\n          :initCount=\"projectInfo.collectNum?projectInfo.collectNum:0\"\n          :initActive=\"projectInfo.favStatus?true:false\"\n          iconImg\n          :onClickCall=\"toggleFav\"\n        />\n        <div class=\"download-info\">\n          <div class=\"likes\" @click=\"downloadWork(projectInfo)\">\n            <img v-if=\"!projectInfo.wavAccess\" src=\"../assets/download1.svg\" alt>\n            <img v-if=\"projectInfo.wavAccess\" src=\"../assets/download2.svg\" alt>\n            <p>.wav</p>\n          </div>\n        </div>\n        <div class=\"button_group\">\n          <button v-if=\"userId !== projectInfo.userId\" @click=\"redirectToMaker\">我来试试</button>\n          <button v-if=\"userId === projectInfo.userId\" @click=\"guideShare\">分享</button>\n          <button :class=\"[projectInfo.machineNum>18?'':'']\" @click=\"purchaseItem\">制作八音盒</button>\n        </div>\n        <!-- <div\n          :class=\"['purchaseBtn',projectInfo.machineNum>18?'disabled':'']\"\n          @click=\"purchaseItem\"\n        >购买</div>\n        <div class=\"makeBtn\" @click=\"redirectToMaker\">编曲</div>-->\n      </div>\n    </transition>\n    <transition name=\"fade\">\n      <div id=\"work-update-mask\" v-show=\"workUpdateAppear\" @click.self=\"workUpdateAppear=false\">\n        <div class=\"mb-dialog\">\n          <div class=\"dialog-sector\">\n            <div class=\"title\">配图</div>\n            <img\n              class=\"work-cover\"\n              :src=\"newCover||'https://cdn.cnbj1.fds.api.mi-img.com/mbox/img/default-s-bg.jpg'\"\n              @click=\"uploadPic\"\n              alt\n            >\n          </div>\n          <div class=\"splitter\"></div>\n          <div class=\"dialog-sector\">\n            <div class=\"title\">曲名</div>\n            <div class=\"input\">\n              <input v-model=\"newWorkTitle\" @blur=\"positionWindow\" type=\"text\" placeholder=\"曲名\">\n            </div>\n          </div>\n          <div class=\"splitter\"></div>\n          <div class=\"dialog-sector\">\n            <div class=\"title\">留言</div>\n            <div class=\"input\">\n              <input v-model=\"newMessage\" @blur=\"positionWindow\" type=\"text\" placeholder=\"留言\">\n            </div>\n          </div>\n          <div class=\"splitter\"></div>\n        </div>\n        <div class=\"confirm-btn\" @click=\"updateWork\">保存</div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n@import \"./NMBViewer.scss\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NMBViewer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['container', _vm.loading?'loading':'']},[_c('div',{attrs:{\"id\":\"ground\"}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mb\"},on:{\"click\":_vm.togglePlay}},[_c('div',{class:['mb-part', _vm.playing?'playing':''],attrs:{\"id\":\"mb-lid\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mb-part\",attrs:{\"id\":\"mb-body\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],attrs:{\"id\":\"play-btn\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"pause-btn\"}})]),_vm._v(\" \"),_c('div',{class:[_vm.playing?'':'not-playing'],attrs:{\"id\":\"mb-shiner\"}})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"music-aurora\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf5\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf6\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.workIntroAppear)?_c('div',{attrs:{\"id\":\"work-intro\"}},[_c('div',{staticClass:\"title\",on:{\"click\":function($event){_vm.userId === _vm.projectInfo.userId?_vm.workUpdateAppear=true:_vm.workUpdateAppear=false}}},[_vm._v(_vm._s(_vm.finalNewWorkTitle||_vm.projectInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"subtitle\"},[_c('span',[_vm._v(\"by\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.redirectToMusixiser(_vm.projectInfo.userVO.userId)}}},[_c('img',{attrs:{\"src\":_vm.projectInfo.userVO.smallAvatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.projectInfo.userVO.realname))])]),_vm._v(\" \"),(_vm.userId === _vm.projectInfo.userId)?_c('div',{attrs:{\"id\":\"edit-work\"},on:{\"click\":function($event){_vm.workUpdateAppear=true}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.controlPanalAppear)?_c('div',{attrs:{\"id\":\"control-panal\"}},[_c('count-button',{staticStyle:{\"top\":\".05rem\"},attrs:{\"initCount\":_vm.projectInfo.collectNum?_vm.projectInfo.collectNum:0,\"initActive\":_vm.projectInfo.favStatus?true:false,\"iconImg\":\"\",\"onClickCall\":_vm.toggleFav}}),_vm._v(\" \"),_c('div',{staticClass:\"download-info\"},[_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.downloadWork(_vm.projectInfo)}}},[(!_vm.projectInfo.wavAccess)?_c('img',{attrs:{\"src\":require(\"../assets/download1.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.projectInfo.wavAccess)?_c('img',{attrs:{\"src\":require(\"../assets/download2.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('p',[_vm._v(\".wav\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"button_group\"},[(_vm.userId !== _vm.projectInfo.userId)?_c('button',{on:{\"click\":_vm.redirectToMaker}},[_vm._v(\"我来试试\")]):_vm._e(),_vm._v(\" \"),(_vm.userId === _vm.projectInfo.userId)?_c('button',{on:{\"click\":_vm.guideShare}},[_vm._v(\"分享\")]):_vm._e(),_vm._v(\" \"),_c('button',{class:[_vm.projectInfo.machineNum>18?'':''],on:{\"click\":_vm.purchaseItem}},[_vm._v(\"制作八音盒\")])])],1):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.workUpdateAppear),expression:\"workUpdateAppear\"}],attrs:{\"id\":\"work-update-mask\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.workUpdateAppear=false}}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"dialog-sector\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"配图\")]),_vm._v(\" \"),_c('img',{staticClass:\"work-cover\",attrs:{\"src\":_vm.newCover||'https://cdn.cnbj1.fds.api.mi-img.com/mbox/img/default-s-bg.jpg',\"alt\":\"\"},on:{\"click\":_vm.uploadPic}})]),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-sector\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"曲名\")]),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newWorkTitle),expression:\"newWorkTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"曲名\"},domProps:{\"value\":(_vm.newWorkTitle)},on:{\"blur\":_vm.positionWindow,\"input\":function($event){if($event.target.composing){ return; }_vm.newWorkTitle=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-sector\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"留言\")]),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newMessage),expression:\"newMessage\"}],attrs:{\"type\":\"text\",\"placeholder\":\"留言\"},domProps:{\"value\":(_vm.newMessage)},on:{\"blur\":_vm.positionWindow,\"input\":function($event){if($event.target.composing){ return; }_vm.newMessage=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"})]),_vm._v(\" \"),_c('div',{staticClass:\"confirm-btn\",on:{\"click\":_vm.updateWork}},[_vm._v(\"保存\")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spirit\"}},[_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-body\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-front-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back2\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-619611f8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NMBViewer.vue\n// module id = null\n// module chunks = ","export const demo1 = {\n  tempo: 160,\n  rectArray: [[0, 0, 1], [1, 0, 0], [0, 0, 0], [0, 0, 0], [1, 1, 1], [1, 1, 0], [0, 1], [1], [1], [1], [0], [0], [0], [0], [1], [0], [0, 0, 0], [0, 0, 0]],\n  keyboardMode: 'whitekey'\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/rolldemo.js","export const scales = {\n  whitekey: {\n    musicScale: [\n      0, 2, 4, 5, 7, 9, 11, 12, 14, 16, 17, 19, 21, 23, 24, 26, 28, 29\n    ],\n    initKey: 60,\n    img: ''\n  },\n  fullkey: {\n    musicScale: [\n      0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30\n    ],\n    initKey: 60,\n    img: ''\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/seqModes.js","<script>\n// https://codepen.io/jo-asakura/pen/stFHi\nexport default {\n  props: {\n    progress: Number,\n  },\n  computed: {\n    style() {},\n  },\n  data() {\n    return {};\n  },\n  watch: {},\n  created() {\n    // alert(this.progress)\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    updateButton() {},\n  },\n};\n</script>\n\n<template>\n  <!-- <div class=\"radial-progress\">\n    <div class=\"circle\">\n      <div class=\"mask full\" :style=\"{transform:`rotate(${progress*1.8}deg)`}\">\n        <div class=\"fill\" :style=\"{transform:`rotate(${progress*1.8}deg)`}\"></div>\n      </div>\n      <div class=\"mask half\">\n        <div class=\"fill\" :style=\"{transform:`rotate(${progress*1.8}deg)`}\"></div>\n        <div class=\"fill fix\" :style=\"{transform:`rotate(${progress*3.6}deg)`}\"></div>\n      </div>      \n    </div>\n  </div> -->\n  <div>\n    <div class=\"pie-wrapper pie-wrapper--solid\">\n      <div class=\"before\" \n      :style=\"{\n        background:progress<=50?'#25252b':'#979797',\n        transform:progress<=50?`rotate(${(100  - progress) / 100 * -360}deg)`:`rotate(${(progress-50) / 100 * 360}deg)`\n        }\" />\n      <!-- <span class=\"label\">{{progress}}<span class=\"smaller\">%</span></span> -->\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../../_common/style/_functions.scss\";\n@import \"../../_common/style/_variables.scss\";\n@import \"../../_common/style/_mixins.scss\";\n@import \"../../_common/style/_reboot.scss\";\n@import \"./pieProgress.scss\";\n\n$big-circle-size: 34px;\n$circle-size: 30px;\n$circle-background: #25252b;\n$circle-color: #979797;\n$transition-length: 0.1s;\n.radial-progress {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: $big-circle-size;\n  height: $big-circle-size;\n  background-color: $circle-background;\n  border-radius: 50%;\n  .circle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .mask,\n    .fill {\n      width: $circle-size;\n      height: $circle-size;\n      position: absolute;\n      border-radius: 50%;\n      // transition: -webkit-transform $transition-length;\n      // transition: -ms-transform $transition-length;\n      // transition: transform $transition-length;\n      backface-visibility: hidden;\n    }\n    .mask {\n      clip: rect(0px, $circle-size, $circle-size, $circle-size/2);\n      .fill {\n        clip: rect(0px, $circle-size/2, $circle-size, 0px);\n        background-color: $circle-color;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/pieProgress.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pie-wrapper pie-wrapper--solid\"},[_c('div',{staticClass:\"before\",style:({\n      background:_vm.progress<=50?'#25252b':'#979797',\n      transform:_vm.progress<=50?(\"rotate(\" + ((100  - _vm.progress) / 100 * -360) + \"deg)\"):(\"rotate(\" + ((_vm.progress-50) / 100 * 360) + \"deg)\")\n      })})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f49f988e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/pieProgress.vue\n// module id = null\n// module chunks = ","<script>\nexport default {\n  props: {\n    radius: Number,\n    progress: Number,\n    stroke: Number\n  },\n  data() {\n    const normalizedRadius = this.radius - this.stroke * 2;\n    const circumference = normalizedRadius * 2 * Math.PI;\n\n    return {\n      normalizedRadius,\n      circumference\n    };\n  },\n  computed: {\n    strokeDashoffset() {\n      return this.circumference - (this.progress / 100) * this.circumference;\n    }\n  }\n};\n</script>\n<template>\n  <svg :height=\"radius * 2\" :width=\"radius * 2\">\n    <circle\n      stroke=\"#456aff\"\n      :stroke-dasharray=\"circumference + ' ' + circumference\"\n      :style=\"{ strokeDashoffset: strokeDashoffset }\"\n      :stroke-width=\"stroke\"\n      fill=\"transparent\"\n      :r=\"normalizedRadius\"\n      :cx=\"radius\"\n      :cy=\"radius\"\n    ></circle>\n  </svg>\n</template>\n\n\n// WEBPACK FOOTER //\n// src/components/common/anotherPieProgress.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"height\":_vm.radius * 2,\"width\":_vm.radius * 2}},[_c('circle',{style:({ strokeDashoffset: _vm.strokeDashoffset }),attrs:{\"stroke\":\"#456aff\",\"stroke-dasharray\":_vm.circumference + ' ' + _vm.circumference,\"stroke-width\":_vm.stroke,\"fill\":\"transparent\",\"r\":_vm.normalizedRadius,\"cx\":_vm.radius,\"cy\":_vm.radius}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57fedd5f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/anotherPieProgress.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./anotherPieProgress.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./anotherPieProgress.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57fedd5f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./anotherPieProgress.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/anotherPieProgress.vue\n// module id = null\n// module chunks = ","<script>\n// TODO: IMPORTANT MEMO: reschedule(clear then schedule, might lead to jump/click)\n// activeJ那块 现找播放行不行\n\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport * as WxShare from \"../_common/js/wx_share\";\n\nimport * as RollDemo from \"../_common/js/rolldemo\"; //test\n\nimport { scales } from \"../_common/js/seqModes\";\nimport pieProgress from \"./common/pieProgress\";\nimport anotherPieProgress from \"./common/anotherPieProgress\";\nimport Vue from \"vue\";\nimport VueKonva from \"vue-konva\";\n\nVue.use(VueKonva);\nwindow.Tone = require(\"tone\");\nconst musicPart = undefined;\nlet last_i = -1;\nlet last_j = -1;\nwindow.cursorSchedules = [];\nlet aInterval = undefined;\nlet extendBtnsTimeout = undefined;\nconst TIME_PER_NOTE = 0.25; // quarter note seemingly\nconst FULL_NOTE_NUM = 120; // max tempo 180, 20seconds => 120 notes, :test 30.\nconst NOTE_NUM_PER_SECTOR = 10; // :test 10\nconst MB_DUR = 20; // 20 seconds length // :test 5\nconst MIN_TEMPO = 60;\nconst MAX_TEMPO = 180;\nconst NOTE_CATEGORY_PAGE_LIMIT = 12; // above this, will have scroll\nconst DEFAULT_KEYBOARD_MODE = \"whitekey\";\nconst synth = new Tone.Sampler(\n  {\n    C4: \"C4.[mp3|ogg]\",\n    \"D#4\": \"Ds4.[mp3|ogg]\",\n    \"F#4\": \"Fs4.[mp3|ogg]\",\n    A4: \"A4.[mp3|ogg]\",\n    C5: \"C5.[mp3|ogg]\",\n    \"D#5\": \"Ds5.[mp3|ogg]\",\n    \"F#5\": \"Fs5.[mp3|ogg]\",\n    A5: \"A5.[mp3|ogg]\",\n    C6: \"C6.[mp3|ogg]\"\n  },\n  {\n    release: 1,\n    // 'baseUrl': '/static/audio/'\n    baseUrl: \"//cnbj1.fds.api.xiaomi.com/mbox/audio/\"\n  }\n).toMaster();\n\n// var pulseOptions = {\n//   oscillator: {\n//     type: \"triangle\"\n//   },\n//   envelope: {\n//     release: 0.07\n//   }\n// };\n// const piano = new Tone.PolySynth(18, Tone.Synth, pulseOptions).toMaster();\nexport default {\n  components: {\n    pieProgress,\n    anotherPieProgress\n  },\n  data() {\n    return {\n      scales,\n      NOTE_CATEGORY: scales[DEFAULT_KEYBOARD_MODE].musicScale.length,\n      ONE_PAGE_NOTE_NUM: 20,\n      NOTE_NUM_PER_SECTOR,\n      CONST_NOTE_NUM_PER_SECTOR: NOTE_NUM_PER_SECTOR,\n      MB_DUR,\n      tempo: 120,\n      controlWidth: 0, // will be whole width - 50(left bar)\n      configKonva: {\n        width: 0,\n        height: 0\n      },\n      borderConfig: {},\n      halfConfig: {},\n      noteRectConfig: {},\n      activeJ: -1, // highlight timeline\n      sector: 1, // 2*4-1,可以滚动7次，营造处4页的氛围\n      rectArray: Array(18).fill([]),\n      alertAppear: false,\n      alertAppear2: false,\n      menuAppear: false,\n      showExtendBtns: false,\n      playing: false,\n      fullloop: true,\n      beat: 8, // only 3 or 4, only for view\n      keyboardMode: DEFAULT_KEYBOARD_MODE,\n      currentTime: 0\n    };\n  },\n  filters: {\n    intTime: floatTime => {\n      return Math.floor(floatTime) % 20;\n      // return floatTime\n    },\n    toNote: midiNum => Tone.Frequency(midiNum, \"midi\").toNote()\n  },\n  computed: {\n    tempoLength() {\n      const k = 100 / (MAX_TEMPO - MIN_TEMPO);\n      const b = -(MIN_TEMPO * k);\n      return { height: `${k * this.tempo + b}%` };\n    }\n  },\n  methods: {\n    setupCanvas() {\n      const docElem = document.documentElement;\n      this.controlWidth = docElem.getBoundingClientRect().width - 50;\n      this.configKonva = {\n        width:\n          this.NOTE_CATEGORY <= NOTE_CATEGORY_PAGE_LIMIT\n            ? this.controlWidth\n            : this.NOTE_CATEGORY * 36,\n        height: window.innerHeight\n      };\n      this.RECTWIDTH =\n        this.NOTE_CATEGORY <= NOTE_CATEGORY_PAGE_LIMIT\n          ? this.controlWidth / this.NOTE_CATEGORY\n          : 36;\n      this.RECTHEIGHT = window.innerHeight / this.ONE_PAGE_NOTE_NUM;\n      this.noteRectConfig = {\n        perfectDrawEnabled: false,\n        transformsEnabled: \"position\",\n        width: this.RECTWIDTH,\n        height: this.RECTHEIGHT,\n        fill: \"#fff\",\n        stroke: \"#000\",\n        strokeWidth: 0.5,\n        dash: [\n          this.RECTWIDTH + this.RECTHEIGHT,\n          this.RECTWIDTH,\n          this.RECTHEIGHT,\n          0\n        ]\n      };\n      this.borderConfig = {\n        perfectDrawEnabled: false,\n        transformsEnabled: \"position\",\n        width: this.RECTWIDTH,\n        height: this.RECTHEIGHT,\n        // fill: \"none\",\n        stroke: \"#000\",\n        strokeWidth: 2,\n        dash: [this.RECTWIDTH, this.RECTWIDTH + 2 * this.RECTHEIGHT]\n      };\n      this.halfConfig = {\n        perfectDrawEnabled: false,\n        transformsEnabled: \"position\",\n        width: this.RECTWIDTH,\n        height: this.RECTHEIGHT,\n        // fill: \"none\",\n        stroke: \"#333\",\n        strokeWidth: 2,\n        dash: [this.RECTWIDTH, this.RECTWIDTH + 2 * this.RECTHEIGHT]\n      };\n      this.scheduleCursor();\n    },\n    scheduleCursor() {\n      const fullNoteNumWithinDur = Math.ceil(\n        MB_DUR / ((TIME_PER_NOTE * 120) / this.tempo)\n      );\n      // const fullNoteNumWithinDur = 10;\n      // console.log('full note num', fullNoteNumWithinDur);\n      // let lastTiming = 0;\n      let currentSector = this.sector;\n      console.log(\"sdfsdfsdf\", currentSector);\n      const partNoteNumStart = (this.sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      const partNoteNumEnd =\n        partNoteNumStart + this.ONE_PAGE_NOTE_NUM <= fullNoteNumWithinDur\n          ? partNoteNumStart + this.ONE_PAGE_NOTE_NUM\n          : fullNoteNumWithinDur;\n      console.log(fullNoteNumWithinDur);\n      console.log(partNoteNumStart, partNoteNumEnd);\n      for (let i = 0; i <= FULL_NOTE_NUM - 1; i++) {\n        if (\n          (this.fullloop && i <= fullNoteNumWithinDur - 1) || //under fullloop\n          (!this.fullloop && //under part loop\n          i >= partNoteNumStart && //within available parts\n            i <= partNoteNumEnd - 1)\n        ) {\n          // 在有效范围，已规划 => 要修改\n          Tone.Transport.clear(cursorSchedules[i]);\n          cursorSchedules[i] = Tone.Transport.scheduleRepeat(\n            time => {\n              this.activeJ = i;\n\n              // feat: cursor follow\n              // this.sector = Math.ceil(this.activeJ / NOTE_NUM_PER_SECTOR);\n              if (currentSector % 2 === 1) {\n                console.log(\"normal\");\n                this.sector =\n                  2 * Math.floor(this.activeJ / this.ONE_PAGE_NOTE_NUM) + 1;\n              } else {\n                console.log(\"abnormal\");\n                //这块是半拉\n                this.sector =\n                  2 *\n                    Math.floor(\n                      (this.activeJ - NOTE_NUM_PER_SECTOR) /\n                        this.ONE_PAGE_NOTE_NUM\n                    ) +\n                  2;\n                if (this.activeJ == fullNoteNumWithinDur - 1) {\n                  //如何判断到头，到头了复原\n                  currentSector = 1;\n                }\n              }\n              console.log(this.sector);\n              this.currentTime = (i * TIME_PER_NOTE * 120) / this.tempo;\n              // const now = performance.now();\n              // console.log(now - lastTiming);\n              // lastTiming = now;\n              this.rectArray.forEach((noteSeq, noteIndex) => {\n                if (noteSeq[i]) {\n                  synth.triggerAttackRelease(\n                    Tone.Frequency(\n                      scales[this.keyboardMode].initKey +\n                        scales[this.keyboardMode].musicScale[noteIndex],\n                      \"midi\"\n                    ),\n                    0.25\n                  );\n                }\n              });\n              // synth.triggerAttackRelease(Tone.Frequency(60, 'midi'), 0.1);\n            },\n            this.fullloop\n              ? (fullNoteNumWithinDur * TIME_PER_NOTE * 120) / this.tempo\n              : ((partNoteNumEnd - partNoteNumStart) * TIME_PER_NOTE * 120) /\n                  this.tempo,\n            (i * TIME_PER_NOTE * 120) / this.tempo\n          );\n        } else if (\n          cursorSchedules[i] && //for the notes that have been schedule\n          ((this.fullloop && i > fullNoteNumWithinDur - 1) || //if under fullloop, for those outside fullNote\n            (!this.fullloop &&\n              (i < partNoteNumStart || i > partNoteNumEnd - 1))) // if under partloop, for those outside availablecurrentpage\n        ) {\n          // 不在有效范围，已规划 => 不清除，但禁掉\n          Tone.Transport.clear(cursorSchedules[i]);\n          cursorSchedules[i] = \"\";\n        } else {\n          // 不在有效范围，未规划 => 储存，但不规划\n        }\n      }\n      console.log(cursorSchedules);\n      console.log(Tone.Transport._scheduledEvents);\n    },\n    // setupBeatText(i, sector) {\n    //   return {\n    //     x: 14,\n    //     y: (i * this.configKonva.width) / this.NOTE_CATEGORY,\n    //     fill: \"#ffff00\",\n    //     text: i / this.beat\n    //   };\n    // },\n    setupBeat(i, j, sector) {\n      // split NOTE_NUM_PER_SECTOR and this.NOTE_NUM_PER_SECTOR for ANIMATION!!!\n      const index =\n        j + (sector - 2) * NOTE_NUM_PER_SECTOR + 1 * this.NOTE_NUM_PER_SECTOR;\n      // if (index % this.beat == 0)\n      return {\n        ...this.borderConfig,\n        x: (i * this.configKonva.width) / this.NOTE_CATEGORY,\n        y: (j * this.configKonva.height) / this.ONE_PAGE_NOTE_NUM\n      };\n    },\n    setupHalf(i, j, sector) {\n      return {\n        ...this.halfConfig,\n        x: (i * this.configKonva.width) / this.NOTE_CATEGORY,\n        y: (j * this.configKonva.height) / this.ONE_PAGE_NOTE_NUM\n      };\n    },\n    setupRect(i, j, sector) {\n      let fill = \"\";\n      // split NOTE_NUM_PER_SECTOR and this.NOTE_NUM_PER_SECTOR for ANIMATION!!!\n      const index =\n        j + (sector - 2) * NOTE_NUM_PER_SECTOR + 1 * this.NOTE_NUM_PER_SECTOR;\n      const withinDur = (index * TIME_PER_NOTE * 120) / this.tempo < MB_DUR;\n      if (index == this.activeJ && this.rectArray[i][index]) {\n        // active current note: lighter color\n        fill = withinDur ? \"#6477b1\" : \"#A9B9FF\";\n      } else if (index == this.activeJ && !this.rectArray[i][index]) {\n        // inactive current light blue\n        fill = withinDur ? \"#292B3A\" : \"#2B2E3D\";\n      } else if (this.rectArray[i][index]) {\n        // active non-current note\n        fill = withinDur ? \"#9FB2CF\" : \"#333740\";\n      } else {\n        // incative non-current note\n        fill = withinDur\n          ? `rgba(0,0,0,${0.9 - (i * 0.22) / this.NOTE_CATEGORY})`\n          : \"#131315\";\n      }\n      return {\n        ...this.noteRectConfig,\n        x: (i * this.configKonva.width) / this.NOTE_CATEGORY,\n        y: (j * this.configKonva.height) / this.ONE_PAGE_NOTE_NUM,\n        fill\n        // stroke: index % this.beat === 0 ? \"#ffff00\" : \"#000\",\n        // dash: index % this.beat === 0 ? [0] : [0]\n      };\n    },\n    handleTouchRect(i, j, sector) {\n      // console.log(`trigger ${i},${j+(sector-1)*this.NOTE_NUM_PER_SECTOR}`)\n      // make sound\n      // setTimeout(() => {\n      synth.triggerAttackRelease(\n        Tone.Frequency(\n          scales[this.keyboardMode].initKey +\n            scales[this.keyboardMode].musicScale[i],\n          \"midi\"\n        ),\n        0.25\n      );\n      // }, 0);\n\n      // this.rectArray[i][j] = !this.rectArray[i][j] // this is how to assign a two dim array in vue 2.0...\n      const newRow = this.rectArray[i].slice(0);\n      newRow[j + (sector - 1) * this.NOTE_NUM_PER_SECTOR] = !newRow[\n        j + (sector - 1) * this.NOTE_NUM_PER_SECTOR\n      ];\n      this.$set(this.rectArray, i, newRow);\n      // update last\n      last_i = i;\n      last_j = j;\n      this.saveProjectToLocaoStorage();\n    },\n    handleMoveRect(i, j, sector) {\n      const fullJ = j + (sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      const fullLastJ = last_j + (sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      if (j != last_j) {\n        // take this as real note, store arrange\n        this.handleTouchRect(i, j, sector);\n      } else if (i != last_i && j == last_j) {\n        // take this as testing note, no store, no arrange\n        // make sound\n        synth.triggerAttackRelease(\n          Tone.Frequency(\n            scales[this.keyboardMode].initKey +\n              scales[this.keyboardMode].musicScale[i],\n            \"midi\"\n          ),\n          0.25\n        );\n        // operate current note view\n        const newRow = this.rectArray[i].slice(0);\n        newRow[fullJ] = !newRow[fullJ];\n        this.$set(this.rectArray, i, newRow);\n\n        // restore last note view\n        const newLastRow = this.rectArray[last_i].slice(0);\n        newLastRow[fullLastJ] = !newLastRow[fullLastJ];\n        this.$set(this.rectArray, last_i, newLastRow);\n\n        // update last\n        last_i = i;\n        last_j = j;\n      } else {\n        // console.log(`ignore ${i},${j}`)\n      }\n    },\n    startloop() {\n      // start from the current sector start(start,offset)\n      this.scheduleCursor(); //其实没什么用，只是为了更新下currentSector，翻页比较自然。。。其他没用\n      console.log(this.rectArray);\n      //issue: autoplay, https://github.com/Tonejs/Tone.js/issues/341\n      if (Tone.context.state !== \"running\") {\n        Tone.context.resume();\n      }\n      Tone.Transport.start(\n        \"+0.1\",\n        ((this.sector - 1) * this.NOTE_NUM_PER_SECTOR * TIME_PER_NOTE * 120) /\n          this.tempo\n      );\n      // Tone.Transport.start(\n      //   \"+0.1\",\n      //   (this.activeJ * TIME_PER_NOTE * 120) / this.tempo\n      // );\n      this.playing = true;\n    },\n    stoploop() {\n      Tone.Transport.stop();\n      this.playing = false;\n    },\n    toggleReplay() {\n      if (this.playing) this.stoploop();\n      else this.startloop();\n    },\n    minusTempo() {\n      if (this.tempo > MIN_TEMPO) {\n        this.tempo -= 5;\n        Tone.Transport.seconds =\n          (this.activeJ * TIME_PER_NOTE * 120) / this.tempo;\n        Tone.Transport.bpm.rampTo(this.tempo, 0.01);\n        setTimeout(() => {\n          // bpm ramp to, so need a settimeout\n          this.scheduleCursor();\n        }, 200);\n      }\n    },\n    addTempo() {\n      if (this.tempo < MAX_TEMPO) {\n        this.tempo += 5;\n        Tone.Transport.seconds =\n          (this.activeJ * TIME_PER_NOTE * 120) / this.tempo;\n        Tone.Transport.bpm.rampTo(this.tempo, 0.01);\n        setTimeout(() => {\n          this.scheduleCursor();\n        }, 200);\n      }\n    },\n    scrolldown() {\n      // clearInterval(aInterval);\n      // this.sector == FULL_NOTE_NUM / NOTE_NUM_PER_SECTOR - 1\n      //   ? (this.NOTE_NUM_PER_SECTOR = NOTE_NUM_PER_SECTOR - 2)\n      //   : (this.NOTE_NUM_PER_SECTOR = 1); // for animation,\n      this.sector <= FULL_NOTE_NUM / NOTE_NUM_PER_SECTOR - 2\n        ? (this.sector += 1)\n        : \"\"; // this line is real scroll down\n      // below is for animation\n      // aInterval = setInterval(() => {\n      //   this.NOTE_NUM_PER_SECTOR += 1;\n      //   if (this.NOTE_NUM_PER_SECTOR == 10) {\n      //     clearInterval(aInterval);\n      //   }\n      // }, 50);\n    },\n    scrollup() {\n      // clearInterval(aInterval);\n      // this.sector == 1\n      //   ? (this.NOTE_NUM_PER_SECTOR = NOTE_NUM_PER_SECTOR + 2)\n      //   : (this.NOTE_NUM_PER_SECTOR = 20); // for animation,\n      this.sector >= 2 ? (this.sector -= 1) : \"\";\n      // below is for animation\n      // aInterval = setInterval(() => {\n      //   this.NOTE_NUM_PER_SECTOR -= 1;\n      //   if (this.NOTE_NUM_PER_SECTOR == 10) {\n      //     clearInterval(aInterval);\n      //   }\n      // }, 50);\n    },\n    scrollToBegin() {\n      clearInterval(aInterval);\n      this.sector = 1;\n    },\n    // scrollToEnd() {\n    //         clearInterval(aInterval);\n    //   this.sector = 1;\n    // }\n    updateLoop() {\n      this.fullloop = !this.fullloop;\n      this.scheduleCursor();\n      if (this.playing) {\n        this.stoploop();\n        this.startloop();\n      }\n    },\n    clearNotes() {\n      this.rectArray = Array(scales[this.keyboardMode].musicScale.length).fill(\n        []\n      );\n    },\n    chooseKeyboard(keyboardMode) {\n      if (this.keyboardMode == keyboardMode) return;\n      this.alertAppear2 = true;\n      this.saveProjectToLocaoStorage();\n    },\n    updateBeat(newbeat) {\n      this.beat = newbeat;\n      this.saveProjectToLocaoStorage();\n    },\n    updateKeyboard() {\n      //肯定是切换了嘛\n      this.keyboardMode =\n        this.keyboardMode == \"whitekey\" ? \"fullkey\" : \"whitekey\";\n      this.rectArray = Array(scales[this.keyboardMode].musicScale.length).fill(\n        []\n      );\n      this.NOTE_CATEGORY = scales[this.keyboardMode].musicScale.length;\n      this.setupCanvas();\n      this.alertAppear2 = false;\n      this.menuAppear = false;\n      this.saveProjectToLocaoStorage();\n    },\n    checkBouncibility() {\n      const result = [];\n      for (let i = 0; i <= this.NOTE_CATEGORY - 1; i++) {\n        for (let j = 0; j <= FULL_NOTE_NUM - 1; j++) {\n          if (this.rectArray[i][j]) {\n            result.push({\n              note: Tone.Frequency(\n                scales[this.keyboardMode].initKey +\n                  scales[this.keyboardMode].musicScale[i],\n                \"midi\"\n              ).toNote(),\n              time: (j * TIME_PER_NOTE * 120) / this.tempo\n            });\n          }\n        }\n      }\n      result.sort((a, b) => 0 + a.time - b.time);\n      return Magic.RealMagic(result);\n    },\n    bounceProject() {\n      // finally get something like [{note:'A4',time:0},{note:'A5',time:0.3227}]\n      const result = [];\n      for (let i = 0; i <= this.NOTE_CATEGORY - 1; i++) {\n        for (let j = 0; j <= FULL_NOTE_NUM - 1; j++) {\n          if (this.rectArray[i][j]) {\n            result.push({\n              note: Tone.Frequency(\n                scales[this.keyboardMode].initKey +\n                  scales[this.keyboardMode].musicScale[i],\n                \"midi\"\n              ).toNote(),\n              time: (j * TIME_PER_NOTE * 120) / this.tempo\n            });\n          }\n        }\n      }\n      this.$store\n        .dispatch(\"BOUNCE_PROJECT\", {\n          record: result,\n          info: {\n            title: \"尚未起名\",\n            content: \"\",\n            cover: \"\"\n          }\n        })\n        .then(id => {\n          console.log(\"successfully bounced\");\n          this.bouncing = false;\n          this.$toast(\"作品已为您存储\");\n          // clear tone\n          cursorSchedules.forEach(schedule => Tone.Transport.clear(schedule));\n          // cursorSchedules = [];\n          this.$router.push({\n            path: \"/new-music-box-viewer\",\n            query: {\n              id\n            }\n          });\n        })\n        .catch(err => {\n          this.bouncing = false;\n          this.$toast(\"非常抱歉，上传作品失败了\");\n        });\n    },\n    submitProject() {\n      this.menuAppear = false;\n      if (\n        this.rectArray.reduce((acc, val) => acc.concat(val), []).length === 0 //flat方法摩羯浏览器不支持\n      ) {\n        this.$toast(\"作品不能为空\");\n        return;\n      }\n      if (this.checkBouncibility()) {\n        this.bounceProject();\n      } else {\n        this.alertAppear = true;\n      }\n    },\n    btnEnd(e) {\n      this.toggleReplay();\n    },\n    saveProjectToLocaoStorage() {\n      const work = {\n        keyboardMode: this.keyboardMode,\n        rectArray: this.rectArray,\n        beat: this.beat\n      };\n      window.localStorage.setItem(\"rollwork\", JSON.stringify(work));\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    next();\n  },\n  created() {\n    this.scales = scales; //view层需要\n    this.setupCanvas();\n\n    // test, load a demo work\n    console.log(RollDemo.demo1);\n    // 有id 代表是某个模版的再创作\n    const workInCookie = window.localStorage.getItem(\"rollwork\");\n    if (this.$store.state.route.query.id) {\n      this.keyboardMode = RollDemo.demo1.keyboardMode;\n      this.tempo = RollDemo.demo1.tempo;\n      this.rectArray = RollDemo.demo1.rectArray;\n      this.beat = RollDemo.demo1.beat;\n      this.scheduleCursor();\n    } else if (workInCookie) {\n      console.log(\"kiokiokio\");\n      console.log(workInCookie);\n      console.log(typeof workInCookie);\n      const workInCookieObj = JSON.parse(workInCookie);\n      this.keyboardMode = workInCookieObj.keyboardMode || \"whitekey\";\n      this.tempo = workInCookieObj.tempo || 120;\n      this.rectArray = workInCookieObj.rectArray || Array(18).fill([]);\n      this.beat = workInCookieObj.beat || 8;\n      this.scheduleCursor();\n    }\n    // regular setup\n    const self = this;\n    Tone.Transport.cancel();\n    // this is very important\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    // alert(Cookies.get('serviceToken'))\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"划拉划拉八音盒\",\n        fullPath: `${location.origin}${location.pathname}#/new-music-box-roll`,\n        imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                location.origin + location.pathname + \"#/new-music-box-roll\"\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              location.origin + location.pathname + \"#/new-music-box-roll\"\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          location.origin + location.pathname + \"#/new-music-box-roll\"\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {},\n  updated() {}\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <div class=\"roll\" v-bind:style=\"{width:controlWidth+'px'}\">\n      <div\n        :style=\"{width:configKonva.width+'px'}\"\n        style=\"position:absolute;height:20px;background-color:rgba(0,0,0,.5);color:white;z-index:10;display:flex;justify-content: space-around;font-size:10px\"\n      >\n        <span\n          style=\"position:relative;width:10px;transform-origin: 0% 0%;left: 10px;\"\n          class=\"rotate\"\n          v-for=\"i in NOTE_CATEGORY\"\n          :key=\"i\"\n        >{{scales[keyboardMode].initKey+scales[keyboardMode].musicScale[i-1] | toNote}}</span>\n      </div>\n      <v-stage :config=\"configKonva\">\n        <v-layer>\n          <template v-for=\"i in NOTE_CATEGORY\">\n            <template v-for=\"j in ONE_PAGE_NOTE_NUM\">\n              <v-rect\n                :key=\"`i${i}j${j}`\"\n                @touchstart=\"handleTouchRect(i-1,j-1,sector)\"\n                @touchmove=\"handleMoveRect(i-1,j-1,sector)\"\n                :config=\"setupRect(i-1,j-1,sector)\"\n              />\n              <!-- measure line -->\n              <v-rect\n                v-if=\"(j + (sector - 2) * CONST_NOTE_NUM_PER_SECTOR + 1 * NOTE_NUM_PER_SECTOR)%2===1\"\n                :key=\"`halfi${i}j${j}`\"\n                @touchstart=\"handleTouchRect(i-1,j-1,sector)\"\n                @touchmove=\"handleMoveRect(i-1,j-1,sector)\"\n                :config=\"setupHalf(i-1,j-1,sector)\"\n              />\n              <!-- quarter note line -->\n              <v-rect\n                v-if=\"(j + (sector - 2) * CONST_NOTE_NUM_PER_SECTOR + 1 * NOTE_NUM_PER_SECTOR)%beat===1\"\n                :key=\"`borderi${i}j${j}`\"\n                @touchstart=\"handleTouchRect(i-1,j-1,sector)\"\n                @touchmove=\"handleMoveRect(i-1,j-1,sector)\"\n                :config=\"setupBeat(i-1,j-1,sector)\"\n              />\n            </template>\n            <!-- <v-text v-if=\"i%beat ==0\" :key=\"`beat${i}`\" :config=\"setupBeatText(i,sector)\"/> -->\n          </template>\n        </v-layer>\n      </v-stage>\n    </div>\n\n    <div class=\"control-panal\">\n      <div style=\"height:6rem;display:flex;flex-direction:column;\">\n        <div @touchstart=\"menuAppear=true\" id=\"menuicon\" class=\"rotate\"></div>\n        <div v-show=\"!playing\" @touchstart=\"scrollToBegin\" id=\"scrolltop\" class=\"rotate\"></div>\n        <div v-show=\"!playing\" @touchstart=\"scrollup\" id=\"scrollup\" class=\"rotate\"></div>\n        <div v-show=\"!playing\" @touchstart=\"scrolldown\" id=\"scrolldown\" class=\"rotate\"></div>\n        <div\n          v-show=\"playing\"\n          @touchstart=\"updateLoop\"\n          :id=\"fullloop?'fullloop':'partloop'\"\n          class=\"rotate\"\n        ></div>\n        <!-- <div @touchstart=\"scrollToEnd\" id=\"scrollbottom\" class=\"rotate\"></div> -->\n      </div>\n      <!-- <div\n        style=\"position:relative;display:flex;align-items:center;justify-content:center;transform:rotate(90deg);\"\n      >-->\n      <!-- <pie-progress :progress=\"100*currentTime/MB_DUR\"/> -->\n      <!-- <another-pie-progress radius=\"30\" :progress=\"currentTime*100/MB_DUR\" stroke=\"4\"/>\n        <p style=\"position:absolute;font-size:12px;\">{{currentTime|intTime}}</p>\n      </div>-->\n      <div>\n        <div @touchstart=\"minusTempo\" id=\"minustempo\" class=\"rotate\"></div>\n        <div id=\"tempo-indicator\">\n          <div id=\"tempo-progress\" :style=\"tempoLength\"></div>\n          <p id=\"tempo-num\">{{this.tempo}} bpm</p>\n        </div>\n        <div @touchstart=\"addTempo\" id=\"addtempo\" class=\"rotate\"></div>\n      </div>\n\n      <div class=\"btnContainer\" @touchend.stop.prevent=\"btnEnd\">\n        <another-pie-progress :radius=\"30\" :progress=\"currentTime*100/MB_DUR\" :stroke=\"4\"/>\n        <div :class=\"[playing?'pauseBtn':'playBtn', 'rotate']\" @click=\"toggleReplay\"></div>\n      </div>\n    </div>\n\n    <transition name=\"fade\">\n      <div class=\"alert-mask\" v-show=\"alertAppear\">\n        <div class=\"mb-dialog\">\n          <div class=\"title\">作品音符太多啦，目前无法做成音乐盒，是否继续上传</div>\n          <div class=\"btns\">\n            <span class=\"btn cancel\" @click=\"alertAppear=false\">再调整</span>\n            <span class=\"btn confirm\" @click=\"bounceProject\">任性上传</span>\n          </div>\n        </div>\n      </div>\n    </transition>\n    <transition name=\"slide\">\n      <div class=\"alert-mask\" v-show=\"menuAppear\" @touchstart.self=\"menuAppear=false\">\n        <div class=\"menu\">\n          <div @touchstart=\"updateBeat(8)\" :class=\"['menu-op',beat===4*2?'':'inactive']\">4拍</div>\n          <div @touchstart=\"updateBeat(6)\" :class=\"['menu-op',beat===3*2?'':'inactive']\">3拍</div>\n          <div\n            @touchstart=\"chooseKeyboard('whitekey')\"\n            :class=\"['menu-op',keyboardMode=='whitekey'?'':'inactive']\"\n          >\n            <div id=\"whitekey\" class=\"rotate\"></div>简单音符\n          </div>\n          <div\n            @touchstart=\"chooseKeyboard('fullkey')\"\n            :class=\"['menu-op',keyboardMode=='fullkey'?'':'inactive']\"\n          >\n            <div id=\"fullkey\" class=\"rotate\"></div>复杂音符\n          </div>\n\n          <div @touchstart=\"clearNotes\" class>清空作品</div>\n          <div @touchstart=\"submitProject\" class>完成作品</div>\n          <div @touchstart=\"menuAppear=false\" class>退出</div>\n        </div>\n      </div>\n    </transition>\n    <transition name=\"fade\">\n      <div class=\"alert-mask\" v-show=\"alertAppear2\">\n        <div class=\"mb-dialog\">\n          <div class=\"title\">转换键盘将清空现有作品</div>\n          <div class=\"btns\">\n            <span class=\"btn cancel\" @click=\"alertAppear2=false\">取消</span>\n            <span class=\"btn confirm\" @click=\"updateKeyboard\">转换键盘</span>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n.container {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  background-color: #404249;\n  // position: relative;\n}\n.roll {\n  background-color: white;\n  position: absolute;\n  right: 0;\n  overflow: scroll;\n}\n.control-panal {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  width: 50px;\n  height: 100%;\n  padding: 16px 0;\n  top: 0;\n  left: 0;\n  background-color: black;\n  color: white;\n  z-index: 100;\n  #clear {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/clear.png\") center center no-repeat;\n    background-size: contain;\n  }\n  #menuicon {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/menu.png\") center center no-repeat;\n    background-size: cover;\n    margin-bottom: 20px;\n  }\n\n  #scrolltop {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/rewind1.png\") center center no-repeat;\n    background-size: contain;\n    margin-bottom: 20px;\n  }\n  #scrollbottom {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/rewind2.png\") center center no-repeat;\n    background-size: contain;\n    margin-bottom: 20px;\n  }\n  #scrollup {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/left.png\") center center no-repeat;\n    background-size: contain;\n    margin-bottom: 20px;\n  }\n  #scrolldown {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/left.png\") center center no-repeat;\n    background-size: contain;\n    transform: rotate(270deg);\n    margin-bottom: 20px;\n  }\n  #partloop {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/viewer/partloop.png\") center center no-repeat;\n    background-size: contain;\n  }\n  #fullloop {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/viewer/fullloop.png\") center center no-repeat;\n    background-size: contain;\n  }\n  #fullkey {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/fullkey.png\") center center no-repeat;\n    background-size: contain;\n  }\n  #whitekey {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/whitekey.png\") center center no-repeat;\n    background-size: contain;\n  }\n  #tempo-indicator {\n    position: relative;\n    display: flex;\n    margin: 0 auto;\n    justify-content: center;\n    align-items: center;\n    width: 18px;\n    height: 160px;\n    // height: 60px;\n    border-radius: 9px;\n    border: 1px solid #25252b;\n    background-color: #25252b;\n    #tempo-progress {\n      position: absolute;\n      top: 0;\n      width: 16px;\n      // height:140px;\n      background-color: rgba(255, 255, 255, 0.2);\n      border-radius: 9px;\n      display: flex;\n      align-items: center;\n      // border:solid 1px transparent;\n    }\n    #tempo-num {\n      position: absolute;\n      width: 60px;\n      left: -22px;\n      transform: rotate(90deg);\n      color: white;\n      font-size: 14px;\n    }\n  }\n  #minustempo {\n    margin-top: 0px; //todo more space here\n    margin-bottom: 10px;\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/minus.png\") center center;\n    background-size: contain;\n  }\n  #addtempo {\n    width: 34px;\n    height: 34px;\n    margin-top: 10px;\n    background: url(\"../assets/plus.png\") center center;\n    background-size: contain;\n  }\n}\n\n.fadein {\n  animation: fadein 1s;\n  animation-fill-mode: forwards;\n}\n\n.fadeout {\n  animation: fadeout 1s;\n  animation-fill-mode: forwards;\n}\n@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n@keyframes fadeout {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n}\n.btnContainer {\n  // position: relative;\n  // width: getRem(84);\n  // height: getRem(84);\n  // margin-top: 0.3rem;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .playBtn {\n    z-index: 2;\n    position: absolute;\n    width: 34px;\n    height: 34px;\n    border-radius: 0.56rem;\n    background: url(\"../assets/play.svg\") 0.3rem 0.26rem no-repeat;\n    background-size: 0.38rem;\n    background-color: #456aff;\n  }\n  .pauseBtn {\n    z-index: 2;\n    position: absolute;\n    width: 34px;\n    height: 34px;\n    border-radius: 0.56rem;\n    background: url(\"../assets/pause.svg\") center center no-repeat;\n    background-size: 0.42667rem;\n    background-color: #456aff;\n  }\n  .bounceBtn {\n    position: absolute;\n    width: getRem(84);\n    height: getRem(84);\n    border-radius: getRem(42);\n    left: getRem(310);\n    background: url(\"../assets/check.svg\") center center no-repeat;\n    // background-size: getRem(32);\n  }\n  .cancelBtn {\n    position: absolute;\n    width: getRem(84);\n    height: getRem(84);\n    border-radius: getRem(42);\n    left: getRem(600);\n    background: url(\"../assets/cancel.svg\") center center no-repeat;\n    // background-size: getRem(32);\n  }\n  .extendBtns {\n    // this element is within rotate, everything is opposite\n    position: absolute;\n    height: getRem(84);\n    border-radius: getRem(42);\n    overflow: hidden;\n    left: 0px;\n    z-index: 1;\n    transition: width 1s;\n    background: linear-gradient(\n      to left,\n      rgb(254, 64, 64),\n      rgb(142, 122, 239),\n      rgb(69, 106, 255) 80%\n    );\n  }\n  .extendBtnsShow {\n    width: getRem(690);\n  }\n  .extendBtnsHide {\n    width: getRem(84);\n  }\n}\n.rotate {\n  transform: rotate(90deg);\n}\n.alert-mask {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  .mb-dialog {\n    position: relative;\n    transform: rotate(90deg);\n    width: getRem(570);\n    padding-top: getRem(75);\n    border-radius: getRem(50);\n    height: getRem(344);\n    background-color: rgba(255, 255, 255, 0.96);\n    display: flex;\n    flex-direction: column;\n    .title {\n      flex: 1;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-end;\n      position: relative;\n      width: 100%;\n      font-size: 0.32rem;\n    }\n    .input {\n      flex: 2;\n      flex-direction: column;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-start;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      input {\n        background: transparent;\n        border: none;\n        outline: none;\n        width: 100%;\n        height: 1rem;\n        font-size: 0.54rem;\n      }\n      .splitter {\n        position: relative;\n        width: 100%;\n        height: 1px;\n        background-color: gray;\n        padding: 0 getRem(77);\n      }\n    }\n    .btns {\n      flex: 4;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      span.btn {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        display: flex;\n        align-items: center;\n        padding-top: 0.6rem;\n      }\n      .cancel {\n        color: gray;\n        text-align: right;\n        justify-content: flex-start;\n        padding-left: getRem(77);\n      }\n      .confirm {\n        color: blue;\n        text-align: left;\n        justify-content: flex-end;\n        padding-right: getRem(77);\n      }\n    }\n  }\n  .menu {\n    display: flex;\n    top: 0;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    position: absolute;\n    // padding: getRem(40);\n    font-size: 0.5rem;\n    // top: 0;\n    bottom: -3.6rem;\n    width: getRem(240 * 2);\n    height: getRem(375 * 2);\n    background-color: $dark-gray;\n    color: white;\n    // important rotate\n    left: 100%;\n    transform-origin: 0% 0%;\n    transform: rotate(90deg);\n    .menu-op {\n      background-color: #3c3f4b;\n    }\n    #fullkey {\n      width: 34px;\n      height: 34px;\n      margin-right: 4px;\n      background: url(\"../assets/fullkey.png\") center center no-repeat;\n      background-size: contain;\n    }\n    #whitekey {\n      width: 34px;\n      height: 34px;\n      margin-right: 4px;\n      background: url(\"../assets/whitekey.png\") center center no-repeat;\n      background-size: contain;\n    }\n    .inactive {\n      opacity: 0.4;\n    }\n    > div {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      height: 100%;\n      background-color: $dark-gray;\n    }\n  }\n}\n.slide-enter-active {\n  transition: all 0.3s ease-out;\n  top: 0px;\n}\n.slide-leave-active {\n  transition: all 0.3s ease-out;\n  top: 0px;\n}\n.slide-enter, .slide-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n  top: -200px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MBRollMaker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"roll\",style:({width:_vm.controlWidth+'px'})},[_c('div',{staticStyle:{\"position\":\"absolute\",\"height\":\"20px\",\"background-color\":\"rgba(0,0,0,.5)\",\"color\":\"white\",\"z-index\":\"10\",\"display\":\"flex\",\"justify-content\":\"space-around\",\"font-size\":\"10px\"},style:({width:_vm.configKonva.width+'px'})},_vm._l((_vm.NOTE_CATEGORY),function(i){return _c('span',{key:i,staticClass:\"rotate\",staticStyle:{\"position\":\"relative\",\"width\":\"10px\",\"transform-origin\":\"0% 0%\",\"left\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"toNote\")(_vm.scales[_vm.keyboardMode].initKey+_vm.scales[_vm.keyboardMode].musicScale[i-1])))])}),0),_vm._v(\" \"),_c('v-stage',{attrs:{\"config\":_vm.configKonva}},[_c('v-layer',[_vm._l((_vm.NOTE_CATEGORY),function(i){return [_vm._l((_vm.ONE_PAGE_NOTE_NUM),function(j){return [_c('v-rect',{key:(\"i\" + i + \"j\" + j),attrs:{\"config\":_vm.setupRect(i-1,j-1,_vm.sector)},on:{\"touchstart\":function($event){return _vm.handleTouchRect(i-1,j-1,_vm.sector)},\"touchmove\":function($event){return _vm.handleMoveRect(i-1,j-1,_vm.sector)}}}),_vm._v(\" \"),((j + (_vm.sector - 2) * _vm.CONST_NOTE_NUM_PER_SECTOR + 1 * _vm.NOTE_NUM_PER_SECTOR)%2===1)?_c('v-rect',{key:(\"halfi\" + i + \"j\" + j),attrs:{\"config\":_vm.setupHalf(i-1,j-1,_vm.sector)},on:{\"touchstart\":function($event){return _vm.handleTouchRect(i-1,j-1,_vm.sector)},\"touchmove\":function($event){return _vm.handleMoveRect(i-1,j-1,_vm.sector)}}}):_vm._e(),_vm._v(\" \"),((j + (_vm.sector - 2) * _vm.CONST_NOTE_NUM_PER_SECTOR + 1 * _vm.NOTE_NUM_PER_SECTOR)%_vm.beat===1)?_c('v-rect',{key:(\"borderi\" + i + \"j\" + j),attrs:{\"config\":_vm.setupBeat(i-1,j-1,_vm.sector)},on:{\"touchstart\":function($event){return _vm.handleTouchRect(i-1,j-1,_vm.sector)},\"touchmove\":function($event){return _vm.handleMoveRect(i-1,j-1,_vm.sector)}}}):_vm._e()]})]})],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"control-panal\"},[_c('div',{staticStyle:{\"height\":\"6rem\",\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"menuicon\"},on:{\"touchstart\":function($event){_vm.menuAppear=true}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],staticClass:\"rotate\",attrs:{\"id\":\"scrolltop\"},on:{\"touchstart\":_vm.scrollToBegin}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],staticClass:\"rotate\",attrs:{\"id\":\"scrollup\"},on:{\"touchstart\":_vm.scrollup}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],staticClass:\"rotate\",attrs:{\"id\":\"scrolldown\"},on:{\"touchstart\":_vm.scrolldown}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],staticClass:\"rotate\",attrs:{\"id\":_vm.fullloop?'fullloop':'partloop'},on:{\"touchstart\":_vm.updateLoop}})]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"minustempo\"},on:{\"touchstart\":_vm.minusTempo}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"tempo-indicator\"}},[_c('div',{style:(_vm.tempoLength),attrs:{\"id\":\"tempo-progress\"}}),_vm._v(\" \"),_c('p',{attrs:{\"id\":\"tempo-num\"}},[_vm._v(_vm._s(this.tempo)+\" bpm\")])]),_vm._v(\" \"),_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"addtempo\"},on:{\"touchstart\":_vm.addTempo}})]),_vm._v(\" \"),_c('div',{staticClass:\"btnContainer\",on:{\"touchend\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.btnEnd($event)}}},[_c('another-pie-progress',{attrs:{\"radius\":30,\"progress\":_vm.currentTime*100/_vm.MB_DUR,\"stroke\":4}}),_vm._v(\" \"),_c('div',{class:[_vm.playing?'pauseBtn':'playBtn', 'rotate'],on:{\"click\":_vm.toggleReplay}})],1)]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear),expression:\"alertAppear\"}],staticClass:\"alert-mask\"},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"作品音符太多啦，目前无法做成音乐盒，是否继续上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear=false}}},[_vm._v(\"再调整\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.bounceProject}},[_vm._v(\"任性上传\")])])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuAppear),expression:\"menuAppear\"}],staticClass:\"alert-mask\",on:{\"touchstart\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.menuAppear=false}}},[_c('div',{staticClass:\"menu\"},[_c('div',{class:['menu-op',_vm.beat===4*2?'':'inactive'],on:{\"touchstart\":function($event){return _vm.updateBeat(8)}}},[_vm._v(\"4拍\")]),_vm._v(\" \"),_c('div',{class:['menu-op',_vm.beat===3*2?'':'inactive'],on:{\"touchstart\":function($event){return _vm.updateBeat(6)}}},[_vm._v(\"3拍\")]),_vm._v(\" \"),_c('div',{class:['menu-op',_vm.keyboardMode=='whitekey'?'':'inactive'],on:{\"touchstart\":function($event){return _vm.chooseKeyboard('whitekey')}}},[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"whitekey\"}}),_vm._v(\"简单音符\\n        \")]),_vm._v(\" \"),_c('div',{class:['menu-op',_vm.keyboardMode=='fullkey'?'':'inactive'],on:{\"touchstart\":function($event){return _vm.chooseKeyboard('fullkey')}}},[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"fullkey\"}}),_vm._v(\"复杂音符\\n        \")]),_vm._v(\" \"),_c('div',{on:{\"touchstart\":_vm.clearNotes}},[_vm._v(\"清空作品\")]),_vm._v(\" \"),_c('div',{on:{\"touchstart\":_vm.submitProject}},[_vm._v(\"完成作品\")]),_vm._v(\" \"),_c('div',{on:{\"touchstart\":function($event){_vm.menuAppear=false}}},[_vm._v(\"退出\")])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear2),expression:\"alertAppear2\"}],staticClass:\"alert-mask\"},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"转换键盘将清空现有作品\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear2=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.updateKeyboard}},[_vm._v(\"转换键盘\")])])])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b043526\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MBRollMaker.vue\n// module id = null\n// module chunks = ","\n\n<script>\nconst status = [];\nexport default {\n  props: {\n    // editing: bool. //instead of as state, can be passed in prop, to keep only one current editing card in a work card list\n    // onPlayClick: function. //\n    // onPauseClick: function. //\n    isMine: {\n      type: Boolean,\n      default: false\n    },\n    workInfo: { type: Object },\n    playingStatus: {\n      type: Boolean,\n      default: false\n    },\n    showAuthor: { type: Boolean, default: true },\n    maskOn: { type: Boolean, default: false },\n    onPlayWork: Function,\n    onPurchaseWork: Function,\n    onDownloadWork: Function,\n    onShareWork: Function,\n    onChangeWorkStatus: Function,\n    onToggleLike: Function,\n    onClickTag: Function,\n    onLongPress: {\n      type: Function,\n      default: function() {\n        console.log(\"longpress\");\n      }\n    },\n    onTapMask: Function\n  },\n  computed: {},\n  data() {\n    const mock = {\n      id: 148,\n      title: \"castle\",\n      cover: \"\",\n      content: \"default\",\n      url: \"//img.musixise.com/LIjPhuhF_castle.mid\",\n      favStatus: 0,\n      createdDate: \"2019-01-10 23:38:18\",\n      userId: 239,\n      collectNum: 0,\n      lastModifiedDate: \"2019-01-17 11:51:03\",\n      machineNum: 19,\n      fileHash: \"f0af50f723c10857ad5348fe52ee8f1c\",\n      userVO: {\n        id: 108,\n        username: \"wechat_oazyg56Zj4X6HViD9h0jB2BTOHJQ\",\n        realname: \"花子文\",\n        tel: \"\",\n        email: \"wechat_oazyg56Zj4X6HViD9h0jB2BTOHJQ@musixise.com\",\n        birth: \"2000-01-01\",\n        gender: \"\",\n        smallAvatar:\n          \"//thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5OUNntatJGnibRkygaFhMZickUgUMDulSibFI0yQhNqYSZFYqK6BtdDItuC9uDALXwibxcvlibBvR1cknqfYVyf1KND/132\",\n        largeAvatar:\n          \"//thirdwx.qlogo.cn/mmopen/vi_32/Q3auHgzwzM5OUNntatJGnibRkygaFhMZickUgUMDulSibFI0yQhNqYSZFYqK6BtdDItuC9uDALXwibxcvlibBvR1cknqfYVyf1KND/132\",\n        nation: \"\",\n        isMaster: 0,\n        brief: null,\n        favStatus: 0,\n        followNum: 0,\n        fansNum: 0,\n        songNum: 43,\n        userId: 239,\n        createdDate: \"2019-01-02 12:41:55\"\n      }\n    };\n    return {\n      info: mock,\n      workStatusMap: { 0: \"公开\", 1: \"私密\", 2: \"删除\" }\n      // editing: false\n    };\n  },\n  watch: {},\n  created() {\n    // alert(this.progress)\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    // showMask() {\n    //   // TODO: should be prop\n    //   console.log(\"aiyo\");\n    //   this.editing = true;\n    // },\n    // hideMask() {\n    //   // can be in state data\n    //   this.editing = false;\n    // }\n    gotoWork(id) {\n      this.$router.push({\n        path: \"/new-music-box-viewer\",\n        query: {\n          id\n        }\n      });\n    },\n    gotoMusixiser(id) {\n      this.$router.push({\n        path: \"/musixiser\",\n        query: {\n          id\n        }\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"work-container\" v-longpress=\"onLongPress\">\n    <transition name=\"fade\">\n      <div v-show=\"maskOn\" class=\"mask\" @touchstart.self=\"onTapMask\">\n        <div :class=\"['circle-btn',workInfo.machineNum>18?'gray':'pink']\" @click=\"onPurchaseWork\">购买</div>\n        <!-- <div class=\"circle-btn purple\" @click=\"onShareWork\">分享</div> -->\n        <div :class=\"['circle-btn','purple']\" @click=\"onDownloadWork\">下载</div>\n        <div\n          v-if=\"isMine\"\n          class=\"circle-btn blue\"\n          @click=\"onChangeWorkStatus(workInfo,workInfo.status==0?1:0)\"\n        >{{workInfo.status==0?workStatusMap[1]:workStatusMap[0]}}</div>\n        <div v-if=\"isMine\" class=\"circle-btn gray\" @click=\"onChangeWorkStatus(workInfo,2)\">删除</div>\n      </div>\n    </transition>\n    <img\n      v-if=\"workInfo.machineNum<=18\"\n      class=\"mb-tag\"\n      src=\"../../assets/mb-tag.svg\"\n      @click=\"onClickTag\"\n    >\n    <div class=\"preview-bg\">\n      <img v-if=\"workInfo.cover.indexOf('//')>=0\" class=\"cover\" :src=\"workInfo.cover\" alt>\n      <div v-if=\"workInfo.cover.indexOf('//')<0\" class=\"dark-mask\"></div>\n      <img\n        class=\"playBtn\"\n        @touchend=\"onPlayWork\"\n        v-if=\"!playingStatus\"\n        src=\"../../assets/viewer/trans-play.png\"\n        alt\n      >\n      <img\n        class=\"playBtn\"\n        @touchend=\"onPlayWork\"\n        v-if=\"playingStatus\"\n        src=\"../../assets/stop.svg\"\n        alt\n      >\n    </div>\n    <div class=\"detail\">\n      <p class=\"title\" @click=\"gotoWork(workInfo.id)\">{{workInfo.title}}</p>\n      <div class=\"user\" @click=\"gotoMusixiser(workInfo.userId)\">\n        <img class=\"avatar\" :src=\"workInfo.userVO.smallAvatar\" alt>\n        <p class=\"song-title\">{{workInfo.userVO.realname}}</p>\n      </div>\n      <div class=\"detail-other\">\n        <div>{{workInfo.lastModifiedDate|getDateDiff}}更新</div>\n        <div class=\"likes\" @click=\"onToggleLike(workInfo)\">\n          <img v-if=\"!workInfo.favStatus\" src=\"../../assets/heartstroke.svg\" alt>\n          <img v-if=\"workInfo.favStatus\" src=\"../../assets/heartfill.svg\" alt>\n          {{workInfo.collectNum}}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../../_common/style/_functions.scss\";\n@import \"../../_common/style/_variables.scss\";\n@import \"../../_common/style/_mixins.scss\";\n@import \"../../_common/style/_reboot.scss\";\n.work-container {\n  display: inline-block;\n  position: relative;\n  width: getRem(342);\n  height: getRem(372);\n  margin-bottom: getRem(16);\n  padding: getRem(16);\n  background-color: $dark-gray;\n  // margin-right: getRem(16);\n  .mask {\n    z-index: 2;\n    top: 0;\n    left: 0;\n    position: absolute;\n    background-color: $img-mask;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n    .circle-btn {\n      border-radius: getRem(38);\n      width: getRem(76);\n      height: getRem(76);\n      margin: getRem(24);\n      font-size: getRem(20);\n      color: white;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .statusProcess {\n      width: getRem(204);\n      height: getRem(28);\n    }\n    .statusText {\n      font-size: 14px;\n      color: white;\n    }\n  }\n  .preview-bg {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: getRem(208);\n    margin-bottom: getRem(16);\n    background: #262729;\n    .playBtn {\n      position: relative;\n      width: getRem(30);\n      height: getRem(42);\n    }\n    .playBtn:after {\n      content: \"\";\n      position: absolute;\n      top: -10px;\n      bottom: -10px;\n      left: -10px;\n      right: -10px;\n    }\n    .dark-mask {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: getRem(40) getRem(40) 0 0;\n      overflow: hidden;\n      background: url(\"../../assets/notes.svg\") center center no-repeat;\n      background-size: 1rem;\n      opacity: 0.2;\n    }\n    .cover {\n      position: absolute;\n      object-fit: cover;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .mb-tag {\n    position: absolute;\n    width: getRem(70);\n    top: 0;\n    right: 0;\n    z-index: 1;\n  }\n  .detail {\n    position: relative;\n    width: 100%;\n    background-color: $dark-gray;\n    color: $gray-text;\n    text-align: left;\n    .title {\n      font-size: getRem(28);\n      line-height: getRem(40);\n      color: #8c8c92;\n    }\n    .user {\n      display: flex;\n      align-items: center;\n      margin-bottom: getRem(14);\n      .avatar {\n        width: getRem(46);\n        height: getRem(46);\n        border-radius: getRem(23);\n        margin-right: getRem(8);\n      }\n      .song-title {\n        font-size: 12px;\n        color: #6d6e75;\n      }\n    }\n    .detail-other {\n      display: flex;\n      justify-content: space-between;\n      // padding: getRem(10) getRem(16);\n      font-size: 10px;\n      .likes {\n        display: flex;\n        align-items: center;\n        img {\n          width: getRem(26);\n          height: getRem(22);\n          margin-right: getRem(8);\n        }\n      }\n    }\n  }\n}\n.pink {\n  background-color: $pink;\n}\n.blue {\n  background-color: $blue;\n}\n.purple {\n  background-color: $purple;\n}\n.gray {\n  background-color: $gray;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/workCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"longpress\",rawName:\"v-longpress\",value:(_vm.onLongPress),expression:\"onLongPress\"}],staticClass:\"work-container\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.maskOn),expression:\"maskOn\"}],staticClass:\"mask\",on:{\"touchstart\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.onTapMask($event)}}},[_c('div',{class:['circle-btn',_vm.workInfo.machineNum>18?'gray':'pink'],on:{\"click\":_vm.onPurchaseWork}},[_vm._v(\"购买\")]),_vm._v(\" \"),_c('div',{class:['circle-btn','purple'],on:{\"click\":_vm.onDownloadWork}},[_vm._v(\"下载\")]),_vm._v(\" \"),(_vm.isMine)?_c('div',{staticClass:\"circle-btn blue\",on:{\"click\":function($event){return _vm.onChangeWorkStatus(_vm.workInfo,_vm.workInfo.status==0?1:0)}}},[_vm._v(_vm._s(_vm.workInfo.status==0?_vm.workStatusMap[1]:_vm.workStatusMap[0]))]):_vm._e(),_vm._v(\" \"),(_vm.isMine)?_c('div',{staticClass:\"circle-btn gray\",on:{\"click\":function($event){return _vm.onChangeWorkStatus(_vm.workInfo,2)}}},[_vm._v(\"删除\")]):_vm._e()])]),_vm._v(\" \"),(_vm.workInfo.machineNum<=18)?_c('img',{staticClass:\"mb-tag\",attrs:{\"src\":require(\"../../assets/mb-tag.svg\")},on:{\"click\":_vm.onClickTag}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"preview-bg\"},[(_vm.workInfo.cover.indexOf('//')>=0)?_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.workInfo.cover,\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.cover.indexOf('//')<0)?_c('div',{staticClass:\"dark-mask\"}):_vm._e(),_vm._v(\" \"),(!_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":require(\"../../assets/viewer/trans-play.png\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e(),_vm._v(\" \"),(_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":require(\"../../assets/stop.svg\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('p',{staticClass:\"title\",on:{\"click\":function($event){return _vm.gotoWork(_vm.workInfo.id)}}},[_vm._v(_vm._s(_vm.workInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"user\",on:{\"click\":function($event){return _vm.gotoMusixiser(_vm.workInfo.userId)}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.workInfo.userVO.smallAvatar,\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"song-title\"},[_vm._v(_vm._s(_vm.workInfo.userVO.realname))])]),_vm._v(\" \"),_c('div',{staticClass:\"detail-other\"},[_c('div',[_vm._v(_vm._s(_vm._f(\"getDateDiff\")(_vm.workInfo.lastModifiedDate))+\"更新\")]),_vm._v(\" \"),_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.onToggleLike(_vm.workInfo)}}},[(!_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":require(\"../../assets/heartstroke.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":require(\"../../assets/heartfill.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\"\\n        \"+_vm._s(_vm.workInfo.collectNum)+\"\\n      \")])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29cb8019\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/workCard.vue\n// module id = null\n// module chunks = ","<script>\nexport default {\n  props: {\n    appear: Boolean,\n    handleClose: Function\n  },\n  computed: {\n    style() {}\n  },\n  data() {\n    return {};\n  },\n  watch: {},\n  created() {\n    // alert(this.progress)\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    updateButton() {}\n  }\n};\n</script>\n\n<template>\n  <transition>\n    <div\n      style=\"display:flex;align-items:center;justify-content:center;position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);z-index:3;\"\n      v-show=\"appear\"\n    >\n      <div id=\"tag-spec\">\n        <div class=\"header\">标记说明</div>\n        <div class=\"body\">表示本作品当前可制作成实体八音盒。\n          <br>能制作成八音盒的乐曲通常具备以下条件:\n          <ul>\n            <li>· 作品音符数量适中</li>\n            <li>· 作品音符音高比较分散</li>\n          </ul>\n        </div>\n        <div class=\"footer\" @click=\"handleClose\">关闭</div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../../_common/style/_functions.scss\";\n@import \"../../_common/style/_variables.scss\";\n@import \"../../_common/style/_mixins.scss\";\n@import \"../../_common/style/_reboot.scss\";\n#tag-spec {\n  position: relative;\n  width: getRem(670);\n  height: getRem(690);\n  padding: 0 getRem(56);\n  border-radius: getRem(40);\n  background-color: #6f7177;\n  .header {\n    height: getRem(75 * 2);\n    text-align: center;\n    color: white;\n    line-height: getRem(75 * 2);\n    font-size: getRem(36);\n  }\n  .body {\n    font-size: getRem(28);\n    color: white;\n    height: getRem(390);\n    overflow-y: scroll;\n    text-align: left;\n    ul {\n      li {\n      }\n    }\n  }\n\n  .footer {\n    height: getRem(75 * 2);\n    text-align: center;\n    color: white;\n    line-height: getRem(75 * 2);\n    font-size: getRem(32);\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/tagDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.appear),expression:\"appear\"}],staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"position\":\"absolute\",\"top\":\"0\",\"width\":\"100%\",\"height\":\"100%\",\"background-color\":\"rgba(0,0,0,.6)\",\"z-index\":\"3\"}},[_c('div',{attrs:{\"id\":\"tag-spec\"}},[_c('div',{staticClass:\"header\"},[_vm._v(\"标记说明\")]),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[_vm._v(\"表示本作品当前可制作成实体八音盒。\\n        \"),_c('br'),_vm._v(\"能制作成八音盒的乐曲通常具备以下条件:\\n        \"),_c('ul',[_c('li',[_vm._v(\"· 作品音符数量适中\")]),_vm._v(\" \"),_c('li',[_vm._v(\"· 作品音符音高比较分散\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"footer\",on:{\"click\":_vm.handleClose}},[_vm._v(\"关闭\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eba98184\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/tagDialog.vue\n// module id = null\n// module chunks = ","<script>\n// window.Tone = require('tone')\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport { mbMixin } from \"../_common/js/mixin.js\";\nimport workCard from \"./common/workCard\";\nimport tagDialog from \"./common/tagDialog\";\nimport * as WxShare from \"../_common/js/wx_share\";\nimport infiniteScroll from \"vue-infinite-scroll\";\n\nlet musicPart = undefined;\nconst workStatusMap = { 0: \"公开\", 1: \"私密\", 2: \"删除\" };\nexport default {\n  mixins: [mbMixin],\n  directives: {\n    infiniteScroll\n  },\n  components: {\n    workCard,\n    tagDialog\n  },\n  data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true,\n      tagAppear: false\n    };\n  },\n  computed: {\n    musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    musixiserWorksObj() {\n      console.log(JSON.stringify(this.$store.state.musixiserWorksObj));\n      return this.$store.state.musixiserWorksObj;\n    },\n    operatingWorkId() {\n      return this.$store.state.operatingWorkId;\n    },\n    playingWorkId() {\n      return this.$store.state.playingWorkId;\n    }\n  },\n  methods: {\n    loadMusixiserById() {\n      console.log(\"my id: \", this.userId);\n      const id = this.userId; // this.userId手传参id或当前用户id\n      this.$store\n        .dispatch(\"FETCH_MUSIXISER\", {\n          id\n        })\n        .then(() => {\n          const fullPath = `${location.origin}${\n            location.pathname\n          }#/musixiser?id=${this.userId}`;\n          document.title = `${this.$store.state.musixiserInfo.realname}的作品`;\n          WxShare.prepareShareConfig().then(() => {\n            WxShare.prepareShareContent({\n              title: `${this.$store.state.musixiserInfo.realname}的作品`,\n              desc: \"很好听哦～\",\n              // fullPath:location.href.split('#')[0],\n              fullPath,\n              imgUrl:\n                `http:${this.$store.state.musixiserInfo.smallAvatar}` ||\n                \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n            });\n          });\n        });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore() {\n      //will call automatically when enter!\n      const id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.musixiserWorksObj.current);\n      this.$store\n        .dispatch(\"FETCH_WORKS_FROM_MUSIXISER\", {\n          id,\n          page: this.musixiserWorksObj.current\n            ? this.musixiserWorksObj.current + 1\n            : 1\n        })\n        .then(() => {\n          console.log(\"2222222\", this.musixiserWorksObj);\n          if (\n            +this.musixiserWorksObj.content.length <\n            +this.musixiserWorksObj.total\n          ) {\n            //otherwise no more content\n            this.busy = false;\n          }\n        });\n    },\n\n    operateWork(work) {\n      console.log(\"operate in\");\n      this.$store.commit(\"OPERATE_WORK\", { work });\n    },\n    cancelOperate() {\n      this.$store.commit(\"OPERATE_WORK\", { work: { id: -1 } });\n    },\n    shareWork() {\n      console.log(\"share in\");\n    },\n    changeWorkStatus(work, status) {\n      Api.updateWork({\n        id: work.id,\n        status: status\n      }).then(() => {\n        this.$toast(`已将作品${workStatusMap[status]}`);\n        this.cancelOperate();\n        this.$store.commit(\"LOCAL_UPDATE_LIST\", {\n          type: \"musixiserWorksObj\",\n          item: {\n            id: work.id,\n            status\n          }\n        });\n      });\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    this.$store.commit(\"RESET_WORK_LIST\", {\n      type: \"musixiserWorksObj\"\n    });\n    next();\n  },\n  created() {\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n\n    const self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    document.title = \"作品集\";\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 239;\n      self.loadMusixiserById();\n      return;\n    }\n    const fullPath = `${location.origin}${location.pathname}#/musixiser?id=${\n      self.$store.state.route.query.id\n    }`;\n    // WxShare.prepareShareConfig().then(() => {\n    //   WxShare.prepareShareContent({\n    //     title: \"MUSIXISE\",\n    //     desc: \"我的地盘你就dê听我的\",\n    //     // fullPath:location.href.split('#')[0],\n    //     fullPath,\n    //     imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n    //   });\n    // });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          self.userId =\n            this.$store.state.route.query.id || res.data.data.userId;\n          self.isMe = self.userId == res.data.data.userId;\n          self.loadMusixiserById();\n\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {\n    // this.startRecord();\n    setTimeout(() => {\n      this.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <!-- <div class=\"\">\n    {{musixiserInfo.realname}}\n    </div>-->\n    <div\n      v-infinite-scroll=\"loadMore\"\n      infinite-scroll-disabled=\"busy\"\n      infinite-scroll-distance=\"10\"\n      class=\"worklist\"\n    >\n      <work-card\n        v-for=\"item in musixiserWorksObj.content\"\n        :workInfo=\"item\"\n        :key=\"item.id\"\n        :playingStatus=\"item.id==playingWorkId\"\n        :maskOn=\"item.id==operatingWorkId\"\n        :onLongPress=\"()=>operateWork(item)\"\n        :onPlayWork=\"()=>playWork(item)\"\n        :onPurchaseWork=\"()=>purchaseWork(item)\"\n        :onDownloadWork=\"()=>downloadWork(item)\"\n        :onClickTag=\"()=>{tagAppear=true}\"\n        :onShareWork=\"shareWork\"\n        :onChangeWorkStatus=\"changeWorkStatus\"\n        :onTapMask=\"cancelOperate\"\n        :onToggleLike=\"()=>toggleLike(item,'musixiserWorksObj')\"\n        :isMine=\"isMe\"\n      />\n    </div>\n    <!-- <div class=\"emptysection\" v-show=\"!loading && musixiserWorksObj.content.length==0\">\n      <div>\n        <p class=\"emptytitle\">暂无作品</p>\n        <img src=\"../assets/oops.png\" style=\"width:6rem;\" alt>\n      </div>\n    </div>-->\n    <tag-dialog :appear=\"tagAppear\" :handleClose=\"()=>{tagAppear=false}\"/>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n\n.container {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  background-color: #404249;\n}\n.worklist {\n  z-index: 0;\n  position: relative;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-content: flex-start;\n  flex-wrap: wrap;\n  padding: getRem(26);\n  background-color: #404249;\n  overflow: scroll;\n}\n.hairline {\n  height: 1px;\n  background: #979797;\n  transform: scaleY(0.5);\n}\n.work {\n  position: relative;\n  display: flex;\n  height: getRem(174);\n  margin-bottom: getRem(30);\n  .cover {\n    position: relative;\n    width: getRem(174);\n    height: getRem(174);\n    margin-top: getRem(18);\n  }\n  .detail {\n    flex: 1;\n    padding-left: getRem(30);\n    .line {\n      display: flex;\n      justify-content: space-between;\n    }\n    .line1 {\n      padding-top: getRem(40);\n      padding-bottom: getRem(60);\n      line-height: getRem(30);\n    }\n    .line2 {\n      padding-bottom: getRem(30);\n      line-height: getRem(30);\n    }\n    .title {\n      font-size: getRem(28);\n      color: #8c8c92;\n    }\n    .date {\n      font-size: getRem(20);\n      color: #6d6e75;\n    }\n    .creator {\n      font-size: getRem(24);\n      color: #6d6e75;\n    }\n    .likes {\n      font-size: getRem(20);\n      color: rgba(255, 255, 255, 0.3);\n    }\n  }\n}\n.emptysection {\n  position: relative;\n  height: 100%;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .emptytitle {\n    font-size: 1.4rem;\n    font-weight: 200;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MusixiserDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.musixiserWorksObj.content),function(item){return _c('work-card',{key:item.id,attrs:{\"workInfo\":item,\"playingStatus\":item.id==_vm.playingWorkId,\"maskOn\":item.id==_vm.operatingWorkId,\"onLongPress\":function (){ return _vm.operateWork(item); },\"onPlayWork\":function (){ return _vm.playWork(item); },\"onPurchaseWork\":function (){ return _vm.purchaseWork(item); },\"onDownloadWork\":function (){ return _vm.downloadWork(item); },\"onClickTag\":function (){_vm.tagAppear=true},\"onShareWork\":_vm.shareWork,\"onChangeWorkStatus\":_vm.changeWorkStatus,\"onTapMask\":_vm.cancelOperate,\"onToggleLike\":function (){ return _vm.toggleLike(item,'musixiserWorksObj'); },\"isMine\":_vm.isMe}})}),1),_vm._v(\" \"),_c('tag-dialog',{attrs:{\"appear\":_vm.tagAppear,\"handleClose\":function (){_vm.tagAppear=false}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e5b918e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MusixiserDetail.vue\n// module id = null\n// module chunks = ","<script>\n// window.Tone = require('tone')\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport { mbMixin } from \"../_common/js/mixin.js\";\nimport workCard from \"./common/workCard\";\nimport tagDialog from \"./common/tagDialog\";\nimport * as WxShare from \"../_common/js/wx_share\";\nimport infiniteScroll from \"vue-infinite-scroll\";\n\nlet musicPart = undefined;\n\nexport default {\n  mixins: [mbMixin],\n  directives: {\n    infiniteScroll\n  },\n  components: {\n    workCard,\n    tagDialog\n  },\n  data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true,\n      tagAppear: false\n    };\n  },\n  computed: {\n    musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    favWorksObj() {\n      return this.$store.state.favWorksObj;\n    },\n    operatingWorkId() {\n      return this.$store.state.operatingWorkId;\n    },\n    playingWorkId() {\n      return this.$store.state.playingWorkId;\n    }\n  },\n  methods: {\n    loadMusixiserById() {\n      console.log(\"my id: \", this.userId);\n      const id = this.userId; // this.userId手传参id或当前用户id\n      this.$store\n        .dispatch(\"FETCH_MUSIXISER\", {\n          id\n        })\n        .then(() => {\n          const fullPath = `${location.origin}${location.pathname}#/my-fav?id=${\n            this.userId\n          }`;\n          document.title = `${this.$store.state.musixiserInfo.realname}的收藏`;\n          WxShare.prepareShareConfig().then(() => {\n            WxShare.prepareShareContent({\n              title: `${this.$store.state.musixiserInfo.realname}的收藏`,\n              desc: \"口味不太一样哦～\",\n              // fullPath:location.href.split('#')[0],\n              fullPath,\n              imgUrl:\n                `http:${this.$store.state.musixiserInfo.smallAvatar}` ||\n                \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n            });\n          });\n        });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore() {\n      //will call automatically when enter!\n      const id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.favWorksObj.current);\n      this.$store\n        .dispatch(\"FETCH_FAV_WORKS\", {\n          id,\n          page: this.favWorksObj.current ? this.favWorksObj.current + 1 : 1\n        })\n        .then(() => {\n          console.log(\"2222222\", this.favWorksObj);\n          if (+this.favWorksObj.content.length < +this.favWorksObj.total) {\n            this.busy = false;\n          }\n        });\n    },\n\n    operateWork(work) {\n      console.log(\"operate in\");\n      this.$store.commit(\"OPERATE_WORK\", { work });\n    },\n    cancelOperate() {\n      this.$store.commit(\"OPERATE_WORK\", { work: { id: -1 } });\n    },\n\n    shareWork() {\n      console.log(\"share in\");\n    },\n    changeWorkStatus(work, status) {\n      Api.updateWork({\n        id: work.id,\n        status: status\n      }).then(() => {\n        this.$toast(`已将作品${workStatusMap[status]}`);\n        this.cancelOperate();\n        this.$store.commit(\"LOCAL_UPDATE_LIST\", {\n          type: \"favWorksObj\",\n          item: {\n            id: work.id,\n            status\n          }\n        });\n      });\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    this.$store.commit(\"RESET_WORK_LIST\", {\n      type: \"favWorksObj\"\n    });\n    next();\n  },\n  created() {\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    const self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n    document.title = \"收藏集\";\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 239;\n      self.loadMusixiserById();\n      return;\n    }\n    const fullPath = `${location.origin}${location.pathname}#/my-fav?id=${\n      self.$store.state.route.query.id\n    }`;\n    // WxShare.prepareShareConfig().then(() => {\n    //   WxShare.prepareShareContent({\n    //     title: \"MUSIXISE\",\n    //     desc: \"我的地盘你就dê听我的\",\n    //     // fullPath:location.href.split('#')[0],\n    //     fullPath,\n    //     imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n    //   });\n    // });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          self.userId =\n            this.$store.state.route.query.id || res.data.data.userId;\n          self.isMe = self.userId == res.data.data.userId;\n          self.loadMusixiserById();\n\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {\n    // this.startRecord();\n    setTimeout(() => {\n      this.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <!-- <div class=\"\">\n    {{musixiserInfo.realname}}\n    </div>-->\n    <div\n      v-infinite-scroll=\"loadMore\"\n      infinite-scroll-disabled=\"busy\"\n      infinite-scroll-distance=\"10\"\n      class=\"worklist\"\n    >\n      <work-card\n        v-for=\"item in favWorksObj.content\"\n        :workInfo=\"item\"\n        :key=\"item.id\"\n        :playingStatus=\"item.id==playingWorkId\"\n        :maskOn=\"item.id==operatingWorkId\"\n        :onLongPress=\"()=>operateWork(item)\"\n        :onPlayWork=\"()=>playWork(item)\"\n        :onDownloadWork=\"()=>downloadWork(item)\"\n        :onPurchaseWork=\"()=>purchaseWork(item)\"\n        :onClickTag=\"()=>{tagAppear=true}\"\n        :onShareWork=\"shareWork\"\n        :onChangeWorkStatus=\"changeWorkStatus\"\n        :onTapMask=\"cancelOperate\"\n        :onToggleLike=\"()=>toggleLike(item,'favWorksObj')\"\n      />\n    </div>\n    <!-- <div class=\"emptysection\" v-show=\"!loading && musixiserWorksObj.content.length==0\">\n      <div>\n        <p class=\"emptytitle\">暂无作品</p>\n        <img src=\"../assets/oops.png\" style=\"width:6rem;\" alt>\n      </div>\n    </div>-->\n    <tag-dialog :appear=\"tagAppear\" :handleClose=\"()=>{tagAppear=false}\"/>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n\n.container {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  background-color: #404249;\n}\n.worklist {\n  position: relative;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-content: flex-start;\n  flex-wrap: wrap;\n  padding: getRem(20);\n  background-color: #404249;\n  overflow: scroll;\n}\n.hairline {\n  height: 1px;\n  background: #979797;\n  transform: scaleY(0.5);\n}\n.work {\n  position: relative;\n  display: flex;\n  height: getRem(174);\n  margin-bottom: getRem(30);\n  .cover {\n    position: relative;\n    width: getRem(174);\n    height: getRem(174);\n    margin-top: getRem(18);\n  }\n  .detail {\n    flex: 1;\n    padding-left: getRem(30);\n    .line {\n      display: flex;\n      justify-content: space-between;\n    }\n    .line1 {\n      padding-top: getRem(40);\n      padding-bottom: getRem(60);\n      line-height: getRem(30);\n    }\n    .line2 {\n      padding-bottom: getRem(30);\n      line-height: getRem(30);\n    }\n    .title {\n      font-size: getRem(28);\n      color: #8c8c92;\n    }\n    .date {\n      font-size: getRem(20);\n      color: #6d6e75;\n    }\n    .creator {\n      font-size: getRem(24);\n      color: #6d6e75;\n    }\n    .likes {\n      font-size: getRem(20);\n      color: rgba(255, 255, 255, 0.3);\n    }\n  }\n}\n.emptysection {\n  position: relative;\n  height: 100%;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .emptytitle {\n    font-size: 1.4rem;\n    font-weight: 200;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MyFav.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.favWorksObj.content),function(item){return _c('work-card',{key:item.id,attrs:{\"workInfo\":item,\"playingStatus\":item.id==_vm.playingWorkId,\"maskOn\":item.id==_vm.operatingWorkId,\"onLongPress\":function (){ return _vm.operateWork(item); },\"onPlayWork\":function (){ return _vm.playWork(item); },\"onDownloadWork\":function (){ return _vm.downloadWork(item); },\"onPurchaseWork\":function (){ return _vm.purchaseWork(item); },\"onClickTag\":function (){_vm.tagAppear=true},\"onShareWork\":_vm.shareWork,\"onChangeWorkStatus\":_vm.changeWorkStatus,\"onTapMask\":_vm.cancelOperate,\"onToggleLike\":function (){ return _vm.toggleLike(item,'favWorksObj'); }}})}),1),_vm._v(\" \"),_c('tag-dialog',{attrs:{\"appear\":_vm.tagAppear,\"handleClose\":function (){_vm.tagAppear=false}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d2538886\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyFav.vue\n// module id = null\n// module chunks = ","<script>\nimport { swiper, swiperSlide } from \"vue-awesome-swiper\";\nexport default {\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String,\n    onClickCall: {\n      type: Function,\n      default() {\n        return function() {\n          console.log(\"tap tap in count Button\");\n        };\n      }\n    }\n  },\n  components: {\n    swiper,\n    swiperSlide\n  },\n\n  computed: {\n    style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    },\n    swiper() {\n      return this.$refs.productList.swiper;\n    },\n    bigSwiper() {\n      return this.$refs.bigProductList.swiper;\n    },\n    productList() {\n      return this.$store.state.productList;\n    }\n  },\n  data() {\n    return {\n      activeIndex: 0\n    };\n  },\n  watch: {},\n  created() {\n    const self = this;\n    document.title = \"选择商品\";\n    //set upper big swiper\n    this.bigProductListOption = {\n      loop: false,\n      // spaceBetween: 30,\n      centeredSlides: true,\n      slidesPerView: 1,\n      // slidesPerView: \"auto\",\n      watchSlidesProgress: true,\n      effect: \"fade\",\n      on: {\n        transitionEnd(e) {\n          // console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          console.log(this.realIndex);\n          self.targetProduct = self.productList[this.realIndex];\n          self.activeIndex = this.realIndex;\n          //let small swiper swipe to target\n          self.swiper.slideTo(self.activeIndex);\n        },\n        progress(progress) {\n          // this.activeIndex = progress;\n          // console.log()\n        }\n      }\n    };\n    // set small lower swiper\n    this.productListOption = {\n      loop: false,\n      // spaceBetween: 30,\n      centeredSlides: true,\n      slidesPerView: 8,\n      // slidesPerView: \"auto\",\n      watchSlidesProgress: true,\n      slideToClickedSlide: true,\n      on: {\n        transitionEnd(e) {\n          // console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          console.log(this.realIndex);\n          self.targetProduct = self.productList[this.realIndex];\n          self.activeIndex = this.realIndex;\n          //let big swiper swipe to target\n          self.bigSwiper.slideTo(self.activeIndex);\n        },\n        progress(progress) {\n          // this.activeIndex = progress;\n          // console.log()\n        }\n      }\n    };\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    viewProductDetail() {},\n    toConfirmOrder() {\n      console.log(123321);\n      this.$store.commit(\"SAVE_ORDER_INFO\", {\n        product: this.targetProduct\n      }); // store current workId\n      this.$router.push({\n        path: \"/order-confirm\",\n        query: {\n          // id\n        }\n      });\n    },\n    to(page) {\n      if (typeof page !== \"number\") {\n        return false;\n      }\n      this.swiper.slideTo(page, 300, false);\n      console.log(\"跳转到第\", page, \"页面\");\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <swiper :options=\"bigProductListOption\" ref=\"bigProductList\">\n      <swiper-slide v-for=\"product in productList\" :key=\"product.id\">\n        <!-- <transition name=\"fade\" mode=\"out-in\"> -->\n        <div class=\"productPage\" @click=\"viewProductDetail\" v-bind:key=\"activeIndex\">\n          <div class=\"preview\" :style=\"{background:`url()`}\">\n            <img\n              style=\"width:100%;height:100%;position:relative;object-fit: cover;display:block;border-radius: 20px 20px 0 0;background:black;\"\n              :src=\"product.previewPic||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png'\"\n              alt\n            >\n          </div>\n          <div class=\"desc\">\n            <div class=\"desc-title\">{{product.name}}</div>\n            <div style=\"display:flex\">\n              <div style=\"flex:1;color:#6d6e75;font-size:12px;\">\n                <!-- <p>大小:20*30*40 (cm)</p> -->\n                <p>{{product.intro}}</p>\n              </div>\n              <div class=\"price\">¥{{product.price}}</div>\n            </div>\n          </div>\n        </div>\n        <!-- </transition> -->\n      </swiper-slide>\n    </swiper>\n    <swiper :options=\"productListOption\" ref=\"productList\">\n      <swiper-slide v-for=\"(product,index) in productList\" :key=\"product.id\">\n        <img\n          style=\"width:1rem;height:1rem;background:black;object-fit: cover;\"\n          :src=\"product.previewPic||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png'\"\n          :class=\"{ invalid: index!==activeIndex }\"\n          alt\n        >\n      </swiper-slide>\n    </swiper>\n    <div id=\"purchase-area\">\n      <div class=\"purchaseBtn\" @click=\"toConfirmOrder\">购买</div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n.swiper-pagination-bullet-custom {\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  line-height: 20px;\n  font-size: 12px;\n  color: #000;\n  opacity: 1;\n  background: rgba(0, 0, 0, 0.2);\n}\n.swiper-pagination-bullet-custom.swiper-pagination-bullet-active {\n  color: #fff;\n  background: #007aff;\n}\n.container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  padding-bottom: getRem(80+92); //space for bottom area\n  background-color: #1a1c1e;\n  .swiper-slide div {\n    // position: absolute;\n  }\n}\n.productPage {\n  position: relative;\n  width: getRem(638);\n  height: getRem(744);\n  border-radius: 20px;\n  margin: 80px auto 40px;\n  .preview {\n    position: relative;\n    width: 100%;\n    border-radius: 20px 20px 0 0;\n    height: getRem(456);\n    background-color: #d8d8d8;\n  }\n  .desc {\n    position: relative;\n    width: 100%;\n    height: getRem(288);\n    background-color: #2c2d30;\n    border-radius: 0 0 20px 20px;\n    text-align: left;\n    padding-left: getRem(48);\n    .desc-title {\n      color: #a3a4a8;\n      font-size: 18px;\n      line-height: getRem(144);\n    }\n    .price {\n      width: 3rem;\n      font-size: 24px;\n      color: #a3a4a8;\n      text-align: right;\n      padding-right: getRem(48);\n    }\n  }\n}\n#purchase-area {\n  position: absolute;\n  bottom: getRem(80);\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .purchaseBtn {\n    background-color: #4564d7;\n    width: getRem(640);\n    height: getRem(92);\n    font-size: 16px;\n    color: white;\n    text-align: center;\n    line-height: getRem(92);\n    border-radius: getRem(46);\n  }\n  .purchaseBtn {\n    background-color: #4564d7;\n    width: getRem(640);\n    height: getRem(92);\n    font-size: 16px;\n    color: white;\n    text-align: center;\n    line-height: getRem(92);\n    border-radius: getRem(46);\n  }\n}\n\n.invalid {\n  opacity: 0.6;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ProductList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('swiper',{ref:\"bigProductList\",attrs:{\"options\":_vm.bigProductListOption}},_vm._l((_vm.productList),function(product){return _c('swiper-slide',{key:product.id},[_c('div',{key:_vm.activeIndex,staticClass:\"productPage\",on:{\"click\":_vm.viewProductDetail}},[_c('div',{staticClass:\"preview\",style:({background:\"url()\"})},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"relative\",\"object-fit\":\"cover\",\"display\":\"block\",\"border-radius\":\"20px 20px 0 0\",\"background\":\"black\"},attrs:{\"src\":product.previewPic||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png',\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_c('div',{staticClass:\"desc-title\"},[_vm._v(_vm._s(product.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\",\"color\":\"#6d6e75\",\"font-size\":\"12px\"}},[_c('p',[_vm._v(_vm._s(product.intro))])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_vm._v(\"¥\"+_vm._s(product.price))])])])])])}),1),_vm._v(\" \"),_c('swiper',{ref:\"productList\",attrs:{\"options\":_vm.productListOption}},_vm._l((_vm.productList),function(product,index){return _c('swiper-slide',{key:product.id},[_c('img',{class:{ invalid: index!==_vm.activeIndex },staticStyle:{\"width\":\"1rem\",\"height\":\"1rem\",\"background\":\"black\",\"object-fit\":\"cover\"},attrs:{\"src\":product.previewPic||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png',\"alt\":\"\"}})])}),1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"purchase-area\"}},[_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.toConfirmOrder}},[_vm._v(\"购买\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-12dc8390\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProductList.vue\n// module id = null\n// module chunks = ","<script>\nimport * as WxShare from \"../_common/js/wx_share\";\n\nexport default {\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String\n  },\n  computed: {\n    style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    },\n    orderToCreate() {\n      return this.$store.state.orderToCreate;\n    },\n    targetProduct() {\n      return this.$store.state.targetProduct;\n    },\n    targetWork() {\n      return this.$store.state.targetWork;\n    }\n  },\n  data() {\n    return {\n      amount: 1,\n      giftMsg: \"\",\n      currentActiveCount: 0,\n      currentActive: false,\n      userName: \"\",\n      telNum: \"\",\n      address: \"\"\n    };\n  },\n  watch: {},\n  created() {\n    document.title = \"确认订单\";\n    this.currentActive = this.initActive;\n    this.currentActiveCount = this.currentActive\n      ? this.initCount\n      : this.initCount + 1;\n  },\n  mounted() {},\n  updated() {},\n  beforeRouteEnter(to, from, next) {\n    // i think need check here, e.g. cookie address\n    next();\n  },\n  methods: {\n    toConfirmOrder() {\n      // passin orderToCreate TODO\n      if (!this.address) {\n        alert(\"请先填入地址\");\n      } else {\n        console.log(this.orderToCreate);\n        WxShare.makeWxOrder(\n          { ...this.orderToCreate, amount: this.amount, message: this.giftMsg },\n          () => {\n            this.$toast(\"下单成功\");\n            this.$router.push({\n              path: \"/my-orders\"\n            });\n          },\n          () => {\n            this.$toast(\"未下单\");\n            this.$router.push({\n              path: \"/my-orders\"\n            });\n          }\n        );\n      }\n    },\n    positionWindow() {\n      window.scroll(0, 0);\n    },\n    editAddress() {\n      //都是同步操作\n      WxShare.createAddress(\n        address => {\n          this.address = address.detailInfo;\n          this.userName = address.userName;\n          this.telNum = address.telNumber;\n          this.$store.commit(\"SAVE_ORDER_INFO\", { address });\n        },\n        () => {}\n      );\n    },\n    addAmount() {\n      this.amount < 9 ? (this.amount += 1) : \"\";\n    },\n    reduceAmount() {\n      this.amount > 1 ? (this.amount -= 1) : \"\";\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <div class=\"order-confirm\">\n      <div class=\"address\" @click=\"editAddress\">\n        <div id=\"basic-info\">收件人：</div>\n        <div id=\"address-info\">\n          收件地址：\n          <div class=\"address-underline\" id=\"underline1\"></div>\n          <div class=\"address-underline\" id=\"underline2\"></div>\n        </div>\n        <div id=\"wx-info\">\n          <span>{{userName}}</span>\n          <span>&nbsp;{{telNum}}</span>\n        </div>\n        <div id=\"wx-address\">{{address}}</div>\n      </div>\n    </div>\n    <div class=\"item\">\n      <img\n        class=\"product-img\"\n        :src=\"targetProduct.previewPic||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png'\"\n        alt\n      >\n      <div class=\"goods\">\n        <p class=\"sub-title\">{{targetProduct.name}}</p>\n        <p class=\"work-title\">{{targetWork.title}}</p>\n      </div>\n      <div class=\"amount\">\n        <span @click=\"reduceAmount\">-</span>\n        <input v-model.number=\"amount\" @blur=\"positionWindow\" type=\"number\">\n        <span @click=\"addAmount\">+</span>\n      </div>\n    </div>\n    <div style=\"margin: 0 0.64rem;\">\n      <div class=\"thinline\"></div>\n    </div>\n\n    <div class=\"item-list\">\n      <p class=\"sub-title\">商品清单</p>\n      <div class=\"sub-detail\">\n        <p>八音盒 x 1</p>\n        <p>包装盒 x 1</p>\n        <p>礼品卡 x 1</p>\n      </div>\n    </div>\n    <div class=\"msg\">\n      <input\n        v-model=\"giftMsg\"\n        @blur=\"positionWindow\"\n        type=\"text\"\n        placeholder=\"默认祝福语：「在乐音相伴的梦里，世界一片白银」\"\n      >\n    </div>\n    <div class=\"readme\">\n      购买说明\n      <ul>\n        <li>· 此商品的制作周期约为2周，您可以在【我的-八音盒】页面查看进度</li>\n        <li>· 定制商品在某些特定条件下无法制作，我们将在第一时间联系您并进行退款</li>\n        <li>· 定制商品非质量问题不得退换货，如需退货请在公众号页面提交申请</li>\n        <li>· 如有其他疑问可在公众号的【留言】版块留言，我们将尽快为您解答</li>\n      </ul>\n    </div>\n    <div class=\"purchase-area\">\n      <div class=\"purchaseBtn\" @click=\"toConfirmOrder\">付款 ¥{{amount*targetProduct.price}}</div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n.container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  background-color: $darker-gray;\n  padding-bottom: getRem(180);\n}\n.order-confirm {\n  position: relative;\n}\n.address {\n  position: relative;\n  width: getRem(654);\n  height: getRem(264);\n  background-color: #2c2d30;\n  margin: getRem(32) auto getRem(24);\n  text-align: left;\n  padding-left: getRem(24);\n  #basic-info {\n    position: relative;\n    color: #8c8c92;\n    display: flex;\n    line-height: 1rem;\n    font-size: 14px;\n    width: 100%;\n    height: getRem(100);\n    padding-top: getRem(32);\n  }\n  #wx-info {\n    position: absolute;\n    padding-top: getRem(32);\n    text-align: left;\n    top: 0rem;\n    left: 2.3rem;\n    width: 5.5rem;\n    height: 1rem;\n    color: #8c8c92;\n    font-size: 16px;\n    line-height: 1rem;\n  }\n\n  #wx-address {\n    position: absolute;\n    text-align: left;\n    top: 1rem;\n    left: 2.3rem;\n    width: 5.5rem;\n    height: 2rem;\n    color: #6d6e75;\n    font-size: 12px;\n    line-height: 1rem;\n    // text-overflow: ellipsis;\n    // /* Required for text-overflow to do anything */\n    // white-space: nowrap;\n    overflow: scroll;\n  }\n  #address-info {\n    position: relative;\n    color: #6d6e75;\n    font-size: 12px;\n    width: 100%;\n    height: getRem(100);\n    .address-underline {\n      position: absolute;\n      width: getRem(400);\n      height: 1px;\n      transform: scaleY(0.5);\n      background-color: #d8d8d8;\n    }\n    #underline1 {\n      left: getRem(144);\n      top: 0.5rem;\n    }\n    #underline2 {\n      left: getRem(144);\n      top: 1.5rem;\n    }\n  }\n}\n.thinline {\n  position: relative;\n  width: 100%;\n  height: 1px;\n  transform: scaleY(0.5);\n  background-color: #d8d8d8;\n}\n.item {\n  position: relative;\n  width: getRem(644);\n  height: getRem(128);\n  display: flex;\n  margin: getRem(24) getRem(48) getRem(32);\n  align-items: center;\n  // border-bottom: 1px solid #d8d8d8;\n  .product-img {\n    width: getRem(128);\n    height: getRem(128);\n    margin-right: getRem(42);\n  }\n  .goods {\n    flex: 1;\n    text-align: left;\n    color: #8c8c92;\n    .sub-title {\n      font-size: getRem(36);\n      margin-bottom: getRem(32);\n    }\n    .work-title {\n      font-size: getRem(24);\n    }\n  }\n  .amount {\n    color: #8c8c92;\n    width: getRem(150);\n    height: getRem(50);\n    line-height: getRem(50);\n    border: 1px solid #8c8c92;\n    border-radius: getRem(25);\n    font-size: getRem(20);\n    display: flex;\n    span {\n      width: getRem(30);\n    }\n    input {\n      width: getRem(90);\n      color: #8c8c92;\n      text-align: center;\n    }\n  }\n}\n.productPage {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n.purchase-area {\n  position: fixed;\n  bottom: 0px;\n  padding-bottom: getRem(40);\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: $darker-gray;\n  .purchaseBtn {\n    position: relative;\n    background-color: #4564d7;\n    width: getRem(640);\n    height: getRem(92);\n    font-size: 16px;\n    color: white;\n    text-align: center;\n    line-height: getRem(92);\n    border-radius: getRem(46);\n  }\n}\n\n.readme {\n  margin: 0 getRem(48);\n  color: #6d6e75;\n  text-align: left;\n  font-size: getRem(20);\n  ul {\n    list-style: none;\n    padding: 0;\n  }\n}\n// reset\ninput {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  -o-appearance: none;\n  appearance: none;\n  background: none;\n  border: 0;\n}\n.msg {\n  padding: getRem(22) 0;\n  margin: getRem(16) getRem(48) getRem(72);\n  border: 1px solid #979797;\n  font-size: getRem(24);\n  // transform: scale(0.5);\n  // position: absolute;\n  // top: -50%;\n  // right: -50%;\n  // bottom: -50%;\n  // left: -50%;\n  input {\n    width: 100%;\n    text-align: left;\n    padding-left: getRem(22);\n    color: white;\n  }\n}\n.item-list {\n  margin-top: getRem(18);\n  text-align: left;\n  margin-left: getRem(48);\n  .sub-title {\n    color: #6d6e75;\n    font-size: getRem(24);\n    margin-bottom: getRem(32);\n  }\n  .sub-detail {\n    color: #6d6e76;\n    font-size: getRem(28);\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/OrderConfirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"order-confirm\"},[_c('div',{staticClass:\"address\",on:{\"click\":_vm.editAddress}},[_c('div',{attrs:{\"id\":\"basic-info\"}},[_vm._v(\"收件人：\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"wx-info\"}},[_c('span',[_vm._v(_vm._s(_vm.userName))]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(_vm.telNum))])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"wx-address\"}},[_vm._v(_vm._s(_vm.address))])])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('img',{staticClass:\"product-img\",attrs:{\"src\":_vm.targetProduct.previewPic||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png',\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"goods\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(_vm._s(_vm.targetProduct.name))]),_vm._v(\" \"),_c('p',{staticClass:\"work-title\"},[_vm._v(_vm._s(_vm.targetWork.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"amount\"},[_c('span',{on:{\"click\":_vm.reduceAmount}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.amount),expression:\"amount\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.amount)},on:{\"blur\":[_vm.positionWindow,function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.amount=_vm._n($event.target.value)}}}),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.addAmount}},[_vm._v(\"+\")])])]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"msg\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.giftMsg),expression:\"giftMsg\"}],attrs:{\"type\":\"text\",\"placeholder\":\"默认祝福语：「在乐音相伴的梦里，世界一片白银」\"},domProps:{\"value\":(_vm.giftMsg)},on:{\"blur\":_vm.positionWindow,\"input\":function($event){if($event.target.composing){ return; }_vm.giftMsg=$event.target.value}}})]),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"purchase-area\"},[_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.toConfirmOrder}},[_vm._v(\"付款 ¥\"+_vm._s(_vm.amount*_vm.targetProduct.price))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"address-info\"}},[_vm._v(\"\\n        收件地址：\\n        \"),_c('div',{staticClass:\"address-underline\",attrs:{\"id\":\"underline1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"address-underline\",attrs:{\"id\":\"underline2\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"0 0.64rem\"}},[_c('div',{staticClass:\"thinline\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-list\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"商品清单\")]),_vm._v(\" \"),_c('div',{staticClass:\"sub-detail\"},[_c('p',[_vm._v(\"八音盒 x 1\")]),_vm._v(\" \"),_c('p',[_vm._v(\"包装盒 x 1\")]),_vm._v(\" \"),_c('p',[_vm._v(\"礼品卡 x 1\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"readme\"},[_vm._v(\"\\n    购买说明\\n    \"),_c('ul',[_c('li',[_vm._v(\"· 此商品的制作周期约为2周，您可以在【我的-八音盒】页面查看进度\")]),_vm._v(\" \"),_c('li',[_vm._v(\"· 定制商品在某些特定条件下无法制作，我们将在第一时间联系您并进行退款\")]),_vm._v(\" \"),_c('li',[_vm._v(\"· 定制商品非质量问题不得退换货，如需退货请在公众号页面提交申请\")]),_vm._v(\" \"),_c('li',[_vm._v(\"· 如有其他疑问可在公众号的【留言】版块留言，我们将尽快为您解答\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc0d2e92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/OrderConfirm.vue\n// module id = null\n// module chunks = ","<script>\nexport default {\n  // {\n  //   id: 130,\n  //   price: 0.01,\n  //   status: 2,\n  //   shipTime: 1547705540000,\n  //   confirmTime: 1547734350000,\n  //   userId: 0,\n  //   amount: 1,\n  //   content: {\n  //     wid: 148,\n  //     product: {\n  //       id: 1,\n  //       category: 0,\n  //       name: \"产品名01\",\n  //       intro: \"八音盒\",\n  //       price: 0.01,\n  //       status: 0,\n  //       createdDate: 1545545048000\n  //     },\n  //     title: \"castle\",\n  //     userId: 239,\n  //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n  //   },\n  //   address: {\n  //     id: 2,\n  //     userId: 239,\n  //     userName: \"花\",\n  //     postalCode: \"100032\",\n  //     provinceName: \"北京市\",\n  //     cityName: \"北京市\",\n  //     countryName: \"西城区\",\n  //     detailInfo: \"哈哈哈哈哈哈哈\",\n  //     nationalCode: \"110102\",\n  //     telNumber: \"13146319393\"\n  //   }\n  // }\n  props: {\n    info: Object,\n    playingStatus: {\n      type: Boolean,\n      default: false\n    },\n    onPlayWork: Function,\n    onPayOrder: Function\n  },\n  computed: {},\n  data() {\n    return {};\n  },\n  watch: {},\n  created() {\n    // alert(this.progress)\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    updateButton() {}\n  }\n};\n</script>\n\n<template>\n  <div class=\"order-container\">\n    <div class=\"preview-bg\">\n      <img class=\"cover\" :src=\"info.content.product.previewPic\" alt>\n      <div class=\"shipment\">\n        <img v-if=\"info.status===1\" class=\"statusProcess\" src=\"../../assets/123-0.png\" alt>\n        <p v-if=\"info.status===1\" class=\"statusText\" @click=\"onPayOrder\">去支付</p>\n        <img v-if=\"info.status===2\" class=\"statusProcess\" src=\"../../assets/123-1.png\" alt>\n        <p v-if=\"info.status===2\" class=\"statusText\">制作中👷</p>\n        <img v-if=\"info.status===3\" class=\"statusProcess\" src=\"../../assets/123-2.png\" alt>\n        <p v-if=\"info.status===3\" class=\"statusText\">派送中🏍️</p>\n        <img v-if=\"info.status===4\" class=\"statusProcess\" src=\"../../assets/123-3.png\" alt>\n        <p v-if=\"info.status===4\" class=\"statusText\">已收件🎁</p>\n      </div>\n    </div>\n    <div class=\"detail\">\n      <div class=\"detail-basic\">\n        <div class=\"title\">\n          <p class=\"product-name\">{{info.content.product.name}}</p>\n          <p class=\"song-title\">{{info.content.title}}</p>\n        </div>\n        <div :class=\"playingStatus?'stopBtn':'playBtn'\" @touchend=\"onPlayWork\"></div>\n      </div>\n      <div class=\"detail-other\">\n        <p>{{info.orderTime|getDateDiff}}下单</p>\n        <p>¥{{info.price}}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../../_common/style/_functions.scss\";\n@import \"../../_common/style/_variables.scss\";\n@import \"../../_common/style/_mixins.scss\";\n@import \"../../_common/style/_reboot.scss\";\n.order-container {\n  display: inline-block;\n  position: relative;\n  width: getRem(342);\n  height: getRem(348);\n  margin-bottom: getRem(16);\n  .preview-bg {\n    position: relative;\n    width: 100%;\n    height: getRem(208);\n    .cover {\n      position: absolute;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n    .shipment {\n      position: absolute;\n      background-color: $img-mask;\n      width: 100%;\n      height: 100%;\n      text-align: center;\n      .statusProcess {\n        width: getRem(204);\n        height: getRem(28);\n      }\n      .statusText {\n        font-size: 14px;\n        color: white;\n      }\n    }\n  }\n  .detail {\n    position: relative;\n    width: 100%;\n    height: getRem(140);\n    background-color: $dark-gray;\n    color: $gray-text;\n    .detail-basic {\n      display: flex;\n      position: relative;\n      height: getRem(90);\n      width: 100%;\n      padding: getRem(16);\n      align-items: center;\n      .title {\n        flex: 1;\n        text-align: left;\n        .product-name {\n          font-size: 14px;\n        }\n        .song-title {\n          font-size: 12px;\n        }\n      }\n      .playBtn {\n        background: url(\"../../assets/play.svg\") no-repeat center center;\n        background-size: cover;\n        color: yellow;\n        width: getRem(30);\n        height: getRem(30);\n      }\n      .stopBtn {\n        background: url(\"../../assets/stop.svg\") no-repeat center center;\n        background-size: cover;\n        color: yellow;\n        width: getRem(30);\n        height: getRem(30);\n      }\n    }\n    .detail-other {\n      display: flex;\n      justify-content: space-between;\n      padding: getRem(10) getRem(16);\n      font-size: 10px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/Order.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-container\"},[_c('div',{staticClass:\"preview-bg\"},[_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.info.content.product.previewPic,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"shipment\"},[(_vm.info.status===1)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":require(\"../../assets/123-0.png\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===1)?_c('p',{staticClass:\"statusText\",on:{\"click\":_vm.onPayOrder}},[_vm._v(\"去支付\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===2)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":require(\"../../assets/123-1.png\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===2)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"制作中👷\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===3)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":require(\"../../assets/123-2.png\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===3)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"派送中🏍️\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===4)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":require(\"../../assets/123-3.png\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===4)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"已收件🎁\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"detail-basic\"},[_c('div',{staticClass:\"title\"},[_c('p',{staticClass:\"product-name\"},[_vm._v(_vm._s(_vm.info.content.product.name))]),_vm._v(\" \"),_c('p',{staticClass:\"song-title\"},[_vm._v(_vm._s(_vm.info.content.title))])]),_vm._v(\" \"),_c('div',{class:_vm.playingStatus?'stopBtn':'playBtn',on:{\"touchend\":_vm.onPlayWork}})]),_vm._v(\" \"),_c('div',{staticClass:\"detail-other\"},[_c('p',[_vm._v(_vm._s(_vm._f(\"getDateDiff\")(_vm.info.orderTime))+\"下单\")]),_vm._v(\" \"),_c('p',[_vm._v(\"¥\"+_vm._s(_vm.info.price))])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c56ec848\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Order.vue\n// module id = null\n// module chunks = ","<script>\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport order from \"./common/Order\";\nimport infiniteScroll from \"vue-infinite-scroll\";\nimport * as Magic from \"../_common/js/magic\";\nimport * as WxShare from \"../_common/js/wx_share\";\n\nexport default {\n  name: \"myorders\",\n  directives: {\n    infiniteScroll\n  },\n  components: {\n    order\n  },\n  data() {\n    return {\n      busy: false\n      // orders: [\n      // {\n      //   id: 130,\n      //   price: 0.01,\n      //   status: 2,\n      //   shipTime: 1547705540000,\n      //   confirmTime: 1547734350000,\n      //   userId: 0,\n      //   amount: 1,\n      //   content: {\n      //     wid: 148,\n      //     product: {\n      //       id: 1,\n      //       category: 0,\n      //       name: \"产品名01\",\n      //       intro: \"八音盒\",\n      //       price: 0.01,\n      //       previewPic: \"//img.musixise.com/BP32nt9X_5.jpg\",\n      //       previewVideo: \"\",\n      //       status: 0,\n      //       createdDate: 1545545048000\n      //     },\n      //     title: \"castle\",\n      //     userId: 239,\n      //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n      //   },\n      //   address: {\n      //     id: 2,\n      //     userId: 239,\n      //     userName: \"花\",\n      //     postalCode: \"100032\",\n      //     provinceName: \"北京市\",\n      //     cityName: \"北京市\",\n      //     countryName: \"西城区\",\n      //     detailInfo: \"哈哈哈哈哈哈哈\",\n      //     nationalCode: \"110102\",\n      //     telNumber: \"13146319393\"\n      //   }\n      // },\n      // {\n      //   id: 129,\n      //   price: 0.01,\n      //   status: 1,\n      //   shipTime: 1547704912000,\n      //   confirmTime: null,\n      //   userId: 0,\n      //   amount: 1,\n      //   content: {\n      //     wid: 148,\n      //     product: {\n      //       id: 1,\n      //       category: 0,\n      //       name: \"产品名01\",\n      //       intro: \"八音盒\",\n      //       price: 0.01,\n      //       previewPic: \"//img.musixise.com/BP32nt9X_5.jpg\",\n      //       previewVideo: \"\",\n      //       status: 0,\n      //       createdDate: 1545545048000\n      //     },\n      //     title: \"castle\",\n      //     userId: 239,\n      //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n      //   },\n      //   address: {\n      //     id: 1,\n      //     userId: 239,\n      //     userName: \"郑一花\",\n      //     postalCode: \"100101\",\n      //     provinceName: \"北京市\",\n      //     cityName: \"北京市\",\n      //     countryName: \"朝阳区\",\n      //     detailInfo: \"北京绿城诚园52601\\n\\n\",\n      //     nationalCode: \"110105\",\n      //     telNumber: \"18501235898\"\n      //   }\n      // },\n      // {\n      //   id: 128,\n      //   price: 0.01,\n      //   status: 1,\n      //   shipTime: 1547704864000,\n      //   confirmTime: null,\n      //   userId: 0,\n      //   amount: 1,\n      //   content: {\n      //     wid: 148,\n      //     product: {\n      //       id: 1,\n      //       category: 0,\n      //       name: \"产品名01\",\n      //       intro: \"八音盒\",\n      //       price: 0.01,\n      //       status: 0,\n      //       createdDate: 1545545048000\n      //     },\n      //     title: \"castle\",\n      //     userId: 239,\n      //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n      //   },\n      //   address: {\n      //     id: 1,\n      //     userId: 239,\n      //     userName: \"郑一花\",\n      //     postalCode: \"100101\",\n      //     provinceName: \"北京市\",\n      //     cityName: \"北京市\",\n      //     countryName: \"朝阳区\",\n      //     detailInfo: \"北京绿城诚园52601\\n\\n\",\n      //     nationalCode: \"110105\",\n      //     telNumber: \"18501235898\"\n      //   }\n      // }\n      // ]\n    };\n  },\n  computed: {\n    orders() {\n      return this.$store.state.orders;\n    },\n    playingWorkId() {\n      return this.$store.state.playingWorkId;\n    }\n  },\n\n  methods: {\n    redirectTo(path) {\n      // IMPORTANT keng. 从主页跳制作页，如果相对路径会带上参数，比如auth回来的code会一直带着，污染之后的auth\n      // 成功auth一次，就写入cookie了，所以往后跳就直接给全路径，摒弃微信弄回来的乱七八糟的参数\n      this.$router.push(path);\n    },\n    loadMore() {\n      //will call automatically when enter!\n      // alert(id)\n      // alert(12345);\n      this.busy = true;\n      console.log(\"1111111\");\n      this.$store\n        .dispatch(\"FETCH_ORDERS\", {\n          page: this.orders.current ? this.orders.current + 1 : 1\n        })\n        .then(() => {\n          console.log(\"2222222\", this.orders);\n          // alert(this.orders.content.length);\n          // alert(this.orders.total);\n          if (+this.orders.content.length < +this.orders.total) {\n            this.busy = false;\n          }\n        });\n    },\n    payOrder(orderId) {\n      WxShare.payWxOrder(\n        { orderId },\n        () => {\n          this.$toast(\"下单成功\");\n          this.$store.commit(\"LOCAL_UPDATE_ORDER_STATUS\", {\n            orderId,\n            status: 2\n          });\n        },\n        () => {}\n      );\n    },\n    playWork(work) {\n      console.log(\"work going to play: \", work);\n      work.id = work.wid; //简单转换一下\n      if (work.id != this.playingWorkId) {\n        this.$ga.event(\"Song\", \"play_20s\", `${work.id}`);\n        this.playing = true;\n        Magic.previewMidi(work.url, this.playing)\n          .then(() => this.$store.commit(\"PLAY_WORK\", { work }))\n          .catch(() => {\n            this.$toast(\"作品损坏，无法播放\");\n          });\n      } else {\n        //操作的同一个\n        if (this.playing) {\n          this.$ga.event(\"Song\", \"stop_20s\", `${work.id}`);\n          //正播着这个呢\n          this.playing = false;\n          Magic.previewMidi(work.url, this.playing)\n            .then(() => this.$store.commit(\"PLAY_WORK\", { work: { id: -1 } }))\n            .catch(() => {\n              this.$toast(\"作品损坏，无法播放\");\n            });\n        } else {\n          this.$ga.event(\"Song\", \"play_20s\", `${work.id}`);\n          //这个已经被停了\n          this.playing = true;\n          Magic.previewMidi(work.url, this.playing)\n            .then(() => this.$store.commit(\"PLAY_WORK\", { work }))\n            .catch(() => {\n              this.$toast(\"作品损坏，无法播放\");\n            });\n        }\n      }\n    }\n  },\n  created() {\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n    this.busy = true; //important： disable auto loadmore at create, call loadmore manually after user auth\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.busy = false;\n      return;\n    }\n    document.title = \"我的订单\";\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\"\n            );\n          }\n          // alert(`welcome${res.data.data.realname}`);\n          this.loadMore();\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\"\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\"\n      );\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <div\n      v-infinite-scroll=\"loadMore\"\n      infinite-scroll-disabled=\"busy\"\n      infinite-scroll-distance=\"10\"\n      class=\"orderlist\"\n    >\n      <order\n        v-for=\"(order,index) in orders.content\"\n        v-bind:info=\"order\"\n        v-bind:key=\"order.id\"\n        :playingStatus=\"order.content.wid==playingWorkId\"\n        :onPlayWork=\"()=>playWork(order.content)\"\n        :onPayOrder=\"()=>payOrder(order.orderId)\"\n      ></order>\n    </div>\n  </div>\n</template>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.container {\n  // padding: getRem(32) 0 getRem(46) getRem(26);\n  // position: absolute;\n  // text-align: left;\n  // width: 100%;\n  // height: 100%;\n  // background-color: $darker-gray;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  background-color: #404249;\n}\n.orderlist {\n  position: relative;\n  height: 100%;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  padding: getRem(24);\n  background-color: #404249;\n  overflow: scroll;\n}\n.m-logo {\n  position: absolute;\n  width: getRem(200);\n  height: getRem(200);\n  top: 30%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: url(\"//gw.alicdn.com/tps/TB1pfhUOFXXXXaSaXXXXXXXXXXX-350-350.png\")\n    no-repeat center center;\n  background-size: getRem(175) getRem(175);\n  background-color: #ffcc33;\n  border-radius: getRem(25);\n  animation: toupperleftwithsize 4.5s linear;\n  -webkit-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n  z-index: 2;\n}\n.redirect-button {\n  width: getRem(450);\n  height: getRem(100);\n  padding: getRem(20) getRem(50);\n  background-color: #ffcc33;\n  border-radius: getRem(10);\n  color: gray;\n}\n.redirect-button,\n#mb-maker {\n  position: absolute;\n  top: 60%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 0.57rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MyOrders.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"orderlist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.orders.content),function(order,index){return _c('order',{key:order.id,attrs:{\"info\":order,\"playingStatus\":order.content.wid==_vm.playingWorkId,\"onPlayWork\":function (){ return _vm.playWork(order.content); },\"onPayOrder\":function (){ return _vm.payOrder(order.orderId); }}})}),1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59a32344\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyOrders.vue\n// module id = null\n// module chunks = ","<script>\nconst MARQUEE_SPEED = 40;\nexport default {\n  props: {\n    workInfo: { type: Object },\n    playingStatus: {\n      type: Boolean,\n      default: false\n    },\n    rank: { type: Number },\n    onPlayWork: Function,\n    onToggleLike: Function\n  },\n  data() {\n    return {\n      marqueeStyle: \"\"\n    };\n  },\n  methods: {\n    gotoWork(id) {\n      this.$router.push({\n        path: \"/new-music-box-viewer\",\n        query: {\n          id\n        }\n      });\n    }\n  },\n  created() {},\n  mounted() {\n    this.marqueeStyle = \"\";\n    if (\n      this.$refs.insider &&\n      this.$refs.outsider &&\n      this.$refs.insider.offsetWidth > this.$refs.outsider.offsetWidth\n    ) {\n      var t = this.$refs.insider.offsetWidth / MARQUEE_SPEED + \"s;\";\n      this.marqueeStyle +=\n        \"-webkit-animation:marquee linear infinite;-o-animation:marquee linear infinite;animation:  marquee linear infinite;-webkit-animation-duration:\" +\n        t +\n        \"-o-animation-duration:\" +\n        t +\n        \"animation-duration:\" +\n        t +\n        \";\";\n    } else {\n      this.marqueeStyle += \"\";\n      console.log(this.$refs.insider.offsetWidth);\n    }\n  }\n};\n</script>\n\n<template>\n  <div v-if=\"workInfo.id\" class=\"info\">\n    <div class=\"rank\" :id=\"`rank${rank}`\">{{rank}}</div>\n    <div class=\"preview-bg\">\n      <img v-if=\"workInfo.cover.indexOf('//')>=0\" class=\"cover\" :src=\"workInfo.cover\" alt>\n      <div v-if=\"workInfo.cover.indexOf('//')<0\" class=\"dark-mask\"></div>\n      <img\n        class=\"playBtn\"\n        @touchend=\"onPlayWork\"\n        v-if=\"!playingStatus\"\n        src=\"../../assets/viewer/trans-play.png\"\n        alt\n      >\n      <img\n        class=\"playBtn\"\n        @touchend=\"onPlayWork\"\n        v-if=\"playingStatus\"\n        src=\"../../assets/stop.svg\"\n        alt\n      >\n    </div>\n    <div class=\"detail\">\n      <p class=\"title\" @click=\"gotoWork(workInfo.id)\">{{workInfo.title}}</p>\n      <div ref=\"outsider\" class=\"work-body-desc\">\n        <div\n          style=\"position: absolute;right: -2rem;width: 4rem;background: linear-gradient(45deg, rgba(55, 60, 102, 0), rgba(55,60,102,60));height: 100%;z-index: 2;\"\n        ></div>\n        <p ref=\"insider\" :style=\"marqueeStyle\">{{workInfo.content}}</p>\n      </div>\n      <div class=\"detail-other\">\n        <p class=\"song-title\">\n          by {{workInfo.userVO.realname}}\n          <span>{{workInfo.lastModifiedDate|getDateDiff}}更新</span>\n        </p>\n        <div class=\"likes\" @click=\"onToggleLike(workInfo)\">\n          <img v-if=\"!workInfo.favStatus\" src=\"../../assets/heartstroke.svg\" alt>\n          <img v-if=\"workInfo.favStatus\" src=\"../../assets/heartfill.svg\" alt>\n          {{workInfo.collectNum}}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../../_common/style/_functions.scss\";\n@import \"../../_common/style/_variables.scss\";\n@import \"../../_common/style/_mixins.scss\";\n.info {\n  display: flex;\n  align-items: stretch;\n  width: getRem(686);\n  height: getRem(186);\n  margin-bottom: getRem(20);\n  justify-content: space-between;\n  background-color: #373c66;\n  color: white;\n  /*margin: .4rem 0 .6rem;*/\n  .rank {\n    position: relative;\n    width: getRem(40);\n    background-color: #6f737b;\n    font-size: 16px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  #rank1 {\n    background-color: #ffcf8b;\n  }\n  #rank2 {\n    background-color: #d2d2d2;\n  }\n  #rank3 {\n    background-color: #bb9d94;\n  }\n  .preview-bg {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: getRem(186);\n    height: getRem(186);\n    background: #262729;\n    .playBtn {\n      position: relative;\n      width: getRem(30);\n      height: getRem(42);\n    }\n    .playBtn:after {\n      content: \"\";\n      position: absolute;\n      top: -10px;\n      bottom: -10px;\n      left: -10px;\n      right: -10px;\n    }\n    .dark-mask {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: getRem(40) getRem(40) 0 0;\n      overflow: hidden;\n      background: url(\"../../assets/notes.svg\") center center no-repeat;\n      background-size: 1rem;\n      opacity: 0.2;\n    }\n    .cover {\n      position: absolute;\n      object-fit: cover;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .detail {\n    position: relative;\n    flex: 1;\n    background-color: #373c66;\n    color: $gray-text;\n    text-align: left;\n    padding: 0 getRem(24);\n    .title {\n      font-size: getRem(32);\n      line-height: getRem(80);\n      color: white;\n      white-space: nowrap;\n      position: relative;\n    }\n    .work-body-desc {\n      font-size: getRem(24);\n      width: 5rem;\n      height: 0.8rem;\n      overflow: hidden;\n      position: relative;\n      p {\n        position: absolute;\n        white-space: nowrap;\n      }\n    }\n    .user {\n      display: flex;\n      align-items: center;\n      margin-bottom: getRem(14);\n      .avatar {\n        width: getRem(46);\n        height: getRem(46);\n        border-radius: getRem(23);\n        margin-right: getRem(8);\n      }\n      .song-title {\n        font-size: 12px;\n        color: #6d6e75;\n      }\n    }\n    .detail-other {\n      display: flex;\n      justify-content: space-between;\n      // padding: 0 getRem(16);\n      font-size: 10px;\n      .likes {\n        display: flex;\n        align-items: center;\n        img {\n          width: getRem(26);\n          height: getRem(22);\n          margin-right: getRem(8);\n        }\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/workFlatCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.workInfo.id)?_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"rank\",attrs:{\"id\":(\"rank\" + _vm.rank)}},[_vm._v(_vm._s(_vm.rank))]),_vm._v(\" \"),_c('div',{staticClass:\"preview-bg\"},[(_vm.workInfo.cover.indexOf('//')>=0)?_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm.workInfo.cover,\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.cover.indexOf('//')<0)?_c('div',{staticClass:\"dark-mask\"}):_vm._e(),_vm._v(\" \"),(!_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":require(\"../../assets/viewer/trans-play.png\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e(),_vm._v(\" \"),(_vm.playingStatus)?_c('img',{staticClass:\"playBtn\",attrs:{\"src\":require(\"../../assets/stop.svg\"),\"alt\":\"\"},on:{\"touchend\":_vm.onPlayWork}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('p',{staticClass:\"title\",on:{\"click\":function($event){return _vm.gotoWork(_vm.workInfo.id)}}},[_vm._v(_vm._s(_vm.workInfo.title))]),_vm._v(\" \"),_c('div',{ref:\"outsider\",staticClass:\"work-body-desc\"},[_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"-2rem\",\"width\":\"4rem\",\"background\":\"linear-gradient(45deg, rgba(55, 60, 102, 0), rgba(55,60,102,60))\",\"height\":\"100%\",\"z-index\":\"2\"}}),_vm._v(\" \"),_c('p',{ref:\"insider\",style:(_vm.marqueeStyle)},[_vm._v(_vm._s(_vm.workInfo.content))])]),_vm._v(\" \"),_c('div',{staticClass:\"detail-other\"},[_c('p',{staticClass:\"song-title\"},[_vm._v(\"\\n        by \"+_vm._s(_vm.workInfo.userVO.realname)+\"\\n        \"),_c('span',[_vm._v(_vm._s(_vm._f(\"getDateDiff\")(_vm.workInfo.lastModifiedDate))+\"更新\")])]),_vm._v(\" \"),_c('div',{staticClass:\"likes\",on:{\"click\":function($event){return _vm.onToggleLike(_vm.workInfo)}}},[(!_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":require(\"../../assets/heartstroke.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.workInfo.favStatus)?_c('img',{attrs:{\"src\":require(\"../../assets/heartfill.svg\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\"\\n        \"+_vm._s(_vm.workInfo.collectNum)+\"\\n      \")])])])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eee3c6b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/workFlatCard.vue\n// module id = null\n// module chunks = ","<script>\n// window.Tone = require('tone')\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport workCard from \"./common/workFlatCard\";\nimport { mbMixin } from \"../_common/js/mixin.js\";\nimport tagDialog from \"./common/tagDialog\";\nimport * as WxShare from \"../_common/js/wx_share\";\nimport infiniteScroll from \"vue-infinite-scroll\";\n\nlet musicPart = undefined;\n\nexport default {\n  mixins: [mbMixin],\n  directives: {\n    infiniteScroll\n  },\n  components: {\n    workCard,\n    tagDialog\n  },\n  data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true,\n      tagAppear: false,\n      playerGold: {},\n      playerSilver: {},\n      playerBronze: {}\n    };\n  },\n  computed: {\n    musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    boardWorksObj() {\n      const a = this.$store.state.boardWorksObj;\n      this.playerGold = a.content[0]\n        ? a.content[0].userVO\n        : {\n            smallAvatar:\n              \"//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100\",\n            realname: \"虚位以待\"\n          };\n      this.playerSilver = a.content[1]\n        ? a.content[1].userVO\n        : {\n            smallAvatar:\n              \"//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100\",\n            realname: \"虚位以待\"\n          };\n      this.playerBronze = a.content[2]\n        ? a.content[2].userVO\n        : {\n            smallAvatar:\n              \"//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100\",\n            realname: \"虚位以待\"\n          };\n      return a;\n    },\n    operatingWorkId() {\n      return this.$store.state.operatingWorkId;\n    },\n    playingWorkId() {\n      return this.$store.state.playingWorkId;\n    }\n  },\n  methods: {\n    // loadMusixiserById() {\n    //   console.log(\"my id: \", this.userId);\n    //   const id = this.userId; // this.userId手传参id或当前用户id\n    //   this.$store\n    //     .dispatch(\"FETCH_MUSIXISER\", {\n    //       id\n    //     })\n    //     .then(() => {\n    //       const fullPath = `${location.origin}${location.pathname}#/my-fav?id=${\n    //         this.userId\n    //       }`;\n    //       document.title = `${this.$store.state.musixiserInfo.realname}的收藏`;\n    //       WxShare.prepareShareConfig().then(() => {\n    //         WxShare.prepareShareContent({\n    //           title: `${this.$store.state.musixiserInfo.realname}的收藏`,\n    //           desc: \"口味不太一样哦～\",\n    //           // fullPath:location.href.split('#')[0],\n    //           fullPath,\n    //           imgUrl:\n    //             `http:${this.$store.state.musixiserInfo.smallAvatar}` ||\n    //             \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n    //         });\n    //       });\n    //     });\n    //   this.busy = false;\n    //   // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n    //   //   id,\n    //   //   page:1\n    //   // })\n    // },\n    loadMore() {\n      //will call automatically when enter!\n      const id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.boardWorksObj.current);\n      this.$store\n        .dispatch(\"FETCH_BOARD_WORKS\", {\n          page: 1,\n          size: 30,\n          // category: 1,\n          orderStrategy: 2\n        })\n        .then(() => {\n          console.log(\"2222222\", this.boardWorksObj);\n          if (+this.boardWorksObj.content.length < +this.boardWorksObj.total) {\n            this.busy = false;\n          }\n        });\n    },\n    operateWork(work) {\n      console.log(\"operate in\");\n      this.$store.commit(\"OPERATE_WORK\", { work });\n    },\n    cancelOperate() {\n      this.$store.commit(\"OPERATE_WORK\", { work: { id: -1 } });\n    },\n    shareWork() {\n      console.log(\"share in\");\n    },\n    changeWorkStatus(work, status) {\n      Api.updateWork({\n        id: work.id,\n        status: status\n      }).then(() => {\n        this.$toast(`已将作品${workStatusMap[status]}`);\n        this.cancelOperate();\n        this.$store.commit(\"LOCAL_UPDATE_LIST\", {\n          type: \"boardWorksObj\",\n          item: {\n            id: work.id,\n            status\n          }\n        });\n      });\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    this.$store.commit(\"RESET_WORK_LIST\", {\n      type: \"boardWorksObj\"\n    });\n    next();\n  },\n  created() {\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n\n    const self = this;\n    this.busy = false;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n    document.title = \"排行榜\";\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      // this.userId = this.$store.state.route.query.id || 239;\n      this.loadMore();\n      return;\n    }\n    const fullPath = `${location.origin}${location.pathname}#/my-fav?id=${\n      self.$store.state.route.query.id\n    }`;\n    // WxShare.prepareShareConfig().then(() => {\n    //   WxShare.prepareShareContent({\n    //     title: \"MUSIXISE\",\n    //     desc: \"我的地盘你就dê听我的\",\n    //     // fullPath:location.href.split('#')[0],\n    //     fullPath,\n    //     imgUrl: \"http://img.musixise.com/Ocrg2srw_icon33@2x.png\"\n    //   });\n    // });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          self.userId = res.data.data.userId;\n          // self.isMe = self.userId == res.data.data.userId;\n          // self.loadMusixiserById();\n          this.busy = false;\n          this.loadMore();\n\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {\n    // this.startRecord();\n    setTimeout(() => {\n      this.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <!-- <div class=\"\">\n    {{musixiserInfo.realname}}\n    </div>-->\n    <div\n      style=\"position:absolute; left:-1rem; top: -2.5rem;width:7rem;height:7rem;border-radius:3.5rem;background:linear-gradient(125deg, #7995EE, rgba(69,100,215,0));\"\n    ></div>\n    <div\n      style=\"position:absolute; right:-.4rem; top: 4.5rem;width:4rem;height:4rem;border-radius:2rem;background:linear-gradient(-45deg, #7996EE, rgba(69,100,215,.7));\"\n    ></div>\n    <div id=\"winner-sector\">\n      <div class=\"winner-avatar\" id=\"gold\">\n        <img\n          class=\"avatar\"\n          :src=\"playerGold.smallAvatar\"\n          @error=\"playerGold.smallAvatar='//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100'\"\n          alt\n        >\n        <p class=\"name\">{{playerGold.realname}}</p>\n        <img class=\"crown\" src=\"../assets/crowngold.png\" alt>\n      </div>\n      <div class=\"winner-avatar\" id=\"silver\">\n        <img\n          class=\"avatar\"\n          :src=\"playerSilver.smallAvatar\"\n          @error=\"playerSilver.smallAvatar='//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100'\"\n          alt\n        >\n        <p class=\"name\">{{playerSilver.realname}}</p>\n        <img class=\"crown\" src=\"../assets/crownsilver.png\" alt>\n      </div>\n      <div class=\"winner-avatar\" id=\"bronze\">\n        <img\n          class=\"avatar\"\n          :src=\"playerBronze.smallAvatar\"\n          @error=\"playerBronze.smallAvatar='//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100'\"\n          alt\n        >\n        <p class=\"name\">{{playerBronze.realname}}</p>\n        <img class=\"crown\" src=\"../assets/crownbronze.png\" alt>\n      </div>\n    </div>\n    <p id=\"specs\">\n      母亲节活动说明：\n      <br>在5月14日14:00前，获赞排名前三的符合制作标准的八音盒，即可获赠对应乐曲的定制音乐盒，快来参加吧\n    </p>\n    <div class=\"worklist\">\n      <work-card\n        v-for=\"(item,index) in boardWorksObj.content\"\n        :workInfo=\"item\"\n        :key=\"item.id\"\n        :rank=\"index+1\"\n        :playingStatus=\"item.id==playingWorkId\"\n        :maskOn=\"item.id==operatingWorkId\"\n        :onPlayWork=\"()=>playWork(item)\"\n        :onDownloadWork=\"()=>downloadWork(item)\"\n        :onToggleLike=\"()=>toggleLike(item,'boardWorksObj')\"\n      />\n    </div>\n    <!-- <div class=\"emptysection\" v-show=\"!loading && musixiserWorksObj.content.length==0\">\n      <div>\n        <p class=\"emptytitle\">暂无作品</p>\n        <img src=\"../assets/oops.png\" style=\"width:6rem;\" alt>\n      </div>\n    </div>-->\n    <tag-dialog :appear=\"tagAppear\" :handleClose=\"()=>{tagAppear=false}\"/>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n\n.container {\n  position: absolute;\n  height: 100%;\n  background: linear-gradient(125deg, #464c8b, #39375e);\n  overflow-y: scroll;\n  overflow-x: hidden;\n  #winner-sector {\n    position: relative;\n    z-index: 2;\n    margin: 0 auto;\n    padding-top: getRem(96);\n    color: white;\n    width: getRem(452);\n    height: getRem(192+96);\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-around;\n    .winner-avatar {\n      position: relative;\n    }\n    .name {\n      font-size: getRem(26);\n      color: #d0d1d3;\n      width: 2rem;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n    .avatar {\n      margin: 0 auto;\n      display: block;\n    }\n    .crown {\n      position: absolute;\n\n      left: 50%;\n      -webkit-transform: translateX(-50%);\n      transform: translateX(-50%);\n    }\n    #gold {\n      order: 2;\n      .crown {\n        width: getRem(44);\n        height: getRem(44);\n        top: -0.4rem;\n      }\n      .avatar {\n        position: relative;\n        width: getRem(122);\n        height: getRem(122);\n        border-radius: getRem(61);\n        margin-bottom: getRem(10);\n      }\n    }\n    #silver {\n      margin-top: getRem(20);\n      order: 1;\n      .crown {\n        width: getRem(36);\n        height: getRem(36);\n        top: -0.3rem;\n      }\n      .avatar {\n        width: getRem(100);\n        height: getRem(100);\n        border-radius: getRem(50);\n        margin-bottom: getRem(20);\n      }\n    }\n    #bronze {\n      margin-top: getRem(30);\n      order: 3;\n      .crown {\n        width: getRem(26);\n        height: getRem(26);\n        top: -0.2rem;\n      }\n      .avatar {\n        width: getRem(74);\n        height: getRem(74);\n        border-radius: getRem(37);\n        margin-bottom: getRem(30);\n      }\n    }\n  }\n  #specs {\n    position: relative;\n    opacity: 0.8;\n    color: white;\n    font-size: getRem(20);\n    padding: getRem(32);\n    text-align: left;\n  }\n}\n.worklist {\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-content: flex-start;\n  flex-wrap: wrap;\n  padding: getRem(32);\n}\n.hairline {\n  height: 1px;\n  background: #979797;\n  transform: scaleY(0.5);\n}\n.work {\n  position: relative;\n  display: flex;\n  height: getRem(174);\n  margin-bottom: getRem(30);\n  .cover {\n    position: relative;\n    width: getRem(174);\n    height: getRem(174);\n    margin-top: getRem(18);\n  }\n  .detail {\n    flex: 1;\n    padding-left: getRem(30);\n    .line {\n      display: flex;\n      justify-content: space-between;\n    }\n    .line1 {\n      padding-top: getRem(40);\n      padding-bottom: getRem(60);\n      line-height: getRem(30);\n    }\n    .line2 {\n      padding-bottom: getRem(30);\n      line-height: getRem(30);\n    }\n    .title {\n      font-size: getRem(28);\n      color: #8c8c92;\n    }\n    .date {\n      font-size: getRem(20);\n      color: #6d6e75;\n    }\n    .creator {\n      font-size: getRem(24);\n      color: #6d6e75;\n    }\n    .likes {\n      font-size: getRem(20);\n      color: rgba(255, 255, 255, 0.3);\n    }\n  }\n}\n.emptysection {\n  position: relative;\n  height: 100%;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .emptytitle {\n    font-size: 1.4rem;\n    font-weight: 200;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/RankBoard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"-1rem\",\"top\":\"-2.5rem\",\"width\":\"7rem\",\"height\":\"7rem\",\"border-radius\":\"3.5rem\",\"background\":\"linear-gradient(125deg, #7995EE, rgba(69,100,215,0))\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"-.4rem\",\"top\":\"4.5rem\",\"width\":\"4rem\",\"height\":\"4rem\",\"border-radius\":\"2rem\",\"background\":\"linear-gradient(-45deg, #7996EE, rgba(69,100,215,.7))\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"winner-sector\"}},[_c('div',{staticClass:\"winner-avatar\",attrs:{\"id\":\"gold\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.playerGold.smallAvatar,\"alt\":\"\"},on:{\"error\":function($event){_vm.playerGold.smallAvatar='//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100'}}}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.playerGold.realname))]),_vm._v(\" \"),_c('img',{staticClass:\"crown\",attrs:{\"src\":require(\"../assets/crowngold.png\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"winner-avatar\",attrs:{\"id\":\"silver\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.playerSilver.smallAvatar,\"alt\":\"\"},on:{\"error\":function($event){_vm.playerSilver.smallAvatar='//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100'}}}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.playerSilver.realname))]),_vm._v(\" \"),_c('img',{staticClass:\"crown\",attrs:{\"src\":require(\"../assets/crownsilver.png\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"winner-avatar\",attrs:{\"id\":\"bronze\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.playerBronze.smallAvatar,\"alt\":\"\"},on:{\"error\":function($event){_vm.playerBronze.smallAvatar='//pic.xiami.net/images/default/xiami_7/avatar_new.png@!c-100-100'}}}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.playerBronze.realname))]),_vm._v(\" \"),_c('img',{staticClass:\"crown\",attrs:{\"src\":require(\"../assets/crownbronze.png\"),\"alt\":\"\"}})])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"worklist\"},_vm._l((_vm.boardWorksObj.content),function(item,index){return _c('work-card',{key:item.id,attrs:{\"workInfo\":item,\"rank\":index+1,\"playingStatus\":item.id==_vm.playingWorkId,\"maskOn\":item.id==_vm.operatingWorkId,\"onPlayWork\":function (){ return _vm.playWork(item); },\"onDownloadWork\":function (){ return _vm.downloadWork(item); },\"onToggleLike\":function (){ return _vm.toggleLike(item,'boardWorksObj'); }}})}),1),_vm._v(\" \"),_c('tag-dialog',{attrs:{\"appear\":_vm.tagAppear,\"handleClose\":function (){_vm.tagAppear=false}}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{attrs:{\"id\":\"specs\"}},[_vm._v(\"\\n    母亲节活动说明：\\n    \"),_c('br'),_vm._v(\"在5月14日14:00前，获赞排名前三的符合制作标准的八音盒，即可获赠对应乐曲的定制音乐盒，快来参加吧\\n  \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21e82d53\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RankBoard.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport HelloWorld from '@/components/HelloWorld';\nimport Square from '@/components/Square';\n// import MBMaker from '@/components/MBMaker';\n\n// import MBAuthor from '@/components/MBAuthor';\nimport NMBMaker from '@/components/NMBMaker';\n// import MBViewer from '@/components/MBViewer';\nimport NMBViewer from '@/components/NMBViewer';\nimport MBRoll from '@/components/MBRollMaker';\nimport MusixiserDetail from '@/components/MusixiserDetail';\nimport MyFav from '@/components/MyFav';\n// import Recommend from '@/components/Recommend';\nimport ProductList from '@/components/ProductList';\nimport OrderConfirm from '@/components/OrderConfirm';\nimport MyOrders from '@/components/MyOrders';\nimport RankBoard from '@/components/RankBoard';\n\nVue.use(Router);\n\nexport default new Router({\n  // mode: 'history', // avoid hash in url\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld,\n    },\n    {\n      path: '/square',\n      name: 'Square',\n      component: Square,\n    },\n    {\n      path: '/new-music-box-maker',\n      name: 'NMBMaker',\n      component: NMBMaker,\n    },\n    {\n      path: '/new-music-box-roll',\n      name: 'MBRoll',\n      component: MBRoll,\n    },\n    {\n      path: '/new-music-box-viewer',\n      name: 'NMBViewer',\n      component: NMBViewer,\n    },\n    {\n      path: '/product-list',\n      name: 'productList',\n      component: ProductList,\n    },\n    {\n      path: '/order-confirm',\n      name: 'OrderConfirm',\n      component: OrderConfirm,\n    },\n    {\n      path: '/musixiser',\n      name: 'MusixiserDetail',\n      component: MusixiserDetail,\n    },\n    {\n      path: '/my-fav',\n      name: 'MyFav',\n      component: MyFav,\n    },\n    {\n      path: '/rank-board',\n      name: 'RankBoard',\n      component: RankBoard,\n    },\n    // {\n    //   path: '/recommend',\n    //   name: 'Recommend',\n    //   component: Recommend,\n    // },\n    {\n      path: '/my-orders',\n      name: 'MyOrders',\n      component: MyOrders,\n    }\n  ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export const longpress = {\n  bind(el, binding, vNode) {\n    // Make sure expression provided is a function\n    if (typeof binding.value !== 'function') {\n      // Fetch name of component\n      const compName = vNode.context.name\n      // pass warning to console\n      let warn = `[longpress:] provided expression '${binding.expression}' is not a function, but has to be`\n      if (compName) { warn += `Found in component '${compName}' ` }\n\n      console.warn(warn)\n    }\n\n    // Define variable\n    let pressTimer = null\n\n    // Define funtion handlers\n    // Create timeout ( run function after 1s )\n    let start = (e) => {\n\n      if (e.type === 'click' && e.button !== 0) {\n        return;\n      }\n\n      if (pressTimer === null) {\n        pressTimer = setTimeout(() => {\n          // Run function\n          handler()\n        }, 600)\n      }\n    }\n\n    // Cancel Timeout\n    let cancel = (e) => {\n      // Check if timer has a value or not\n      if (pressTimer !== null) {\n        clearTimeout(pressTimer)\n        pressTimer = null\n      }\n    }\n    // Run Function\n    const handler = (e) => {\n      binding.value(e)\n    }\n\n    // Add Event listeners\n    el.addEventListener(\"mousedown\", start);\n    el.addEventListener(\"touchstart\", start);\n    // Cancel timeouts if this events happen\n    el.addEventListener(\"click\", cancel);\n    el.addEventListener(\"mouseout\", cancel);\n    el.addEventListener(\"touchend\", cancel);\n    el.addEventListener(\"touchcancel\", cancel);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/directives.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport { sync } from 'vuex-router-sync';\n// import VueTouch from 'vue-touch';\nimport 'vue2-toast/lib/toast.css';\nimport Toast from 'vue2-toast';\n// import infiniteScroll from 'vue-infinite-scroll'\nimport { createStore } from './store';\nimport App from './App';\nimport router from './router';\nimport { getDateDiff } from './_common/js/filters';\nimport { longpress } from './_common/js/directives';\nimport VueAnalytics from 'vue-analytics'\n\n// Vue.use(VueTouch, { name: 'v-touch' });\nVue.use(VueAnalytics, {\n  id: 'UA-138246971-1',\n  router\n})\nVue.use(Toast, { defaultType: 'center', duration: 2500, wordWrap: false, width: 'auto' });\n// Vue.use(infiniteScroll)\nVue.config.productionTip = false;\nVue.filter('getDateDiff', getDateDiff)\nVue.directive('longpress', longpress)\n\nconst store = createStore();\nsync(store, router);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  template: '<App/>',\n  components: { App },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/123-2.png\n// module id = SaBO\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTlweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMTkgMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT7kuIvovb0t5a6e5b+DPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9Im1haW4yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i6Z+z5LmQ5bm/5Zy6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjYwLjAwMDAwMCwgLTUxOC4wMDAwMDApIiBmaWxsPSIjOEM4QzkyIj4KICAgICAgICAgICAgPHBhdGggZD0iTTI3My45MTYxMiw1MzEgTDI3Ny42NTk0Myw1MzEgQzI3OC4yMTE3MTQsNTMxIDI3OC42NTk0Myw1MzEuNDQ3NzE1IDI3OC42NTk0Myw1MzIgQzI3OC42NTk0Myw1MzIuMjgwMTQxIDI3OC41NDE5MjEsNTMyLjU0NzQzNyAyNzguMzM1NTA0LDUzMi43MzY4MzQgTDI3MC4wMDU3OTIsNTQwLjM3OTY3NSBDMjY5LjYyMzM2OSw1NDAuNzMwNTY0IDI2OS4wMzYwNjcsNTQwLjczMDU2NCAyNjguNjUzNjQ0LDU0MC4zNzk2NzUgTDI2MC4zMjM5MzIsNTMyLjczNjgzNCBDMjU5LjkxNjk5LDUzMi4zNjM0NDggMjU5Ljg4OTc4Nyw1MzEuNzMwODY4IDI2MC4yNjMxNzIsNTMxLjMyMzkyNiBDMjYwLjQ1MjU2OCw1MzEuMTE3NTA4IDI2MC43MTk4NjQsNTMxIDI2MS4wMDAwMDYsNTMxIEwyNjQuNzQzMzE2LDUzMSBMMjY0Ljc0MzMxNiw1MTkgQzI2NC43NDMzMTYsNTE4LjQ0NzcxNSAyNjUuMTkxMDMxLDUxOCAyNjUuNzQzMzE2LDUxOCBMMjcyLjkxNjEyLDUxOCBDMjczLjQ2ODQwNCw1MTggMjczLjkxNjEyLDUxOC40NDc3MTUgMjczLjkxNjEyLDUxOSBMMjczLjkxNjEyLDUzMSBaIiBpZD0i5LiL6L29LeWunuW/gyI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/download2.svg\n// module id = UljX\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjhweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMjggMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Db21iaW5lZCBTaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJtYWluMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8ZyBpZD0i6Z+z5LmQ5bm/5Zy6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzA3LjAwMDAwMCwgLTUxNy4wMDAwMDApIiBzdHJva2U9IiM4QzhDOTIiIHN0cm9rZS13aWR0aD0iMS4yIj4KICAgICAgICAgICAgPGcgaWQ9IuaooeWdly/lhavpn7Pnm5Lkv6Hmga8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwLjAwMDAwMCwgMTE2LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IuivtOaYjiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDM3OC44NDM0MDQpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i54K56LWeIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyODguMDAwMDAwLCAyMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQuMjAxMjM3NjYsMTUuNDUyODY2NCBDMC4wMzM0OTEyMTIsMTEuMDQ4ODk4OSAtMS4wOTYwODUzMyw2LjA3MTU4NTc2IDEuMDkzOTA3ODEsMi43ODgxMzc1NiBDMy4yNjU0NjExOSwtMC40Njc2NjQwMDggOS44NTY3MTQ2NywtMS45ODUyNjUzNSAxMyw0LjU3NjI1Nzg4IEMxNi4xNDMyODUzLC0xLjk4NTI2NTM1IDIyLjczNDUzODgsLTAuNDY3NjY0MDA4IDI0LjkwNjA5MjIsMi43ODgxMzc1NiBDMjcuMDk2MDg1Myw2LjA3MTU4NTc2IDI1Ljk2NjUwODgsMTEuMDQ4ODk4OSAyMS43OTg3NjIzLDE1LjQ1Mjg2NjQgQzE5LjkxNTgzOTUsMTcuNDQyNTEwMiAxNi45MzAwMzY4LDE5LjI5MTU1NDcgMTMsMjEgQzkuMDY5OTYzMjQsMTkuMjkxNTU0NyA2LjA4NDE2MDQ4LDE3LjQ0MjUxMDIgNC4yMDEyMzc2NiwxNS40NTI4NjY0IFoiIGlkPSJDb21iaW5lZC1TaGFwZSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/heartstroke.svg\n// module id = Vart\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDNweCIgaGVpZ2h0PSI0M3B4IiB2aWV3Qm94PSIwIDAgNDMgNDMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT7lhavpn7Pnm5LmoIforrA8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8cG9seWdvbiBpZD0icGF0aC0xIiBwb2ludHM9IjAgMCAzNSAwIDM1IDM1Ij48L3BvbHlnb24+CiAgICAgICAgPGZpbHRlciB4PSItMjUuNyUiIHk9Ii0xNC4zJSIgd2lkdGg9IjE0MC4wJSIgaGVpZ2h0PSIxNDAuMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSItMiIgZHk9IjIiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgICAwIDAgMCAwIDAgICAwIDAgMCAwIDAgIDAgMCAwIDAuMiAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgICAgPGZpbHRlciB4PSItNTMuOCUiIHk9Ii00NS41JSIgd2lkdGg9IjIwNy43JSIgaGVpZ2h0PSIyMjcuMyUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC4xIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHJlc3VsdD0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwJSIgeTE9IjAlIiB4Mj0iNTAlIiB5Mj0iMTAwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTQiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIHN0b3Atb3BhY2l0eT0iMC40IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuaIkeeahF/llpzmrKIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNDIuMDAwMDAwLCAtOTUuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSLlpb3lj4stKy3mjqjojZAtTWFzayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIuMDAwMDAwLCA5Ny4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLmjqjojZAiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC01Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuWFq+mfs+ebkuagh+iusCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2LjAwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJSZWN0YW5nbGUtMiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9IiM4Qzk1QTYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAiIGZpbHRlcj0idXJsKCNmaWx0ZXItMykiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4LjAwMDAwMCwgNS4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCw4LjMzMzMzMzMzIEwwLDMgTDEzLDMgTDEzLDguMzMzMzMzMzMgQzEzLDkuODA2MDkyNjcgMTAuMDg5ODUwOSwxMSA2LjUsMTEgQzIuOTEwMTQ5MTMsMTEgMCw5LjgwNjA5MjY3IDAsOC4zMzMzMzMzMyBaIiBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtNCkiIG9wYWNpdHk9IjAuOTAwMDAwMDM2Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVsbGlwc2UgaWQ9Ik92YWwtNyIgZmlsbD0iI0ZGRkZGRiIgY3g9IjYuNSIgY3k9IjIuNSIgcng9IjYuNSIgcnk9IjIuNSI+PC9lbGxpcHNlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/mb-tag.svg\n// module id = XNAQ\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjFweCIgaGVpZ2h0PSIyNXB4IiB2aWV3Qm94PSIwIDAgMjEgMjUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjMgKDU3NTQ0KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT7kuIvovb0t56m65b+DPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9Im1haW4yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPgogICAgICAgIDxnIGlkPSLpn7PkuZDlub/lnLoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzUuMDAwMDAwLCAtNTE3LjAwMDAwMCkiIHN0cm9rZT0iIzhDOEM5MiIgc3Ryb2tlLXdpZHRoPSIxLjIiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQ5LjkxNjEyLDUzMSBMMjUzLjY1OTQzLDUzMSBDMjU0LjIxMTcxNCw1MzEgMjU0LjY1OTQzLDUzMS40NDc3MTUgMjU0LjY1OTQzLDUzMiBDMjU0LjY1OTQzLDUzMi4yODAxNDEgMjU0LjU0MTkyMSw1MzIuNTQ3NDM3IDI1NC4zMzU1MDQsNTMyLjczNjgzNCBMMjQ2LjAwNTc5Miw1NDAuMzc5Njc1IEMyNDUuNjIzMzY5LDU0MC43MzA1NjQgMjQ1LjAzNjA2Nyw1NDAuNzMwNTY0IDI0NC42NTM2NDQsNTQwLjM3OTY3NSBMMjM2LjMyMzkzMiw1MzIuNzM2ODM0IEMyMzUuOTE2OTksNTMyLjM2MzQ0OCAyMzUuODg5Nzg3LDUzMS43MzA4NjggMjM2LjI2MzE3Miw1MzEuMzIzOTI2IEMyMzYuNDUyNTY4LDUzMS4xMTc1MDggMjM2LjcxOTg2NCw1MzEgMjM3LjAwMDAwNiw1MzEgTDI0MC43NDMzMTYsNTMxIEwyNDAuNzQzMzE2LDUxOSBDMjQwLjc0MzMxNiw1MTguNDQ3NzE1IDI0MS4xOTEwMzEsNTE4IDI0MS43NDMzMTYsNTE4IEwyNDguOTE2MTIsNTE4IEMyNDkuNDY4NDA0LDUxOCAyNDkuOTE2MTIsNTE4LjQ0NzcxNSAyNDkuOTE2MTIsNTE5IEwyNDkuOTE2MTIsNTMxIFoiIGlkPSLkuIvovb0t56m65b+DIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/download1.svg\n// module id = YhRN\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAcCAYAAAB/E6/TAAAABGdBTUEAALGPC/xhBQAAApFJREFUSA3Nlc9rE1EQx2deQls1gqg9VMWK4E8U7UUQChJqBUsFUepFCKZVe8jBk/4biuaHOSSrBD14URB6MJsuiIcqHkSQgFLwt0JAFOOPmM0b54Xsxk1C3NWN+CDsm/dmvp83u/MmAB7H3Vx6SM+mJj2GgfAa8MOsRoFkzGucJxARIRDOENABQ0tt8ALzBCpoqTGGbWSAMEme7BmIMzllixNMG4YRtO3fTFxnZFxPrwagw009Gqo9L7ouCtegWqUWAYK+JohnkmYddhfDNYhINl9bQ1AVReFafLiLvr3lCpTPJEY5m612VHMioCJcFYXIZxOX8lp6ZzO2fYYIbdlYXpJk16KYzyW3FDLxi4JPug1k9bGejd8pZJIH63fFUuGnoWkruAimfllqna7pVBT61ct79UzipqxSUSKOqPK8xz++HzBOIMf1bLJY0BLnBSzNhaPR7zX57TgBLGlVd9hEp9m+pQ45fyU5KQnOkWmO1n04GBAXkIX384fOOwKVgVBCgBTHHuGMdrTtOxckCnGWW9MMH3i7c0txcAqNG4mQWYaPQBRodfDL7kNcL8LHYmU++SO/RDvovN03HXtllbf6Tj0ZXLH3lfA/AIkmKID1yutNRgQLdkbhaOw9p7joOwmxtioYemiDGgDfvxMSPNkViXxxghCe+p8R1LNxggiO+g3iprDZ0rSqju8rvrMWfXsSfLK0bJAIBM9w23lpbfz1k7Xqmg0hGzR2YnZxWWhghG/WBe5OX/8cxLGsMdAvditNS4e7T/tQ/U+W4RC/Y264sIedhvnfdHm7p+q9+Jn9XvD1eMB+ugjBbdXWWn07glqdlP1sbq7/9Yc3g2bNHFR2MBAsrVu5trRpYqKi7P9m/AQsKeY4+7W32gAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/crownbronze.png\n// module id = mave\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABGdBTUEAALGPC/xhBQAAA4ZJREFUWAnFl8trU0EUh5tHY1vRliqCohIK0jQhERV8QHXZvaAo2nZjS4sgKvh/qAtBcdudS93oRrEVraiVpiF9WFJMwUArhSQ25tX4TWDi3OvNbW5yTQeGOa8555czZ+aetLTYMCKRSDfzkg2uWpx2OCmVSsNbW1u37fBlF6BRQPWTpUCjoBoGBIh+wPgFELI0tuOAADEqQQBsKB6Pt0u+nrWhDMVisS5AXFYCdyWTySsKb5lsCFA6nR4ioiYjxWKxoWNrCBDZqRyXkoqz4XA4pPCWyLoBzc7OniNSsEq0urNUNyCHw2GUHYlvMJFI7JaMlbUuQMvLy50cV9XiRbd3bW3tqhUg0rYuQJlM5joOOqSTKut4Fbmp2CG+Qbwl68Fg8I2ppaKkaL+SheOKyJB0u92n/H7/F0OlTigeWG7oQSeO3czXBJmZm5sbRuHR2WpY9KdrASM2FQoF0+LGj5O4F7kg7wEz6XQ62x1LS0uHOYK4jEqxJpiPWltbH/f29q5LuVxx8BRHI5I3W/GTxs8hn8+XUu14UNtSqdQw+nv4OiZ1Ho/H5xAMCGMsXkHLgfFv6AlQPwgEAhEhn5+f35PL5X5AWrlB46FQ6InYT3a7AXCTErkFe0DIlLFB2exzCwHBpzD0KsoW+Db4EVI5QlZeAex+Pp8XNlbACJdj0Wj0Jcd3F183TPZPg6NUBkTwSQwHxW6jgX4AZwPoikb6bWQn+CHfsHGZ2QHmg9CXr73L5ZoyM1Z0pk4VOz257T5OYFpsKgPiakZB+FPvpVm8OCpO4C8gIWC8axYAfRxiL1L4G0JeeakBJepop0a5fkTwCiALdWQ7aJJRPi4NoL6+vs8IMrZHq8EhBf1vhkCZV5HW4Mcuk00uVVg6qxyZEOxQHX0ibsEQENVe63sk9ze86k9FkyHahcWGI1h0QP18VLdoAPG9MWtL1X220XxovaozDSAUR1Rlk2jNHwUNIGroeZNAVMIQ80WFgdAA4vl+RpE9VA3+Jy1iiZhqDA0goaBJukOhXYNcVQ1tpldFDBFL77fcMeqFghe9NQUneqRB0nqBddsWQuwzGUUy8ha96EIn6EJzRrZVAanGCwsL+2ldzwPsDE5PovMyj8LvUu0kjU0W+jszhs0M/DT98qRRjy73yLUmQNJYXQnkWFlZ6cxmsx30MuX/aHygN2nqf/X09CQBUVLta6X/ACwXZTQhUyKSAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/crownsilver.png\n// module id = naGj\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTExNTM2MTc3OTIyIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE4OTYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNzQyLjc1OSAxNTEuMDE5aC00NjIuNTE2Yy03MC40OTQgMC0xMjguMjM3IDU3Ljc0Mi0xMjguMjM3IDEyOC4yMzh2NDYyLjM3MmMwIDcwLjYzNiA1Ny43NDIgMTI4LjM3OSAxMjguMzgxIDEyOC4zNzloNDYyLjM3YzcwLjY0IDAgMTI4LjM3OS01Ny43NDQgMTI4LjM3OS0xMjguMzc5di00NjIuMzcyYy0wLjE0Mi03MC40OTUtNTcuODgyLTEyOC4yMzgtMTI4LjM3OC0xMjguMjM4eiIgcC1pZD0iMTg5NyIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/stop.svg\n// module id = oB2d\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAqCAYAAACk2+sZAAAABGdBTUEAALGPC/xhBQAAAb1JREFUWAnd2D1KA0EYxvGsH6hg5UehncHGAyjaeAHBC2gjegQt9QYewVY7G0lpr95BWwu1Vgi4/h9hYMImu5OZd1bwhTeZDMP8ZpeHZbXTocqynKYnNW6rCsAdsEO6T9/TvaIovvnOWoIvEeY95YXxFfi7N2c+nGBHHxXQpc850LZ+5CrBw2qWySPwY3pu2ILUuVGw23eLga5+3U1YfTfBchbpU/B9OmR90NlCNyrYbY8+A18K2rlhUSjstukyuABPDt64sA4wQyt4J3R08GJg4apNWlcfFbwUWPgC7YI31iM3FRbugqcDLGsipCxg53QZBD/xLGEdIDh41rC7+sbg5YJ1gNrg5YSFu+DpiTcQvNywcNUaPRC8tmDhLngH+tEmLE+1y21f/QtYeH9Kny1WiXXL+9xbm/AHqF4in3WhbcFPWNegn0JVueEvjBvAh1/N+8gJ176f54AVoJ6aKx35F4k1PBAg785WhpZwJUAVzZuwgBUgJfbR27dxmArXBqhOj4WDAmQNBwfIEh4rQBZwVIBS4egAxcLJAYqBTQLUBL+yYMVbZBYgb8/KUP/12WBWL2C6tXc8gQT/3/oBHj+gWM3YV28AAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/viewer/trans-play.png\n// module id = sHdO\n// module chunks = 1","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/123-3.png\n// module id = t0gW\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAAAcCAYAAAAtHFDdAAAABGdBTUEAALGPC/xhBQAACXhJREFUeAHtnGusFVcVx3t51IJUbHneUgttaaEoItAWtRXTNOGDaQtpSvpIQ6JJE2NC/CDBSKImhhhrjSHamJioSUXDh0ZM4KNNE6o1fYE19AVtIVAeIqBYyvvl7zfMPtlnzsw553LPUe6ZWcn/7j17r71m5r9n7bX3njm374o25MKFC1eitjBFP+mktNkB0v1gE3ihr6/vTFpeJQNgAH6HoT4uxcdIhXIqxWHSw/B73sJKBsZAJ/nta3ZqTnQ99d8HD4OrwZtgF9BRlMlgKpgFPgTrwA/o2H2klbRgAH5HoXIrmAKGg4/AcaCjKDrOaDAGnAV7wXb4PUlaSQsGusFvrsOkHvk9rmcl8OH/CdhIR9lhDYL+DRQuASuAI+WTYHU1IsJCjsCXvOso04EP//vgAHydIG0Q9HUaB6ebwUigvo5zgbSSDAP/U3452dVgIzgGlgM7qC1B9yqwCpwGG4AjYyURA3AyAiwAXwE3AqdjbQm6w8Et4D5wJxjRVsMSKckJ6Bq/dRGGE/mAbwITwWJGsC15XKP3ZcpnpnVr0XMaURPq7+HgD2AnWEj9sVpliTPw4gP+ReBU61V4ORLTQf1Yjo3QpurI21GwB12nZImgN57M7UDe/xrXJQol/dMGv/Imvy4v7Av5k2P5DdPgK5rxW3MYlBzp1oM7wAIM7CFtEPS+TeEPQRgZr0N3f1YRvc9Q9iJ4HjyITqmnD/Ah13L7SfBn+KhNv9I6p2giT+zMN2izL1TS5hPk7wKHwGsVv035dUrr8zgJ5Mk5Ct+Dw+2hsojf8NCrpyMsAkaWBmfBwBzwLPU/AnE7DhsFG29Q+hh4AKxs1ChdyXTueAJ4BW5qzpKyMJ+0yFlUMdrMh3/bJ4INN1mcAYS1zcWK8v7N5RfORkDJ50GRs8iYGy4z0L3JA6WI3yTCoDgRHReS7nA9ZYMg1M0g/wxYEMoyaW6ECTq0X0P+q+BmbDsalk7gwAf+XuBC/b2YAOr6OXZ6FWQbGQcsNwOcOtwGgqMYaZ7HRjw9c+T8VFpufemkBb/zIMRdSEV+toKDQCfRiaYBp8CKs6A/wW+NR2zX8RsixSoU/w1+DrLizkzsLNuyCi2OV6f132mh18vVt3BzvqNyTZeVT0cFybSADjsOzoP/UPcasK2i4zmli+Xd9MARtqySyy8PuxtWwVnkZjOc7gdnwSmwm7KXgVMyxQDSlN9hGFXpEfA0BhzViuQYFd8CS4oU8sqxaVT5FXg0PVeeWs+Wpfdsp+2Ei9Axyf1S53sYEWRHyISUNkYTHSdIGA2TY+odDe34KRW/9fzCybUJSRf/OAgdjo6TbMrf0ah8TJR3albHrxHmDmBo2hgrRvl/kv8mmELjn5LWdXqk1yy7gcp+ML+ZUo/WOWJdCQ7k3J9TriAn084Jx3HqSBkkj39tG33qnCk06PG0Gb8O8ptTvN6EB/snyImQidIavy6I3ObcS2e9HSnUspQ7JRCDkRdp7MXfDQZrazDX8f9oew0n1RniUSxchxE98J4b3dMo5I5YkDjahLJ/kdGRHFGPhMKSpIX8wvlHcCByBW4NGFOBu2iKzpI3sNX41WEc+feArgkXfpaL28sJJnftJJev4au4tFxngJcPqRO5kk6xZlPptFnxvUGDw2DnPLqew3OVTQr5zSMCnoxIfpkyCowDLv4V1/Bb4LIhgsf86jCTQJ5XUdxR+QfWPFedcAPuwvWMQO62zM04VXIePCCBF0e/OSDm7O92XoEhz+G56qTit44ODz4OjCqxOBC9BLe13ce4Ms0n/NopKgUvy9HrWJFbdg3e2zHrl68h7ztEiLaukofcKcJd4PqogVvSh6LjbNbziLLJQPk9A0FG9Tjqy/dCeHd6VyQJv0YYo8vnirQ6WO5I+ZesvZwROasy1I8dmeI1SNP7odOuQ8HIYt8odtRWeNqVHBX/Mbo4166Tit86Otz1chNL+AmMi31nONOAkeduyvyZSsO0l7qEXyOMa4tpKA5oFKRN24JtI5ijpecqmziSjW7FL/Vu8btecScxOIsLVj+jaeosqW3n5PGoyWEppC1+85iA19NgK3Vx5L4pqxvzq8P4rZeLH7eXuyVfwPAY4LnKJnbGSOBiM1foEB3kTjAtUthNvmi0i9SSrLtjDkpxx2d1evW4kF94nQX8qlvEa8EsF/EaPt7qD3o1fofhYe9Q+j5YEmq7kC7G5ruca1sXbF/WJrnno1ygi8rJTS7UqDIhrXed9zrtXOC3u+bzYTiGfuEWamq755IW/DoQyU1A0f0bOIK4xslKjd+g+Bs0voEXGmk6KqnNJzD6644aHlrGjBZOe+MXZMkdUOaaZWJ0O355/EF03DSb2pyKkucoqxTx61ZxkP4C/sNyIegdCRnTLL/BYdZQ5yj4XZU6LNp05PtZh+0OJXM7uVijxa3xRdMZ8h9/S2Y0Gku5PxIrwvjYBnltutPpOcoqufxChlOtsK5zsPKHZeOAPzITBgiXC2Ea5pZ9dp1dx2+yuGREO07jlSj/lnQTx38kP2jB1v0YWQ4ex+aJQRscoga4d1/cvsXlzyX1n1nsT2/FjopfNno8M60rSnZQkaxVsOU070aQ+8KtyECvlRfxS7m//N3M/fo1i5tariPNF8lbtHHLOZE8fkOEcbvtd2gZadaiePvFJpf+Fxtujf4erMH2uku31Bst4WAPd+LDrtPYccrYi8nA/2LDtvPADmxnR8WBGxziLQr49bl2q/0V0Gx959a/68ZalC7iV6+rCUrO554Fi8AyDKyvVaYZdHyn8FBUvg69uuiBzmLq14LnwFLqnY6UXuBFvh2MXOD/DcibfA5EnLb5TkBnOQhK/2tLOEgkyy/PXYjkrkUMDkZk+R4D7AudSCSf/JMmgq567fGrYfAU8PukXwB3CNoSdCeCp8E58CSoRbC2DJRACU76gNud94PPAh/+tkRdMBvYVht1A15bRnpcSU5SbrrCbyHhnHQp3P4YjAfuom0Avheo23ZDbyTlC8ED4GvAUW8FeutJKylgAN7cHZsFXIzuBi5QG/5ZH3oOOi5OHbhuAKfBm/HoyXElGQa6xW+hw3h+Turo93WwDMwFzvUMc+FFj53YD9TbAp4Bv6Qz7dRKWjAAv06BpwK/gnBNch7IsVDkVeg0fq7xAdgFv+pV0oKBbvDb1GHi6+HkUzj+EnBkDNM0v0DWgYw8+0gruUQG4HcUTa8F7prpJIqO47aokce0kktkoFP8/helCDTlSMFlmQAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/123-1.png\n// module id = vmYS\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAsCAYAAAAacYo8AAAABGdBTUEAALGPC/xhBQAABIRJREFUWAnVmV1oHFUUx/9ndjdqUxJaW/ygYqAtamNsfVDqg/ii0ocWwS+qtRZDa0RqE2JFFPTRl2xTSVEIRYqCID76IvhiH/ykH9nNh1pi0NSi1FJt0ibVbHaO587szM5k7s7OxFl3HNidueeeOed3zz333rkzQIMOnnhnJRcHdjbIPIxGGcbCX0/BpP5G2W8cOPFegO/h8UObGwHfEHAeHewC870WcImf/9+AwzT3VWF5F/86vKJaTuYq8YjzT8eulRR5xoPXjvNXnvSUE7lMHByXLj4Gxio/nZl4uiQPTpBBGTjuk6nxzoD0XwgSBeeJwQ3C8oCWhw1P3ms1YgkTBUdJpkBm0hOYu+3819fGlSYGzvx5FjD31ARQeT9z8Yma9TErEgNH4dR2GZQ3hvvnxNIlOXD9oPS3g3E/j+Zv9wuXV0oEnItD6yTa2yIhmMlEPRFwcOk5WXQykcAZe3hy6JpIuiFKFjgXDm2XX/dyDLI1i3B3iI+lVddjfuHRpcJ6ZTX4uZDfLevBDqVbiTj9Djbfw9zCtDTgDT6TX1PPkFtfPPyQTIEdbjnKBSPyIBXQVi7me1E4OSV+PgAyl5QLa85lHs6hcHlGuvs62y9dlZr3Qdm3aXPfmTAWHsl/LPfFm+aIGC2522hT72Qt21bwruIlqd8vwKsreou4oa2dbu6ZtyJO1FMS0G+rRqQBzC+AF7+X7vlEHlO1q6Gk1loQP1K9L+KVSq9SSRt1HjncIb1+BPM4KwxveqBVmMcVtPJSSRXL4RcBt8oB8w6Uy8e5MHBKGvC0vdBUNOcWnpXZpCVwXxSBGqSqpyuH2nDwyMCHQPlHSdv91d53NKyzG1x3eebi4DaY5U99aroC4ZzADgHZo8DiV6Jyh04tmsyQx13zgkTy1UjTKaGbtrxyTNmugk8Nt+Py7B9iwNsLIf5lHLhjIkQttCqmjRbqpM6D3ymTLiSt75kR6PFQP75KZyD7hDELcWzQLDa9/IPjwAW3BRTMc0ez2WfCCSIyHQw/uIH0grN31vOkitWSbO5Lp0WpOxvkziiKzRdx6uw9C6JfUgdtkWZqg1vAnMZ0oWnq6jvvDagv4nYFpS9dfKu6TRkEz6Uy4r40UehB8M7+MVmXZu12peSfjfrg1lxJ+DolyApjEWv49FKeYMRtjfTM50RjdEu/PF74jxrgqRqggTRRTdCDG3STv31NLU3rvOvBy2afTrlJssd1fvXghOh7Tp3VZGXOts1nVQ8OHPdpNbegZdGDZ7KvyVz+W3N5lXdhsFiCJFpw67mgBQ/KA9dE8Jb/SKJ8C8PSZxTHu7t1cwTes/Xt5sLs6/LZT14TcJu3rnHXsmobfARr295ydvQ6X6Hgzg08+u4qlOf3yQ51p+z673bkiZ6JRmTr+BEyK47SXS/+Wc92JHCvER4bWg+z9LB8WdsqqbRV6jZKY+LZUS+EgEm57xsYhvxyn1HXgSmvn3rX8RxqrFnvG+dKt8pA6pB0WgcyV4paK5jsT4TE6gXOHNi4IjrnROdntOamaeOBv0W+7OMfnuVy0lDJjogAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/crowngold.png\n// module id = x2ag\n// module chunks = 1"],"sourceRoot":""}