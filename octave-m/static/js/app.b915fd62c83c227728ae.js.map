{"version":3,"sources":["webpack:///static/js/app.b915fd62c83c227728ae.js","webpack:///./src/_common/js/api.js","webpack:///./src/App.vue","webpack:///./src/_common/js/util.js","webpack:///./src/components/HelloWorld.vue","webpack:///./src/_common/js/magic.js","webpack:///./src/components/NMBMaker.vue","webpack:///./src/components/common/countButton.vue","webpack:///./src/components/NMBViewer.vue","webpack:///./src/components/common/pieProgress.vue","webpack:///./src/components/MBRollMaker.vue","webpack:///./src/components/MusixiserDetail.vue","webpack:///./src/components/MyFav.vue","webpack:///./src/components/MyMusic.vue","webpack:///./src/components/Recommend.vue","webpack:///./src/components/ProductList.vue","webpack:///./src/components/OrderConfirm.vue","webpack:///./src/components/common/Order.vue","webpack:///./src/components/MyOrders.vue","webpack:///./src/store/actions.js","webpack:///./src/store/mutations.js","webpack:///./src/store/getters.js","webpack:///./src/store/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?0c43","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?1c42","webpack:///./src/_common/js/wx_share.js","webpack:///src/components/NMBMaker.vue","webpack:///./src/components/NMBMaker.vue?2edf","webpack:///src/components/common/countButton.vue","webpack:///./src/components/common/countButton.vue?77a9","webpack:///src/components/NMBViewer.vue","webpack:///./src/components/NMBViewer.vue?fa40","webpack:///src/components/common/pieProgress.vue","webpack:///./src/components/common/pieProgress.vue?71be","webpack:///src/components/MBRollMaker.vue","webpack:///./src/components/MBRollMaker.vue?083f","webpack:///src/components/MusixiserDetail.vue","webpack:///./src/components/MusixiserDetail.vue?362c","webpack:///src/components/MyFav.vue","webpack:///./src/components/MyFav.vue?cf0e","webpack:///src/components/MyMusic.vue","webpack:///./src/components/MyMusic.vue?2432","webpack:///src/components/Recommend.vue","webpack:///./src/components/Recommend.vue?a1a8","webpack:///src/components/ProductList.vue","webpack:///./src/components/ProductList.vue?fc7a","webpack:///src/components/OrderConfirm.vue","webpack:///./src/components/OrderConfirm.vue?e0c2","webpack:///src/components/common/Order.vue","webpack:///./src/components/common/Order.vue?a88b","webpack:///src/components/MyOrders.vue","webpack:///./src/components/MyOrders.vue?dfbe","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/assets/123-2.png","webpack:///./src/assets/oops.png","webpack:///./src/assets/123-3.png","webpack:///./src/assets/123-1.png"],"names":["webpackJsonp","/jZ9","module","exports","Duyp","Fq45","I2nb","I5Xv","K8+z","LDsh","MTF5","NHnr","__webpack_exports__","__webpack_require__","getUserInfo","wxcode","tokenInCookie","Cookies","reqConfig","headers","Authorization","axios","get","promise_default","a","resolve","reject","post","then","res","data","errcode","serviceToken","id_token","expires","catch","err","uploadRecord","record","info","_this","this","midi","MidiConvert","create","console","log","reduce","acc","cur","note","Tone","Frequency","toMidi","time","track","patch","formReqConfig","Content-Type","processData","binaryString","encode","bytes","Uint8Array","length","i","charCodeAt","blob","Blob","type","reader","FileReader","onload","_ref","asyncToGenerator_default","regenerator_default","mark","_callee","event","fd","postFix","workURL","param","wrap","_context","prev","next","FormData","append","target","result","sent","t0","extends_default","url","abrupt","stringify_default","stop","_x","apply","arguments","readAsDataURL","fetchMbox","id","fetchMusixiser","fetchWorksFromMusixiser","page","fetchFavWorks","toggleFavSong","_ref2","workId","status","updateWorkTitle","_ref3","title","put","getRecommendations","createOrder","_ref4","pid","wid","amount","addressId","payOrder","_ref5","orderId","sendAddress","addressVO","fetchProductList","injectStyle","ssrContext","getUrlParam","key","reg","RegExp","match","location","search","HelloWorld_injectStyle","RealMagic","items","tasksObj","forEach","item","itemNoteFreq","parseInt","toFrequency","push","taskTypes","keys_default","taskTimeArrays","values_default","machines","groups","timeArray","final","j","test","allPreviousOccupied","successFound","counter","SAME_NOTE_INTERVAL","indexOf","concat","toConsumableArray_default","set_default","Math","max","group","index","count","lastMachine","mapNoteTimeToColor","COLOR1","COLOR2","COLOR3","rgb","floor","mapNoteMidiToLength","noteName","clearTone","parts","part","dispose","e","musicPreview","preview","start","Transport","state","oncePlayed","mbox","triggerAttack","Part","value","triggerAttackRelease","loop","lastNote","loopEnd","duration","NMBMaker_injectStyle","countButton_injectStyle","NMBViewer_injectStyle","pieProgress_injectStyle","MBRollMaker_injectStyle","MusixiserDetail_injectStyle","MyFav_injectStyle","MyMusic_injectStyle","Recommend_injectStyle","ProductList_injectStyle","OrderConfirm_injectStyle","Order_injectStyle","MyOrders_injectStyle","Object","defineProperty","vue_esm","vuex_router_sync","lib","lib_default","n","vuex_esm","regenerator","promise","asyncToGenerator","stringify","helpers_extends","js_cookie","require","interceptors","response","use","alert","resmsg","Accept","actions__this","actions","BOUNCE_PROJECT","commit","FETCH_MBOX","project","userId","musixiser","userVO","load","mergeNotes","tracks","b","notes","_x2","FETCH_MUSIXISER","_ref6","_ref7","musixiserInfo","FETCH_WORKS_FROM_MUSIXISER","_ref8","_ref9","works","musixiserWorksObj","FETCH_FAV_WORKS","_ref10","_ref11","favWorksObj","FETCH_PRODUCTLIST","_ref12","_ref13","products","list","productList","mutations","SET_USER_INFO","activeType","SET_WORK_INFO","ids","lists","SET_MUSIXISER_INFO","Vue","set","SET_BOUNCE_PROJECT","recordProject","SET_ID_PROJECT","recordProjectInfo","SET_MUSIXISER","PUSH_MUSIXISER_WORKS","current","content","total","size","PUSH_FAV_WORKS","SAVE_ORDER_INFO","work","product","address","orderToCreate","targetProduct","targetWork","PUSH_PRODUCTLIST","getters","activeIds","itemsPerPage","Number","route","params","end","slice","activeItems","map","filter","_","Vuex","App","name","transitionName","screenOrientation","created","delaySetRem","clearTimeout","timeoutId","setTimeout","setRem","win","rem","docElem","getBoundingClientRect","width","style","fontSize","window","document","documentElement","on","setAttribute","devicePixelRatio","persisted","orientation","screen","$store","dispatch","beforeRouteUpdate","to","from","render","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","esExports","selectortype_template_index_0_src_App","normalizeComponent","__vue_styles__","Component","src_App","vue_router_esm","HelloWorld","msg","methods","redirectTo","path","$router","navigator","userAgent","toLowerCase","replace","realname","HelloWorld_render","staticClass","_v","touchstart","$event","HelloWorld_staticRenderFns","HelloWorld_esExports","components_HelloWorld","HelloWorld_normalizeComponent","HelloWorld___vue_styles__","HelloWorld_Component","src_components_HelloWorld","toConsumableArray","values","keys","cancel","Sampler","B3","E4","G4","B4","C#5","E5","G5","B5","C#6","release","baseUrl","toMaster","node_modules_axios","axios_default","weixin_js_sdk","weixin_js_sdk_default","wx_share__this","prepareShareConfig","encodeURIComponent","href","split","wx","config","debug","appId","timestamp","nonceStr","signature","jsApiList","ready","prepareShareContent","desc","fullPath","imgUrl","link","onMenuShareTimeline","success","onMenuShareAppMessage","makeWxOrder","successCallback","failCalback","addressObj","payResult","signType","package","timeStamp","paySign","chooseWXPay","fail","_x3","createAddress","cb1","cb2","openAddress","dist","dist_default","vue_awesome_swiper","NMBMaker_Tone","touchIdKeyMap","extendBtnsTimeout","piano","C4","D#4","F#4","A4","C5","D#5","F#5","A5","C6","tonepart","clientHeight","innerHeight","bouncepart","recordStartTime","isLinger","replayInterval","playOffset","lingerOffset","tutorOnceEnter","tutorTimeout","NMBMaker","components","swiper","swiperSlide","vueSlider","props","portraitMode","activeNote","recordPart","recordParts","playing","generalControllerShow","activeSwiperIndex","lastActiveSwiperIndex","vuetimeline","showExtendBtns","alertAppear","bouncing","tutorSession","handClass","tutorClass","timelineConfig","height","padding","dotSize","eventType","min","interval","disabled","show","tooltip","piecewise","reverse","display","class","direction","speed","bgStyle","backgroundColor","boxShadow","tooltipDir","tooltipStyle","borderColor","transform","transformOrigin","position","left","top","formatter","toFixed","processStyle","watch","val","setInterval","toggleReplay","PROGRESS_INTERVAL_TIME","clearInterval","_this2","$nextTick","$refs","timeline","refresh","computed","pianoRoll","activePartIndex","PARTNUM","lastActivePartIndex","performance","now","confirmRecordPart","handleNoteStart","noteId","noteTime","$set","handleNoteEnd","triggerRelease","touchNoteStartHandler","changedTouches","identifier","touchNoteEndHandler","shouldClearTime","clearRecordPart","trackNum","undefined","checkBouncibility","_events","noteInfo","sort","bounceProject","_this3","cover","$toast","query","t","magic_mapNoteTimeToColor","m","magic_mapNoteMidiToLength","adjustTimeline","onMiniKeyboardScroll","touches","clientY","onMiniKeyboardStart","keng","elementFromPoint","clientX","classList","contains","getAttribute","btnStart","_this4","btnEnd","tutorStart","tutorProgress","_this5","clearTutorTimeout","slidePrev","slideNext","v","self","pianoRollSwiperOption","initialSlide","slidesPerView","transitionEnd","activeIndex","wx_share_prepareShareConfig","wx_share_prepareShareContent","origin","pathname","beforeRouteLeave","mounted","updated","NMBMaker_render","touchmove","stopPropagation","preventDefault","touchend","_k","keyCode","Db4","D4","Eb4","F4","Gb4","Ab4","Bb4","Db5","D5","Eb5","F5","Gb5","Ab5","Bb5","Db6","D6","Eb6","E6","F6","ref","options","_l","x","y","operator","radius","in","stdDeviation","flood-color","in2","rx","ry","fill","_e","click","_b","callback","drag-end","model","$$v","expression","directives","rawName","NMBMaker_staticRenderFns","NMBMaker_esExports","components_NMBMaker","NMBMaker_normalizeComponent","NMBMaker___vue_styles__","NMBMaker_Component","src_components_NMBMaker","countButton","initCount","initActive","Boolean","iconImg","String","onClickCall","Function","default","currentActiveCount","currentActive","updateButton","countButton_render","_s","countButton_staticRenderFns","countButton_esExports","common_countButton","countButton_normalizeComponent","countButton___vue_styles__","countButton_Component","components_common_countButton","NMBViewer","loading","workIntroAppear","controlPanalAppear","titleUpdateAppear","favStatus","newWorkTitle","finalNewWorkTitle","projectInfo","loadMusicById","togglePlay","toggleFav","api_updateWorkTitle","redirectToMaker","redirectToMusixiser","purchaseItem","NMBViewer_render","_m","src","smallAvatar","alt","collectNum","placeholder","domProps","input","composing","NMBViewer_staticRenderFns","NMBViewer_esExports","components_NMBViewer","NMBViewer_normalizeComponent","NMBViewer___vue_styles__","NMBViewer_Component","src_components_NMBViewer","pieProgress","progress","pieProgress_render","background","pieProgress_staticRenderFns","pieProgress_esExports","common_pieProgress","pieProgress_normalizeComponent","pieProgress___vue_styles__","pieProgress_Component","components_common_pieProgress","vue_konva_min","vue_konva_min_default","musicScale","colors","last_i","last_j","cursorSchedules","aInterval","MBRollMaker_extendBtnsTimeout","synth","pulseOptions","oscillator","envelope","MBRollMaker","PolySynth","Synth","NOTE_CATEGORY","ONE_PAGE_NOTE_NUM","NOTE_NUM_PER_SECTOR","tempo","configKonva","configNoteRect","activeJ","sector","rectArray","currentTime","filters","intTime","floatTime","tempoLength","k","setupCanvas","stroke","strokeWidth","scheduleCursor","fullNoteNumWithinDur","ceil","TIME_PER_NOTE","FULL_NOTE_NUM","clear","scheduleRepeat","noteSeq","noteIndex","_scheduledEvents","setupRect","withinDur","handleTouchRect","newRow","handleMoveRect","fullJ","fullLastJ","newLastRow","startloop","stoploop","minusTempo","seconds","bpm","rampTo","addTempo","scrolldown","scrollup","toNote","_this6","submitProject","clearProject","_this7","MBRollMaker_render","staticStyle","align-items","justify-content","font-size","_f","MBRollMaker_staticRenderFns","MBRollMaker_esExports","components_MBRollMaker","MBRollMaker_normalizeComponent","MBRollMaker___vue_styles__","MBRollMaker_Component","src_components_MBRollMaker","vue_infinite_scroll","vue_infinite_scroll_default","MusixiserDetail","infiniteScroll","isMe","busy","loadMusixiserById","loadMore","redirectToWork","MusixiserDetail_render","infinite-scroll-disabled","infinite-scroll-distance","createdDate","MusixiserDetail_staticRenderFns","MusixiserDetail_esExports","components_MusixiserDetail","MusixiserDetail_normalizeComponent","MusixiserDetail___vue_styles__","MusixiserDetail_Component","src_components_MusixiserDetail","MyFav","MyFav_render","user","MyFav_staticRenderFns","MyFav_esExports","components_MyFav","MyFav_normalizeComponent","MyFav___vue_styles__","MyFav_Component","src_components_MyFav","MyMusic","MyMusic_render","MyMusic_staticRenderFns","MyMusic_esExports","components_MyMusic","MyMusic_normalizeComponent","MyMusic___vue_styles__","MyMusic_Component","src_components_MyMusic","Recommend","searching","recommendations","Recommend_render","owner","nickName","Recommend_staticRenderFns","Recommend_esExports","components_Recommend","Recommend_normalizeComponent","Recommend___vue_styles__","Recommend_Component","src_components_Recommend","ProductList","productListOption","centeredSlides","realIndex","viewProductDetail","toConfirmOrder","ProductList_render","previewImg","flex","color","intro","price","bottom","ProductList_staticRenderFns","ProductList_esExports","components_ProductList","ProductList_normalizeComponent","ProductList___vue_styles__","ProductList_Component","src_components_ProductList","OrderConfirm","userName","telNum","beforeRouteEnter","editAddress","wx_share_createAddress","detailInfo","telNumber","OrderConfirm_render","giftMsg","OrderConfirm_staticRenderFns","OrderConfirm_esExports","components_OrderConfirm","OrderConfirm_normalizeComponent","OrderConfirm___vue_styles__","OrderConfirm_Component","src_components_OrderConfirm","Order","Order_render","shipTime","Order_staticRenderFns","Order_esExports","common_Order","Order_normalizeComponent","Order___vue_styles__","Order_Component","components_common_Order","MyOrders","order","orderList","confirmTime","category","postalCode","provinceName","cityName","countryName","nationalCode","orders","MyOrders_render","MyOrders_staticRenderFns","MyOrders_esExports","components_MyOrders","MyOrders_normalizeComponent","MyOrders___vue_styles__","MyOrders_Component","src_components_MyOrders","Router","router","routes","component","MBRoll","Toast","defaultType","wordWrap","productionTip","store","Store","users","new","ask","job","myInfo","previewPic","sync","el","template","SaBO","SpEx","p","YKqf","ZGF8","e195","eTTF","iB9p","lcDq","oi08","t0gW","v2ns","vmYS","yiAg"],"mappings":"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","file":"static/js/app.b915fd62c83c227728ae.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"/jZ9\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Duyp\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Fq45\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"I2nb\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"I5Xv\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"K8+z\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"LDsh\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"MTF5\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// EXTERNAL MODULE: ./node_modules/vuex-router-sync/index.js\nvar vuex_router_sync = __webpack_require__(\"9JMe\");\nvar vuex_router_sync_default = /*#__PURE__*/__webpack_require__.n(vuex_router_sync);\n\n// EXTERNAL MODULE: ./node_modules/vue2-toast/lib/toast.css\nvar toast = __webpack_require__(\"e195\");\nvar toast_default = /*#__PURE__*/__webpack_require__.n(toast);\n\n// EXTERNAL MODULE: ./node_modules/vue2-toast/lib/index.js\nvar lib = __webpack_require__(\"1BT9\");\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(\"NYxO\");\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"Xxa5\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/promise.js\nvar promise = __webpack_require__(\"//Fk\");\nvar promise_default = /*#__PURE__*/__webpack_require__.n(promise);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"exGp\");\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/json/stringify.js\nvar stringify = __webpack_require__(\"mvHQ\");\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/extends.js\nvar helpers_extends = __webpack_require__(\"Dd8w\");\nvar extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);\n\n// EXTERNAL MODULE: ./node_modules/js-cookie/src/js.cookie.js\nvar js_cookie = __webpack_require__(\"lbHh\");\nvar js_cookie_default = /*#__PURE__*/__webpack_require__.n(js_cookie);\n\n// CONCATENATED MODULE: ./src/_common/js/api.js\n\n\n\n\n\n\n// import Vue from 'vue';\nvar axios = __webpack_require__(\"mtWM\");\n\naxios.interceptors.response.use(function (res) {\n  if (res.data.errcode !== '0') {\n    alert(res.data.resmsg);\n    return promise_default.a.reject(res);\n  }\n  return res;\n});\nvar reqConfig = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json'\n  }\n};\n// const tokenObj = { access_token: '' };\n// TODO:cause 500?????? just cuz this few lines???\n\nfunction getUserInfo(wxcode) {\n  var tokenInCookie = js_cookie[\"get\"]('serviceToken');\n  if (tokenInCookie) {\n    // alert('cookie used');\n    reqConfig.headers.Authorization = '' + tokenInCookie;\n    // tokenObj.access_token = tokenInCookie;\n    return axios.get('//api.octave-love.com/api/v1/user/getInfo', reqConfig);\n  } else if (!tokenInCookie && wxcode) {\n    // alert('no cookie');\n    return new promise_default.a(function (resolve, reject) {\n      axios.post('//api.octave-love.com/api/v1/user/oauth/wechat/callback?code=' + wxcode, '', reqConfig).then(function (res) {\n        if (res.data.errcode === 20001) {\n          reject(20001); // 相当于return了\n        }\n        var serviceToken = res.data.data.id_token;\n        reqConfig.headers.Authorization = '' + serviceToken;\n        // tokenObj.access_token = serviceToken;\n        js_cookie[\"set\"]('serviceToken', serviceToken, {\n          expires: 7\n        });\n        return axios.get('//api.octave-love.com/api/v1/user/getInfo', reqConfig);\n      }, function () {\n        reject();\n      }).then(function (res) {\n        resolve(res);\n      }).catch(function (err) {\n        reject(err);\n      });\n    });\n  }\n  // !tokenInCookie&&!wxcode的情况在app.js里处理, 不会走到这里\n  return false;\n}\n\nfunction uploadRecord(record, info) {\n  var _this = this;\n\n  return new promise_default.a(function (resolve, reject) {\n    // create a new midi file\n    var midi = MidiConvert.create();\n    console.log('record', record);\n    // record = [{\"note\":\"E6\",\"time\":0},{\"note\":\"Eb6\",\"time\":0.314},{\"note\":\"E6\",\"time\":0.675},{\"note\":\"Eb6\",\"time\":0.989},{\"note\":\"E6\",\"time\":1.351},{\"note\":\"B5\",\"time\":1.656},{\"note\":\"D6\",\"time\":2},{\"note\":\"C6\",\"time\":2.325},{\"note\":\"A4\",\"time\":2.706},{\"note\":\"A5\",\"time\":2.711},{\"note\":\"E5\",\"time\":3.442},{\"note\":\"C5\",\"time\":3.442},{\"note\":\"C5\",\"time\":3.792},{\"note\":\"E5\",\"time\":4.132},{\"note\":\"A5\",\"time\":4.469},{\"note\":\"B5\",\"time\":4.818},{\"note\":\"Ab4\",\"time\":4.833},{\"note\":\"D5\",\"time\":5.551},{\"note\":\"B4\",\"time\":5.556},{\"note\":\"E5\",\"time\":5.953},{\"note\":\"Ab5\",\"time\":6.3},{\"note\":\"B5\",\"time\":6.609},{\"note\":\"C6\",\"time\":6.936},{\"note\":\"A4\",\"time\":6.971},{\"note\":\"E5\",\"time\":7.666},{\"note\":\"C5\",\"time\":7.666},{\"note\":\"E5\",\"time\":8.014},{\"note\":\"E6\",\"time\":8.318},{\"note\":\"Eb6\",\"time\":8.651},{\"note\":\"E6\",\"time\":8.997},{\"note\":\"Eb6\",\"time\":9.327},{\"note\":\"E6\",\"time\":9.629},{\"note\":\"B5\",\"time\":10.013},{\"note\":\"D6\",\"time\":10.375},{\"note\":\"C6\",\"time\":10.728},{\"note\":\"A4\",\"time\":11.086},{\"note\":\"A5\",\"time\":11.087},{\"note\":\"E5\",\"time\":11.787},{\"note\":\"C5\",\"time\":11.858},{\"note\":\"C5\",\"time\":12.215},{\"note\":\"E5\",\"time\":12.59},{\"note\":\"A5\",\"time\":12.938},{\"note\":\"Ab4\",\"time\":13.307},{\"note\":\"B5\",\"time\":13.313},{\"note\":\"B4\",\"time\":14.053},{\"note\":\"D5\",\"time\":14.061},{\"note\":\"D5\",\"time\":14.4},{\"note\":\"C6\",\"time\":14.87},{\"note\":\"B5\",\"time\":15.438},{\"note\":\"A4\",\"time\":16.068},{\"note\":\"A5\",\"time\":16.099},{\"note\":\"C5\",\"time\":16.535},{\"note\":\"E5\",\"time\":17.027},{\"note\":\"A5\",\"time\":17.627}]\n\n    // add a track\n    // midi\n    //   .track()\n    //   // select an instrument by its MIDI patch number\n    //   .patch(32)\n    //   // chain note events: note, time, duration\n    //   .note(60, 0, 2)\n    //   .note(63, 1, 2)\n    //   .note(60, 2, 2);\n\n    record.reduce(function (acc, cur) {\n      return acc.note(Tone.Frequency(cur.note).toMidi(), //midiNo,\n      cur.time, //startTime,\n      1 //duration,\n      //velocity\n      );\n    }, midi.track(0).patch(32));\n\n    var formReqConfig = {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        processData: false,\n        Authorization: reqConfig.headers.Authorization\n      }\n    };\n    // const blob = new Blob([JSON.stringify(record)]);\n    // const blob = new Blob([JSON.stringify(midi.encode())]);\n\n    var binaryString = midi.encode();\n    // write the output\n    var bytes = new Uint8Array(binaryString.length);\n    for (var i = 0; i < binaryString.length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    var blob = new Blob([bytes], {\n      type: 'audio/midi;charset=binary'\n    });\n    var reader = new FileReader();\n    reader.onload = function () {\n      var _ref = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(event) {\n        var fd, postFix, workURL, param;\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                fd = new FormData();\n                // fd.append('fname', 'test.txt');\n\n                fd.append('fname', 'output.mid');\n                fd.append('data', event.target.result);\n                // fd.append('access_token', tokenObj.access_token);\n                postFix = '';\n                _context.prev = 4;\n                _context.next = 7;\n                return axios.post('//api.octave-love.com/api/v1/uploadAudio', fd, formReqConfig);\n\n              case 7:\n                postFix = _context.sent;\n                _context.next = 14;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context['catch'](4);\n\n                console.log(_context.t0);\n                reject(_context.t0);\n\n              case 14:\n                workURL = '' + postFix.data.data;\n                param = extends_default()({}, info, { // title,content.cover\n                  url: workURL\n                });\n\n                console.log(workURL);\n                return _context.abrupt('return', axios.post('//api.octave-love.com/api/v1/work/create', stringify_default()(param), reqConfig).then(function (res) {\n                  resolve(res.data.data);\n                }).catch(function (err) {\n                  reject(err);\n                }));\n\n              case 18:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this, [[4, 10]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    reader.readAsDataURL(blob);\n  });\n  // trigger the read from the reader...\n}\n\nfunction fetchMbox(id) {\n  return axios.get('//api.octave-love.com/api/v1/work/detail/' + id, reqConfig);\n}\nfunction fetchMusixiser(id) {\n  return axios.get('//api.octave-love.com/api/v1/user/detail/' + id, reqConfig);\n}\nfunction fetchWorksFromMusixiser(id, page) {\n  return axios.get('//api.octave-love.com/api/v1/work/getListByUid/' + id + '?page=' + page + '&size=15', reqConfig);\n}\nfunction fetchFavWorks(id, page) {\n  return axios.get('//api.octave-love.com/api/v1/favorite/getWorkList/' + id + '?page=' + page + '&size=15', reqConfig);\n}\nfunction toggleFavSong(_ref2) {\n  var workId = _ref2.workId,\n      status = _ref2.status;\n\n  return axios.post('//api.octave-love.com/api/v1/favorite/create', stringify_default()({ workId: workId, status: status }), reqConfig);\n  // .then((res) => { console.log(res); })\n  // .catch((err) => { console.log(err); });\n}\nfunction api_updateWorkTitle(_ref3) {\n  var id = _ref3.id,\n      title = _ref3.title;\n\n  return axios.put('//api.octave-love.com/api/v1/work/updateWork/' + id, stringify_default()({ title: title }), reqConfig);\n  // .then((res) => { console.log(res); })\n  // .catch((err) => { console.log(err); });\n}\nfunction getRecommendations() {\n  return axios.post('//api.octave-love.com/api/v1/home', '', reqConfig);\n}\n\nfunction createOrder(_ref4) {\n  var pid = _ref4.pid,\n      wid = _ref4.wid,\n      amount = _ref4.amount,\n      addressId = _ref4.addressId;\n\n  return axios.post('//api.octave-love.com/api/v1/shop/orders/create', stringify_default()({ pid: pid, wid: wid, amount: amount, addressId: addressId }), reqConfig);\n}\n\nfunction payOrder(_ref5) {\n  var orderId = _ref5.orderId;\n\n  return axios.post('//api.octave-love.com/api/v1/shop/pay/unifiedorder?orderId=' + orderId, '', reqConfig);\n}\n\nfunction sendAddress(addressVO) {\n  return axios.post('//api.octave-love.com/api/v1/shop/address/create', stringify_default()(addressVO), reqConfig);\n}\nfunction fetchProductList() {\n  return axios.get('//api.octave-love.com/api/v1/admin/shop/products', reqConfig);\n}\n// CONCATENATED MODULE: ./src/store/actions.js\n\n\n\n\nvar actions__this = this;\n\n\n/*\n  getUserInfo\n  getWorkInfo\n  getMusixiserInfo\n  saveWork\n*/\n/* harmony default export */ var actions = ({\n  BOUNCE_PROJECT: function BOUNCE_PROJECT(_ref, _ref2) {\n    var commit = _ref.commit,\n        state = _ref.state;\n    var record = _ref2.record,\n        info = _ref2.info;\n    return uploadRecord(record, info);\n  },\n  // 存作品到后台\n  // uploadRecord(record, info).then(() => {\n  //   // commit('SET_BOUNCE_PROJECT', { record, info });\n  //   // 可以在组建直接跳链接，不commit 存store一道\n  // });\n\n  FETCH_MBOX: function () {\n    var _ref3 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(_ref4, _ref5) {\n      var commit = _ref4.commit,\n          state = _ref4.state;\n      var id = _ref5.id;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt('return',\n              // {\n              //   const project = await fetchMbox(id);\n              //   console.log('xxi', project.data.data.url);\n              //   console.log('xxi', project.data.data.userId);\n              //   const musixiser = await fetchMusixiser(project.data.data.userId);\n              //   console.log('work musixiser info: ', musixiser.data.data);\n              //   project.data.data.userVO = musixiser.data.data; // 拼接口。\n              //   // MidiConvert.load(project.data.data.url, (midi) => {\n              //   MidiConvert.load('//cdn.cnbj1.fds.api.mi-img.com/lftemp/silent_night_easy.mid', (midi) => {\n              //     commit('SET_ID_PROJECT', {\n              //       record: midi.tracks[0].notes,\n              //       info: project.data.data,\n              //     });\n              //   });\n              // },\n              new promise_default.a(function (resolve, reject) {\n                // 获取某id的音乐盒音乐内容\n                fetchMbox(id).then(function (project) {\n                  console.log('xxi', project.data.data.url);\n                  console.log('xxi', project.data.data.userId);\n                  fetchMusixiser(project.data.data.userId).then(function (musixiser) {\n                    console.log('work musixiser info: ', musixiser.data.data);\n                    project.data.data.userVO = musixiser.data.data; // 拼接口。\n                    // load music notes/ midi notes\n                    // '//cdn.cnbj1.fds.api.mi-img.com/lftemp/silent_night_easy.mid' => test url\n\n                    MidiConvert.load(project.data.data.url, function (midi) {\n                      console.log('midi', midi);\n                      var mergeNotes = midi.tracks.reduce(function (a, b) {\n                        return a.concat(b.notes);\n                      }, []);\n                      commit('SET_ID_PROJECT', {\n                        record: mergeNotes, // midi.tracks[1].notes, // TODO:稍后要改成0\n                        info: project.data.data\n                      });\n                      resolve();\n                    });\n                    // const request = new XMLHttpRequest();\n                    // request.open('GET', project.data.data.url, true);\n                    // request.send(null);\n                    // request.onreadystatechange = function () {\n                    //   if (request.readyState === 4 && request.status === 200) {\n                    //     const type = request.getResponseHeader('Content-Type');\n                    //     if (type.indexOf('text') !== -1) {\n                    //       commit('SET_ID_PROJECT', {\n                    //         record: JSON.parse(request.responseText),\n                    //         info: project.data.data,\n                    //       });\n                    //       resolve();\n                    //     }\n                    //   }\n                    // };\n                  });\n                });\n              }));\n\n            case 1:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, actions__this);\n    }));\n\n    return function FETCH_MBOX(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(),\n  FETCH_MUSIXISER: function FETCH_MUSIXISER(_ref6, _ref7) {\n    var commit = _ref6.commit,\n        state = _ref6.state;\n    var id = _ref7.id;\n    return new promise_default.a(function (resolve, reject) {\n      // 获取某id的音乐盒音乐内容\n      fetchMusixiser(id).then(function (musixiser) {\n        console.log('musixiser info: ', musixiser.data.data);\n        commit('SET_MUSIXISER', { musixiserInfo: musixiser.data.data });\n        resolve();\n      });\n    });\n  },\n  FETCH_WORKS_FROM_MUSIXISER: function FETCH_WORKS_FROM_MUSIXISER(_ref8, _ref9) {\n    var commit = _ref8.commit,\n        state = _ref8.state;\n    var id = _ref9.id,\n        page = _ref9.page;\n    return new promise_default.a(function (resolve, reject) {\n      // 获取某id的音乐盒音乐内容\n      fetchWorksFromMusixiser(id, page).then(function (works) {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_MUSIXISER_WORKS', { musixiserWorksObj: works.data.data });\n        resolve();\n      });\n    });\n  },\n  FETCH_FAV_WORKS: function FETCH_FAV_WORKS(_ref10, _ref11) {\n    var commit = _ref10.commit,\n        state = _ref10.state;\n    var id = _ref11.id,\n        page = _ref11.page;\n    return new promise_default.a(function (resolve, reject) {\n      // 获取某id的音乐盒音乐内容\n      fetchFavWorks(id, page).then(function (works) {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_FAV_WORKS', { favWorksObj: works.data.data });\n        resolve();\n      });\n    });\n  },\n  FETCH_PRODUCTLIST: function FETCH_PRODUCTLIST(_ref12, _ref13) {\n    var commit = _ref12.commit,\n        state = _ref12.state;\n    var id = _ref13.id,\n        page = _ref13.page;\n    return new promise_default.a(function (resolve, reject) {\n      // 获取某id的音乐盒音乐内容\n      fetchProductList().then(function (products) {\n        console.log('product list: ', products.data.data.list);\n        commit('PUSH_PRODUCTLIST', { productList: products.data.data.list });\n        resolve();\n      });\n    });\n  }\n  //   // ensure data for rendering given list type\n  //   FETCH_LIST_DATA: ({ commit, dispatch, state }, { type }) => {\n  //     commit('SET_ACTIVE_TYPE', { type });\n  //     return fetchIdsByType(type)\n  //       .then(ids => commit('SET_LIST', { type, ids }))\n  //       .then(() => dispatch('ENSURE_ACTIVE_ITEMS'));\n  //   },\n  //\n  //   // ensure all active items are fetched\n  //   ENSURE_ACTIVE_ITEMS: ({ dispatch, getters }) => dispatch('FETCH_ITEMS', {\n  //     ids: getters.activeIds,\n  //   }),\n  //\n  //   FETCH_ITEMS: ({ commit, state }, { ids }) => {\n  //     // on the client, the store itself serves as a cache.\n  //     // only fetch items that we do not already have, or has expired (3 minutes)\n  //     const now = Date.now();\n  //     ids = ids.filter((id) => {\n  //       const item = state.items[id];\n  //       if (!item) {\n  //         return true;\n  //       }\n  //       if (now - item.__lastUpdated > 1000 * 60 * 3) {\n  //         return true;\n  //       }\n  //       return false;\n  //     });\n  //     if (ids.length) {\n  //       return fetchItems(ids).then(items => commit('SET_ITEMS', { items }));\n  //     }\n  //     return Promise.resolve();\n  //   },\n  //\n  //   FETCH_USER: ({ commit, state }, { id }) => (state.users[id]\n  //       ? Promise.resolve(state.users[id])\n  //       : fetchUser(id).then(user => commit('SET_USER', { id, user }))),\n});\n// CONCATENATED MODULE: ./src/store/mutations.js\n\n\n/* harmony default export */ var mutations = ({\n  SET_USER_INFO: function SET_USER_INFO(state, _ref) {\n    var type = _ref.type;\n\n    // 个人信息\n    state.activeType = type;\n  },\n\n  SET_WORK_INFO: function SET_WORK_INFO(state, _ref2) {\n    var type = _ref2.type,\n        ids = _ref2.ids;\n\n    // 作品详情\n    state.lists[type] = ids;\n  },\n\n  SET_MUSIXISER_INFO: function SET_MUSIXISER_INFO(state, _ref3) {\n    var items = _ref3.items;\n\n    // 作者信息\n    items.forEach(function (item) {\n      if (item) {\n        vue_esm[\"a\" /* default */].set(state.items, item.id, item);\n      }\n    });\n  },\n  SET_BOUNCE_PROJECT: function SET_BOUNCE_PROJECT(state, _ref4) {\n    var record = _ref4.record;\n\n    // 储存录制信息\n    state.recordProject = record;\n  },\n  SET_ID_PROJECT: function SET_ID_PROJECT(state, _ref5) {\n    var record = _ref5.record,\n        info = _ref5.info;\n\n    // 储存录制信息\n    state.recordProject = record; // this is the music itself\n    state.recordProjectInfo = info; // this includes all the relative info\n  },\n  SET_MUSIXISER: function SET_MUSIXISER(state, _ref6) {\n    var musixiserInfo = _ref6.musixiserInfo;\n\n    // 储存录制信息\n    state.musixiserInfo = musixiserInfo;\n  },\n  PUSH_MUSIXISER_WORKS: function PUSH_MUSIXISER_WORKS(state, _ref7) {\n    var musixiserWorksObj = _ref7.musixiserWorksObj;\n\n    // 储存录制信息\n    console.log('ccccc', musixiserWorksObj.current);\n    if (+musixiserWorksObj.current === 1) {\n      state.musixiserWorksObj.content = musixiserWorksObj.list;\n    } else {\n      state.musixiserWorksObj.content = state.musixiserWorksObj.content.concat(musixiserWorksObj.list);\n    }\n    state.musixiserWorksObj.total = musixiserWorksObj.total;\n    state.musixiserWorksObj.size = musixiserWorksObj.size;\n    state.musixiserWorksObj.current = musixiserWorksObj.current;\n  },\n  PUSH_FAV_WORKS: function PUSH_FAV_WORKS(state, _ref8) {\n    var favWorksObj = _ref8.favWorksObj;\n\n    // 储存录制信息\n    console.log('xxxxxxx', favWorksObj);\n    if (+favWorksObj.current === 1) {\n      state.favWorksObj.content = favWorksObj.list;\n    } else {\n      state.favWorksObj.content = state.favWorksObj.content.concat(favWorksObj.list);\n    }\n    state.favWorksObj.total = favWorksObj.total;\n    state.favWorksObj.size = favWorksObj.size;\n    state.favWorksObj.current = favWorksObj.current;\n  },\n  // SET_FINAL_WORK: (state, { type }) => { // 储存成品信息\n  //   state.activeType = type;\n  // },\n  // SET_USER: (state, { id, user }) => {\n  //   Vue.set(state.users, id, user || false); /* false means user not found */\n  // },\n  SAVE_ORDER_INFO: function SAVE_ORDER_INFO(state, _ref9) {\n    var work = _ref9.work,\n        product = _ref9.product,\n        address = _ref9.address;\n\n    state.orderToCreate.wid = work ? work.id : state.orderToCreate.wid;\n    state.orderToCreate.pid = product ? product.id : state.orderToCreate.pid;\n    state.orderToCreate.address = address || state.orderToCreate.address;\n    state.targetProduct = product || state.targetProduct;\n    state.targetWork = work || state.targetWork;\n  },\n  PUSH_PRODUCTLIST: function PUSH_PRODUCTLIST(state, _ref10) {\n    var productList = _ref10.productList;\n\n    state.productList = productList;\n    state.targetProduct = productList[0];\n  }\n});\n// CONCATENATED MODULE: ./src/store/getters.js\n/* harmony default export */ var getters = ({\n  // ids of the items that should be currently displayed based on\n  // current list type and current pagination\n  activeIds: function activeIds(state) {\n    var activeType = state.activeType,\n        itemsPerPage = state.itemsPerPage,\n        lists = state.lists;\n\n    var page = Number(state.route.params.page) || 1;\n    if (activeType) {\n      var start = (page - 1) * itemsPerPage;\n      var end = page * itemsPerPage;\n      return lists[activeType].slice(start, end);\n    }\n    return [];\n  },\n\n\n  // items that should be currently displayed.\n  // this Array may not be fully fetched.\n  activeItems: function activeItems(state, getters) {\n    return getters.activeIds.map(function (id) {\n      return state.items[id];\n    }).filter(function (_) {\n      return _;\n    });\n  }\n});\n// CONCATENATED MODULE: ./src/store/index.js\n\n\n\n\n\n\nvue_esm[\"a\" /* default */].use(vuex_esm[\"a\" /* default */]);\n\nfunction createStore() {\n  return new vuex_esm[\"a\" /* default */].Store({\n    state: {\n      activeType: null,\n      itemsPerPage: 20,\n      items: {\n        /* [id: number]: Item */\n      },\n      users: {\n        /* [id: string]: User */\n      },\n      lists: {\n        top: [\n          /* number */\n        ],\n        new: [],\n        show: [],\n        ask: [],\n        job: []\n      },\n      myInfo: {},\n      recordParts: [],\n      recordProject: [],\n      musixiserInfo: {},\n      musixiserWorksObj: { content: [] },\n      favWorksObj: { content: [] },\n      targetProduct: {},\n      targetWork: {},\n      productList: [{\n        \"id\": 5,\n        \"category\": 0,\n        \"name\": \"111\",\n        \"intro\": \"ssssss\",\n        \"price\": 0.01,\n        \"status\": 0,\n        \"createdDate\": 1545545063000,\n        \"previewPic\": 'http://img1.imgtn.bdimg.com/it/u=1428864537,4075266830&fm=26&gp=0.jpg'\n      }, {\n        \"id\": 3,\n        \"category\": 0,\n        \"name\": \"产品名02\",\n        \"intro\": \"八音盒02\",\n        \"price\": 0.02,\n        \"status\": 0,\n        \"createdDate\": 1545545057000,\n        \"previewPic\": 'http://img5.imgtn.bdimg.com/it/u=2832745675,3618470846&fm=26&gp=0.jpg'\n      }, {\n        \"id\": 2,\n        \"category\": 0,\n        \"name\": \"产品名03\",\n        \"intro\": \"八音盒01\",\n        \"price\": 0.02,\n        \"status\": 0,\n        \"createdDate\": 1545545054000,\n        \"previewPic\": 'http://img3.imgtn.bdimg.com/it/u=567439238,127662271&fm=26&gp=0.jpg'\n      }, {\n        \"id\": 1,\n        \"category\": 0,\n        \"name\": \"产品名04\",\n        \"intro\": \"八音盒\",\n        \"price\": 0.01,\n        \"status\": 0,\n        \"createdDate\": 1545545048000,\n        \"previewPic\": 'http://img5.imgtn.bdimg.com/it/u=771337150,1492914445&fm=26&gp=0.jpg'\n      }], // ProductList.vue\n      orderToCreate: {\n        // OrderConfirm.vue & createOrder\n        wid: '',\n        pid: '',\n        address: {}\n      }\n    },\n    actions: actions,\n    mutations: mutations,\n    getters: getters\n  });\n}\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n//\n//\n//\n//\n//\n//\n//\n//\n\n// https://router.vuejs.org/en/advanced/transitions.html\n/* harmony default export */ var App = ({\n  name: \"app\",\n  data: function data() {\n    return {\n      transitionName: \"fade\",\n      screenOrientation: \"\"\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var win = window;\n    var docElem = document.documentElement;\n    var on = \"addEventListener\";\n    var timeoutId = void 0;\n\n    function delaySetRem() {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(setRem, 300);\n    }\n\n    function setRem() {\n      win.rem = docElem.getBoundingClientRect().width / 10;\n      docElem.style.fontSize = win.rem + \"px\";\n    }\n\n    setRem();\n    docElem.setAttribute(\"data-dpr\", win.devicePixelRatio);\n    win[on](\"resize\", delaySetRem);\n    win[on](\"pageshow\", function (e) {\n      if (e.persisted) {\n        delaySetRem();\n      }\n    });\n    //add by ziwen\n    if (window.orientation === 180 || window.orientation === 0) {\n      // 竖屏状态\n      this.screenOrientation = \"portrait\";\n    }\n    if (window.orientation === 90 || window.orientation === -90) {\n      // 横屏状态\n      this.screenOrientation = \"landscape\";\n    }\n    win[on](\"orientationchange\", function () {\n      console.log(screen.orientation);\n      console.log(window.orientation);\n      if (window.orientation === 180 || window.orientation === 0) {\n        // 竖屏状态\n        _this.screenOrientation = \"portrait\";\n      }\n      if (window.orientation === 90 || window.orientation === -90) {\n        // 横屏状态\n        _this.screenOrientation = \"landscape\";\n      }\n    });\n\n    this.$store.dispatch(\"FETCH_PRODUCTLIST\", {});\n  },\n  beforeRouteUpdate: function beforeRouteUpdate(to, from, next) {\n    // const toPage = to.indexOf('make')\n    // const fromPage = from.path.split('/').length\n    // this.transitionName = toDepth < fromDepth ? 'slide-right' : 'slide-left'\n    // next()\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ac924e68\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":_vm.transitionName}},[_c('router-view',{attrs:{\"screenOrientation\":_vm.screenOrientation}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (esExports);\n// CONCATENATED MODULE: ./src/App.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"LDsh\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"/ocq\");\n\n// CONCATENATED MODULE: ./src/_common/js/util.js\nfunction getUrlParam(key) {\n  var reg = new RegExp(\"[?|&]\" + key + \"=([^&]+)\");\n  var match = location.search.match(reg);\n  return match && match[1];\n}\n\nfunction getUrlParam1(key) {\n  var reg = new RegExp(\"[?|&]\" + key + \"=([^&]+)\");\n  var match = location.search.match(reg);\n  return match && match[1];\n}\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/HelloWorld.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var HelloWorld = ({\n  name: 'hello',\n  data: function data() {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    };\n  },\n\n  methods: {\n    redirectTo: function redirectTo(path) {\n      // IMPORTANT keng. 从主页跳制作页，如果相对路径会带上参数，比如auth回来的code会一直带着，污染之后的auth\n      // 成功auth一次，就写入cookie了，所以往后跳就直接给全路径，摒弃微信弄回来的乱七八糟的参数\n      this.$router.push(path);\n    }\n  },\n  created: function created() {\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + 'px';\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    if (getUrlParam('code') || js_cookie[\"get\"]('serviceToken')) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam('code')).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"]('serviceToken');\n          location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect');\n        }\n        alert('welcome' + res.data.data.realname);\n        console.log('get user info success', res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"]('serviceToken');\n        location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect');\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect');\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a687a94\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\nvar HelloWorld_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('div',{staticClass:\"m-logo\"}),_vm._v(\" \"),_c('div',{staticClass:\"redirect-button\",attrs:{\"id\":\"mb-maker\"},on:{\"touchstart\":function($event){_vm.redirectTo('/new-music-box-maker')}}},[_vm._v(\"\\n      去编曲\\n  \")])])}\nvar HelloWorld_staticRenderFns = []\nvar HelloWorld_esExports = { render: HelloWorld_render, staticRenderFns: HelloWorld_staticRenderFns }\n/* harmony default export */ var components_HelloWorld = (HelloWorld_esExports);\n// CONCATENATED MODULE: ./src/components/HelloWorld.vue\nfunction HelloWorld_injectStyle (ssrContext) {\n  __webpack_require__(\"eTTF\")\n}\nvar HelloWorld_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar HelloWorld___vue_template_functional__ = false\n/* styles */\nvar HelloWorld___vue_styles__ = HelloWorld_injectStyle\n/* scopeId */\nvar HelloWorld___vue_scopeId__ = \"data-v-0a687a94\"\n/* moduleIdentifier (server only) */\nvar HelloWorld___vue_module_identifier__ = null\nvar HelloWorld_Component = HelloWorld_normalizeComponent(\n  HelloWorld,\n  components_HelloWorld,\n  HelloWorld___vue_template_functional__,\n  HelloWorld___vue_styles__,\n  HelloWorld___vue_scopeId__,\n  HelloWorld___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_HelloWorld = (HelloWorld_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/swiper/dist/css/swiper.css\nvar swiper = __webpack_require__(\"v2ns\");\nvar swiper_default = /*#__PURE__*/__webpack_require__.n(swiper);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/set.js\nvar set = __webpack_require__(\"lHA8\");\nvar set_default = /*#__PURE__*/__webpack_require__.n(set);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/toConsumableArray.js\nvar toConsumableArray = __webpack_require__(\"Gu7T\");\nvar toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/values.js\nvar values = __webpack_require__(\"gRE1\");\nvar values_default = /*#__PURE__*/__webpack_require__.n(values);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/keys.js\nvar keys = __webpack_require__(\"fZjL\");\nvar keys_default = /*#__PURE__*/__webpack_require__.n(keys);\n\n// CONCATENATED MODULE: ./src/_common/js/magic.js\n\n\n\n\n\nvar magic_Tone = __webpack_require__(\"ZnLv\");\n\nmagic_Tone.Transport.cancel();\nvar SAME_NOTE_INTERVAL = 1; // 同一个音不能相距小于1秒，不然音片打击出问题\nvar musicPreview = void 0;\n\nvar oncePlayed = false;\n// notesInfo example\n// let work = [{note: \"E4\", time: 0.14585000000000037},\n// {note: \"G4\", time: 1.0295},\n// {note: \"G4\", time: 1.3985},\n// {note: \"E4\", time: 2.6605300000000005},\n// {note: \"D4\", time: 3.4207450000000006},\n// {note: \"C4\", time: 4.196245000000001},\n// {note: \"G4\", time: 2.671395000000004},\n// {note: \"A4\", time: 3.35932},\n// {note: \"B4\", time: 4.183044999999998}]\n// const mbox = new Tone.MonoSynth({\n//   volume: -10,\n//   envelope: {\n//     attack: 0.1,\n//     decay: 0.3,\n//     release: 2,\n//   },\n//   filterEnvelope: {\n//     attack: 0.001,\n//     decay: 0.01,\n//     sustain: 0.5,\n//     baseFrequency: 200,\n//     octaves: 2.6,\n//   },\n// }).toMaster();\n// const mbox = new Tone.PolySynth(6, Tone.Synth, {\n//   oscillator: {\n//     partials: [0, 2, 3, 4],\n//   },\n// }).toMaster();\n// const mbox = new Tone.Sampler({\n//   C4: 'C4.[mp3|ogg]',\n//   'D#4': 'Ds4.[mp3|ogg]',\n//   'F#4': 'Fs4.[mp3|ogg]',\n//   A4: 'A4.[mp3|ogg]',\n//   C5: 'C5.[mp3|ogg]',\n//   'D#5': 'Ds5.[mp3|ogg]',\n//   'F#5': 'Fs5.[mp3|ogg]',\n//   A5: 'A5.[mp3|ogg]',\n//   C6: 'C6.[mp3|ogg]',\n// }, {\n//   release: 1,\n//   baseUrl: '/static/audio/',\n// }).toMaster();\n\nvar mbox = new magic_Tone.Sampler({\n  B3: 'B3.[mp3|ogg]',\n  E4: 'E4.[mp3|ogg]',\n  G4: 'G4.[mp3|ogg]',\n  B4: 'B4.[mp3|ogg]',\n  'C#5': 'Cs5.[mp3|ogg]',\n  E5: 'E5.[mp3|ogg]',\n  G5: 'G5.[mp3|ogg]',\n  B5: 'B5.[mp3|ogg]',\n  'C#6': 'Cs6.[mp3|ogg]'\n}, {\n  release: 1,\n  // baseUrl: '/static/audio/mbox/',\n  baseUrl: '//cnbj1.fds.api.xiaomi.com/mbox/audio/mbox/'\n}).toMaster();\n\nfunction RealMagic(items) {\n  console.log('== Enter RealMagic ==');\n  console.log(stringify_default()(items));\n  var tasksObj = {};\n  items.forEach(function (item) {\n    //* 2 cuz print mbox need 1 octave higher.\n    var itemNoteFreq = parseInt(magic_Tone.Frequency(item.note).toFrequency() * 2, 10);\n    if (!tasksObj[itemNoteFreq]) {\n      tasksObj[itemNoteFreq] = [];\n    }\n    tasksObj[itemNoteFreq].push(item.time);\n  });\n  // tasksObj is like {784:[1.0295,1.39,2.6713],659:[2.66],...}\n\n  // then we focus on each task\n  var taskTypes = keys_default()(tasksObj); // [659,784,...]  freq array, 排好序的（object.keys）\n  var taskTimeArrays = values_default()(tasksObj); // [[2.66]，[1.0295,1.39,2.6713]] 顺序跟上面对应的\n  var machines = []; // init with existing types, will add more machines\n  var groups = []; // will final be [[1],[1,2,1],...], corespond to taskTimeArrays\n\n  if (taskTypes.length > 18) {\n    console.log('音种类超过18个，这个做不了');\n    return false;\n  }\n\n  taskTimeArrays.forEach(function (timeArray) {\n    var final = [];\n    timeArray.forEach(function (time, j) {\n      var test = []; // 校验当前final里不能用的序号， final里序号种类和test种类相同则证明不行\n      var allPreviousOccupied = false;\n      var successFound = false;\n      if (j === 0) {\n        final.push(1); // 给第1组的第一个任务分配第一个机器\n      } else {\n        var counter = j;\n        while (counter >= 1 && !allPreviousOccupied) {\n          // TODO: -1 or 0\n          counter -= 1;\n          if (time - timeArray[counter] >= SAME_NOTE_INTERVAL && test.indexOf(final[counter]) === -1) {\n            final.push(final[counter]);\n            successFound = true;\n            break;\n          } else if (test.indexOf(final[counter]) === -1) {\n            test.push(final[counter]);\n            if ([].concat(toConsumableArray_default()(new set_default.a(final))).length === [].concat(toConsumableArray_default()(new set_default.a(test))).length) {\n              // final目前已有的都不满足，set可以取unique elements [1,1,2,2,3,1] => [1,2,3]\n              allPreviousOccupied = true;\n              break;\n            }\n          }\n        }\n        if (counter === 0 && !successFound || allPreviousOccupied) {\n          final.push(Math.max.apply(Math, final) + 1);\n        }\n      }\n    });\n    groups.push(final);\n  });\n  console.log(taskTypes);\n  console.log(taskTimeArrays);\n  console.log('hehe', groups); // [[1],[1,2,1],...], corespond to taskTimeArrays\n\n  // now we have groups, let's build machines based on this\n  groups.forEach(function (group, index) {\n    var count = 0;\n    while (count <= Math.max.apply(Math, toConsumableArray_default()(group)) - 1) {\n      machines.push(taskTypes[index]);\n      count += 1;\n    }\n  });\n  if (machines.length < 18) {\n    var lastMachine = machines[machines.length - 1];\n    while (machines.length < 18) {\n      machines.push(lastMachine); // make it length of 18\n    }\n    // machines is like [\"1046\", \"1174\", \"1318\", \"1318\", \"1318\", \"1396\", \"1567\"] of 18 length\n  } else if (machines.length > 18) {\n    console.log('所需音片儿超过18个');\n    return false;\n  }\n  return true;\n}\n\nfunction magic_mapNoteTimeToColor(time) {\n  var COLOR1 = [151, 255, 241];\n  var COLOR2 = [137, 228, 217];\n  var COLOR3 = [143, 123, 242];\n  var TIME_MAX = 20;\n  var rgb = [0, 0, 0];\n  if (time < 0 || time > TIME_MAX) {\n    // console.warn('we don\\'t allow time above 20. from \\'mapNoteTimeToColor\\' util function');\n  } else if (time <= 10) {\n    rgb = [COLOR1[0] + time * (COLOR2[0] - COLOR1[0]) / (TIME_MAX / 2), COLOR1[1] + time * (COLOR2[1] - COLOR1[1]) / (TIME_MAX / 2), COLOR1[2] + time * (COLOR2[2] - COLOR1[2]) / (TIME_MAX / 2)];\n  }\n  rgb = [COLOR2[0] + time * (COLOR3[0] - COLOR2[0]) / (TIME_MAX / 2), COLOR2[1] + time * (COLOR3[1] - COLOR2[1]) / (TIME_MAX / 2), COLOR2[2] + time * (COLOR3[2] - COLOR2[2]) / (TIME_MAX / 2)];\n  // console.log(`rgb(${Math.floor(rgb[0])},${Math.floor(rgb[1])},${Math.floor(rgb[2])})`);\n  return 'rgb(' + Math.floor(rgb[0]) + ',' + Math.floor(rgb[1]) + ',' + Math.floor(rgb[2]) + ')';\n}\nfunction magic_mapNoteMidiToLength(noteName) {\n  // in our context, the midi range would be from 60 - 84\n  // 75 is rem to px\n  // return `${(75 * 0.8 * ((Tone.Frequency(noteName).toMidi() - 60) / (84 - 40))) + 0.2}`;\n  // 50 - 110\n  return '' + (75 * 0.8 * ((magic_Tone.Frequency(noteName).toMidi() - 50) / (110 - 40)) + 0.2); // 75 is rem to px\n}\n\nfunction clearTone(parts) {\n  // 本方法只为Tone.js不在各页面中全局污染，完全是作者这包操蛋\n  if (parts && parts.length) {\n    // 传进来值 挨个dispose。。。\n    parts.forEach(function (part) {\n      try {\n        part.dispose();\n      } catch (e) {\n        //\n      }\n    });\n  }\n  if (musicPreview) {\n    // 清理自己的musicPreview\n    try {\n      musicPreview.dispose();\n    } catch (e) {\n      //\n    }\n  }\n}\nfunction preview(items, start) {\n  console.log('current state', magic_Tone.Transport.state);\n  // if (Tone.Transport.state === 'stopped') {\n  if (start) {\n    // TODO: this is weird...but you need to play something to make sure it works\n    // trigger to avoid no sound\n    if (!oncePlayed) {\n      mbox.triggerAttack('E6', 0, 0);\n      oncePlayed = true;\n    }\n    if (musicPreview) {\n      try {\n        musicPreview.dispose();\n      } catch (e) {\n        //\n      }\n    }\n    musicPreview = new magic_Tone.Part(function (time, value) {\n      // mbox.triggerAttackRelease(value.note, '4n', time);\n      mbox.triggerAttackRelease(magic_Tone.Frequency(value.midi, 'midi'), '4n', time);\n    }, items).start(0, 0);\n    musicPreview.loop = true;\n\n    var lastNote = items[items.length - 1];\n    if (lastNote.time >= 20) {\n      musicPreview.loopEnd = lastNote.time + lastNote.duration + 2;\n    } else {\n      musicPreview.loopEnd = 21; // 20s的作品，多一秒喘息\n    }\n    magic_Tone.Transport.start('+0.01', 0);\n  } else {\n    magic_Tone.Transport.stop(0);\n  }\n}\n\nfunction previewMidi(url, start) {\n  MidiConvert.load(url, function (midi) {\n    var mergeNotes = midi.tracks.reduce(function (a, b) {\n      return a.concat(b.notes);\n    }, []);\n    preview(mergeNotes, start);\n  });\n}\n\nfunction canMakePaper30(items) {\n  var paper30Notes = [48, 50, 55, 57, 59, 60, 62, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 86, 88];\n  return items.every(function (item) {\n    return paper30Notes.indexOf(item) >= 0;\n  });\n}\nfunction canMakePaper15(items) {\n  var paper15Notes = [48, 50, 52, 53, 55, 57, 59, 60, 62, 64, 65, 67, 69, 71, 72];\n  return items.every(function (item) {\n    return paper15Notes.indexOf(item) >= 0;\n  });\n}\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar node_modules_axios = __webpack_require__(\"mtWM\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(node_modules_axios);\n\n// EXTERNAL MODULE: ./node_modules/weixin-js-sdk/index.js\nvar weixin_js_sdk = __webpack_require__(\"fxnj\");\nvar weixin_js_sdk_default = /*#__PURE__*/__webpack_require__.n(weixin_js_sdk);\n\n// EXTERNAL MODULE: ./node_modules/assert/assert.js\nvar assert = __webpack_require__(\"N+Om\");\nvar assert_default = /*#__PURE__*/__webpack_require__.n(assert);\n\n// CONCATENATED MODULE: ./src/_common/js/wx_share.js\n\n\n\n\n\nvar wx_share__this = this;\n\n\n\n\n\n\nvar wx_share_reqConfig = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json'\n  }\n};\nvar wx_share_prepareShareConfig = function prepareShareConfig() {\n  return new promise_default.a(function (resolve, reject) {\n    axios_default.a.post('//api.octave-love.com/api/v1/wechat/getTicket?url=' + encodeURIComponent(window.location.href.split('#')[0]), '', wx_share_reqConfig).then(function (res) {\n      // alert(`before # url: ${window.location.href.split('#')[0]}`);\n      // alert(`full path: ${window.location.href}`);\n      // alert(JSON.stringify(res.data.data));\n      weixin_js_sdk_default.a.config({\n        debug: false,\n        appId: res.data.data.appId,\n        timestamp: res.data.data.timestamp,\n        nonceStr: res.data.data.nonceStr,\n        signature: res.data.data.signature,\n        jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'chooseWXPay', 'openAddress']\n      });\n      weixin_js_sdk_default.a.ready(function () {\n        // 配置wx.config成功\n        resolve(weixin_js_sdk_default.a);\n      });\n    }, function () {\n      reject('配置wx.config失败');\n    });\n  });\n};\n\n// 分享配置\nvar wx_share_prepareShareContent = function prepareShareContent(_ref) {\n  var title = _ref.title,\n      desc = _ref.desc,\n      fullPath = _ref.fullPath,\n      imgUrl = _ref.imgUrl;\n\n  // const link = 'http://example.com/static/auth.html' +\n  //              `?redirect_uri=${encodeURIComponent(window.location.href.split('#')[0])}` +\n  //              `&full_path=${encodeURIComponent(fullPath)}`;\n  var link = fullPath;\n  weixin_js_sdk_default.a.onMenuShareTimeline({\n    title: title,\n    link: link,\n    imgUrl: imgUrl,\n    success: function success() {},\n    cancel: function cancel() {}\n  });\n  weixin_js_sdk_default.a.onMenuShareAppMessage({\n    title: title,\n    desc: desc,\n    link: link,\n    imgUrl: imgUrl,\n    success: function success() {},\n    cancel: function cancel() {}\n  });\n};\n\n// order pay\nvar makeWxOrder = function () {\n  var _ref2 = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(_ref3, successCallback, failCalback) {\n    var pid = _ref3.pid,\n        wid = _ref3.wid,\n        amount = _ref3.amount,\n        address = _ref3.address;\n    var addressObj, res, orderId, payResult, params;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // new Promise((resolve, reject) => {\n            //address is \n            //     {\n            //   \"userName\": \"string\",\n            //   \"postalCode\": \"string\",\n            //   \"provinceName\": \"string\",\n            //   \"cityName\": \"string\",\n            //   \"countryName\": \"string\",\n            //   \"detailInfo\": \"string\",\n            //   \"nationalCode\": \"string\",\n            //   \"telNumber\": \"string\"\n            // }\n            console.log('------------');\n            _context.next = 3;\n            return sendAddress(address);\n\n          case 3:\n            addressObj = _context.sent;\n\n            console.log('===========');\n            console.log(addressObj);\n            // return\n            _context.next = 8;\n            return createOrder({ pid: pid, wid: wid, amount: amount, addressId: addressObj.data.data });\n\n          case 8:\n            res = _context.sent;\n\n            // 得到返回的支付参数\n            // alert(JSON.stringify(res));\n            orderId = res.data.data;\n            _context.next = 12;\n            return payOrder({ orderId: orderId });\n\n          case 12:\n            payResult = _context.sent;\n\n            // alert(JSON.stringify(res));\n            params = payResult.data.data;\n            // alert(JSON.stringify(params));\n\n            console.log(params.nonceStr);\n            console.log(params.signType);\n            console.log(params.package);\n            console.log(params.timeStamp);\n            console.log(params.appId);\n            console.log(params.paySign);\n            console.log('sdsd');\n            weixin_js_sdk_default.a.chooseWXPay({\n              // ...params,\n              appId: params.appId,\n              timestamp: params.timeStamp,\n              nonceStr: params.nonceStr,\n              package: params.package,\n              signType: params.signType,\n              paySign: params.paySign,\n              success: function success(res) {\n                console.log(res);\n                // resolve(res);\n                successCallback(res);\n              },\n              fail: function fail() {\n                failCalback();\n              },\n              cancel: function cancel() {\n                failCalback();\n              }\n            });\n\n          case 22:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, wx_share__this);\n  }));\n\n  return function makeWxOrder(_x, _x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n// });\n\nvar wx_share_createAddress = function createAddress(cb1, cb2) {\n  weixin_js_sdk_default.a.openAddress({\n    success: function success(res) {\n      cb1(res);\n    },\n    cancel: function cancel() {\n      cb2();\n    }\n  });\n};\n// address\nvar wx_share_newMakeWxOrder = function newMakeWxOrder(_ref4, cb1, cb2) {\n  var pid = _ref4.pid,\n      wid = _ref4.wid,\n      amount = _ref4.amount;\n\n  console.log(res);\n  createOrder({ pid: pid, wid: wid, amount: amount, address: res }).then(function (res) {\n    var orderId = res.data.data;\n    payOrder({ orderId: orderId }).then(function (res) {\n      // alert(JSON.stringify(res));\n      var params = res.data.data;\n      alert(stringify_default()(params));\n      console.log(params.nonceStr);\n      console.log(params.signType);\n      console.log(params.package);\n      console.log(params.timeStamp);\n      console.log(params.appId);\n      console.log(params.paySign);\n      console.log('1234');\n      weixin_js_sdk_default.a.chooseWXPay({\n        // ...params,\n        appId: params.appId,\n        timestamp: params.timeStamp,\n        nonceStr: params.nonceStr,\n        package: params.package,\n        signType: params.signType,\n        paySign: params.paySign,\n        success: function success(res) {\n          console.log(res);\n          cb1(res);\n        },\n        fail: function fail() {\n          cb2();\n        },\n        cancel: function cancel() {\n          cb2();\n        }\n      });\n    });\n  });\n};\n\nvar wx_share_getAddress = function getAddress() {\n  new promise_default.a(function (resolve, reject) {\n    weixin_js_sdk_default.a.openAddress({\n      success: function success(res) {\n        console.log(res);\n        resolve(res);\n      },\n      cancel: function cancel() {\n        reject();\n      }\n    });\n  });\n};\n// 调用分享\n// $_wechat().config().then((res) => {\n//   $_wechat().share({ // 配置分享\n//     title: 'wechat-spa',\n//     desc: 'Wechat SPA',\n//     fullPath: '/home/index',\n//     imgUrl: 'https://www.baidu.com/img/bd_logo1.png',\n//   });\n// }, (err) => {\n//   console.warn(err);\n// });\n// EXTERNAL MODULE: ./node_modules/vue-slider-component/dist/index.js\nvar dist = __webpack_require__(\"GDE4\");\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// EXTERNAL MODULE: ./node_modules/vue-awesome-swiper/dist/vue-awesome-swiper.js\nvar vue_awesome_swiper = __webpack_require__(\"7QTg\");\nvar vue_awesome_swiper_default = /*#__PURE__*/__webpack_require__.n(vue_awesome_swiper);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/NMBMaker.vue\n\n\n\n\n\n\n\n\n\n\nvar NMBMaker_Tone = __webpack_require__(\"ZnLv\");\nvar touchIdKeyMap = {}; // touch move can have several threads, each thread only activate one note at most\n// e.g. {0:a4,1:b5}\n\nvar MINI_KEY_LENGTH = 200; // px\nvar extendBtnsTimeout = void 0;\n\nvar piano = new NMBMaker_Tone.Sampler({\n  C4: \"C4.[mp3|ogg]\",\n  \"D#4\": \"Ds4.[mp3|ogg]\",\n  \"F#4\": \"Fs4.[mp3|ogg]\",\n  A4: \"A4.[mp3|ogg]\",\n  C5: \"C5.[mp3|ogg]\",\n  \"D#5\": \"Ds5.[mp3|ogg]\",\n  \"F#5\": \"Fs5.[mp3|ogg]\",\n  A5: \"A5.[mp3|ogg]\",\n  C6: \"C6.[mp3|ogg]\"\n}, {\n  release: 1,\n  // 'baseUrl': '/static/audio/'\n  baseUrl: \"//cnbj1.fds.api.xiaomi.com/mbox/audio/\"\n}).toMaster();\n\n// var plucky = new Tone.PluckSynth().toMaster()\n\nvar SCREEN_WIDTH = document.documentElement.getBoundingClientRect().width;\nvar SCREEN_HEIGHT = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nvar tonepart = []; // store all the music parts. (ummm,that's why it's named part...)\nvar bouncepart = [];\n\nvar recordStartTime = 0;\n\nvar isLinger = true; // 非播放状态中未开始录音\nvar replayInterval = void 0; // 控制progressbar的setinterval\nvar playOffset = 0; // 播放状态的拉条bar初始时间记录\nvar lingerOffset = 0; // 未播放状态的拉条bar初始时间记录\nvar PROGRESS_INTERVAL_TIME = 0.1; // 0.1秒挪一下\nvar tutorOnceEnter = false;\nvar tutorTimeout = [];\n/* harmony default export */ var NMBMaker = ({\n  components: {\n    swiper: vue_awesome_swiper[\"swiper\"],\n    swiperSlide: vue_awesome_swiper[\"swiperSlide\"],\n    vueSlider: dist_default.a\n  },\n  props: [\"screenOrientation\"],\n  data: function data() {\n    return {\n      portraitMode: true,\n      activeNote: {},\n      recordPart: [], // current record part\n      recordParts: [], // each new record goes in here.\n      playing: false,\n      generalControllerShow: false,\n      activeSwiperIndex: 3,\n      lastActiveSwiperIndex: 3 - 1,\n      vuetimeline: 0,\n      showExtendBtns: false,\n      alertAppear: false,\n      bouncing: false,\n      tutorSession: 0,\n      handClass: \"\", // hand or clickhand\n      tutorClass: \"\", // hand positioning in different session\n      timelineConfig: {\n        value: 0,\n        width: 8,\n        height: window.screen.height * 0.9 - 20 + \"px\",\n        padding: \"0\",\n        dotSize: 20,\n        eventType: \"auto\",\n        min: 0,\n        max: 200,\n        interval: 1,\n        disabled: false,\n        show: true,\n        tooltip: \"always\",\n        // tooltip: 'hidden',\n        piecewise: false,\n        reverse: true,\n        style: {\n          display: \"inline-block\"\n        },\n        class: \"star-slider\",\n        direction: \"vertical\",\n        speed: PROGRESS_INTERVAL_TIME,\n        bgStyle: {\n          backgroundColor: \"rgb(110,113,158)\",\n          boxShadow: \"inset 0.5px 0.5px 3px 1px rgba(0,0,0,.36)\"\n        },\n        tooltipDir: \"left\",\n        tooltipStyle: {\n          backgroundColor: \"rgb(69, 106, 255)\",\n          borderColor: \"rgb(69, 106, 255)\",\n          transform: \"rotate(90deg)\",\n          transformOrigin: \"right\",\n          position: \"relative\",\n          left: \"-.2rem\",\n          top: \"0.9rem\"\n        },\n        formatter: function formatter(value) {\n          if (value) {\n            return (value / 10).toFixed(1) + \"s/20s\";\n          }\n          return \"0.0s/20s\";\n        },\n\n        processStyle: {\n          backgroundColor: \"rgb(69,106,255)\"\n        }\n      }\n    };\n  },\n\n  watch: {\n    playing: function playing(val) {\n      var _this = this;\n\n      console.log(\"playing status\", val);\n      if (val) {\n        //start progress bar\n        replayInterval = setInterval(function () {\n          _this.vuetimeline += 1;\n          if (_this.vuetimeline >= 200) {\n            _this.toggleReplay();\n            _this.vuetimeline = 0;\n          }\n        }, PROGRESS_INTERVAL_TIME * 1000);\n      } else {\n        //stop progress bar\n        clearInterval(replayInterval);\n      }\n    },\n    screenOrientation: function screenOrientation() {\n      var _this2 = this;\n\n      console.log('update');\n      this.$nextTick(function () {\n        return _this2.$refs.timeline.refresh();\n      });\n    }\n  },\n  computed: {\n    swiper: function swiper() {\n      return this.$refs.pianoRoll.swiper;\n    },\n    activePartIndex: function activePartIndex() {\n      return this.PARTNUM - this.activeSwiperIndex - 1;\n    },\n    lastActivePartIndex: function lastActivePartIndex() {\n      return this.PARTNUM - this.lastActiveSwiperIndex - 1;\n    }\n  },\n  methods: {\n    load: function load() {},\n    toggleReplay: function toggleReplay() {\n      console.log(1);\n      this.playing = !this.playing;\n      if (this.playing) {\n        if (this.vuetimeline >= 200) {\n          this.vuetimeline = 0;\n        }\n        // this.confirmRecordPart(!isLinger)\n        playOffset = performance.now() - this.vuetimeline * 100;\n        console.log(\"播放开始\");\n        this.confirmRecordPart(0);\n        console.log(\"kokokoko\");\n        recordStartTime = performance.now();\n        console.log(\"activeOffsetTime\" + this.vuetimeline * 100);\n        NMBMaker_Tone.Transport.start(\"+0.01\", this.vuetimeline * 100 / 1000); // TODO:有问题in case < context.currentTime\n      } else {\n        console.log(\"播放停了\");\n        NMBMaker_Tone.Transport.stop(0); // TODO：必须stop才能start。。。有没有自动stop啊..\n        // recordStartTime = performance.now()\n      }\n    },\n    handleNoteStart: function handleNoteStart(noteId) {\n      var noteTime = 0;\n      // console.log('down', e.target.id)\n      piano.triggerAttack(noteId);\n      // console.log('midi no. :', Tone.Frequency(noteId).toMidi())\n      this.$set(this.activeNote, noteId, 1);\n      if (!this.playing) {\n        if (isLinger) {\n          recordStartTime = performance.now();\n          lingerOffset = this.vuetimeline * 100;\n          isLinger = false;\n        }\n        noteTime = performance.now() - recordStartTime + lingerOffset;\n      } else {\n        noteTime = performance.now() - playOffset;\n        // noteTime = this.vuetimeline * 100\n        // console.log('1', this.vuetimeline * 100)\n        // console.log('2', performance.now() - recordStartTime + this.vuetimeline*100)\n      }\n      if (noteTime < 20000) {\n        this.vuetimeline = 10 * noteTime / 1000;\n        this.recordPart.push({\n          note: noteId,\n          time: +(noteTime / 1000).toFixed(4)\n        });\n      } else {\n        this.vuetimeline = 20 * 10; // 颗粒度是0.1s => 200份\n        console.log(\"cannot record more than 20 seconds\");\n      }\n    },\n    handleNoteEnd: function handleNoteEnd(noteId) {\n      piano.triggerRelease(noteId);\n      this.$set(this.activeNote, noteId, 0);\n    },\n    touchNoteStartHandler: function touchNoteStartHandler(e) {\n      console.log(e);\n      // 先存起来，防止在该键位touchmove重复\n      touchIdKeyMap[e.changedTouches[0].identifier] = e.target.id; // TODO: 猜测 touchstart只会有一个changetouches///\n      this.handleNoteStart(e.target.id);\n    },\n    touchNoteEndHandler: function touchNoteEndHandler(e) {\n      this.handleNoteEnd(e.target.id);\n      this.handleNoteEnd(touchIdKeyMap[e.changedTouches[0].identifier]); // TODO: 猜测 touchend只会有一个changetouches,记录的正好是该停的\n    },\n    confirmRecordPart: function confirmRecordPart(shouldClearTime) {\n      if (this.recordPart.length) {\n        console.log(\"processing track: \", this.lastActivePartIndex);\n        if (this.recordParts[this.lastActivePartIndex] && this.recordParts[this.lastActivePartIndex].length) {\n          // 已在该track录过,merge both\n          this.recordPart = this.recordPart.concat(this.recordParts[this.lastActivePartIndex]);\n        }\n        if (tonepart[this.lastActivePartIndex]) {\n          try {\n            tonepart[this.lastActivePartIndex].dispose(); // 覆盖之前的需要dispose\n          } catch (e) {}\n        }\n        tonepart[this.lastActivePartIndex] = new NMBMaker_Tone.Part(function (time, value) {\n          // 不能老这new啊，要每次一个数组，每次改动最后一个\n          piano.triggerAttackRelease(value.note, \"8n\", time);\n        }, this.recordPart).start(0);\n        this.recordParts[this.lastActivePartIndex] = this.recordPart;\n        this.recordPart = [];\n      } else {\n        console.log(\"啥也没录\");\n      }\n      this.lastActiveSwiperIndex = this.activeSwiperIndex;\n      // reinit time\n      if (shouldClearTime) {\n        this.vuetimeline = 0; // this is kind of separate for progress view\n        recordStartTime = 0;\n      }\n      isLinger = true;\n    },\n    clearRecordPart: function clearRecordPart(trackNum) {\n      console.log(\"cleaning track \" + trackNum);\n      if (this.activePartIndex === trackNum) {\n        this.recordPart = [];\n        this.vuetimeline = 0;\n        isLinger = true;\n        this.playing = false;\n        NMBMaker_Tone.Transport.stop(0);\n      }\n      if (this.recordParts[trackNum] && this.recordParts[trackNum].length) {\n        this.$set(this.recordParts, trackNum, []);\n        if (tonepart[trackNum]) {\n          try {\n            tonepart[trackNum].dispose(); // dispose掉\n          } catch (e) {}\n          tonepart[trackNum] = undefined; // 同时要从数组中删掉\n        }\n      } else {\n        console.log(\"track \" + trackNum + \" has no content\");\n      }\n    },\n    checkBouncibility: function checkBouncibility() {\n      this.confirmRecordPart(0);\n      bouncepart = [];\n      if (tonepart.length) {\n        tonepart.forEach(function (item) {\n          if (item && item._events.length && item._events[0].value) {\n            item._events.forEach(function (noteInfo) {\n              bouncepart.push(noteInfo.value);\n            });\n          }\n        });\n        bouncepart.sort(function (a, b) {\n          return 0 + a.time - b.time;\n        });\n        return RealMagic(bouncepart);\n      }\n      return true;\n    },\n    bounceProject: function bounceProject() {\n      var _this3 = this;\n\n      this.confirmRecordPart(0);\n      console.log(this);\n      console.log(tonepart);\n      bouncepart = [];\n      if (tonepart.length) {\n        tonepart.forEach(function (item) {\n          if (item && item._events.length && item._events[0].value) {\n            item._events.forEach(function (noteInfo) {\n              bouncepart.push(noteInfo.value);\n            });\n          }\n        });\n        bouncepart.sort(function (a, b) {\n          return 0 + a.time - b.time;\n        });\n        // TODO, semi done\n        this.bouncing = true;\n        this.$store.dispatch(\"BOUNCE_PROJECT\", {\n          record: bouncepart,\n          info: {\n            title: \"尚未起名\",\n            content: \"default\",\n            cover: \"default\"\n          }\n        }).then(function (id) {\n          console.log(\"successfully bounced\");\n          _this3.bouncing = false;\n          _this3.$toast(\"作品已为您存储\");\n          _this3.$router.push({\n            path: \"/new-music-box-viewer\",\n            query: {\n              id: id\n            }\n          });\n        }).catch(function (err) {\n          _this3.bouncing = false;\n          _this3.$toast(\"非常抱歉，上传作品失败了\");\n        });\n      } else {\n        this.$toast(\"什么都没录呢\");\n      }\n    },\n    mapNoteTimeToColor: function mapNoteTimeToColor(t) {\n      return magic_mapNoteTimeToColor(t);\n    },\n    mapNoteMidiToLength: function mapNoteMidiToLength(m) {\n      return magic_mapNoteMidiToLength(m);\n    },\n    adjustTimeline: function adjustTimeline(e) {\n      if (this.playing) {\n        console.log(\"ccccccccc\");\n        this.toggleReplay(); // 现在播放中拉条，直接停，涉及到ref读不到最新值貌似，无法直接继续播放 this is TODO\n      } else {\n        isLinger = true; // 你拉条了肯定是\n      }\n    },\n    onMiniKeyboardScroll: function onMiniKeyboardScroll(e) {\n      console.log(e.touches[0].clientY);\n    },\n    onMiniKeyboardStart: function onMiniKeyboardStart(e) {\n      console.log(e);\n    },\n    keng: function keng(e) {\n      // console.log(e)\n      // console.log(document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY).style.backgroundColor=\"yellow\")\n      console.log(e); // e.touches is array like object\n      for (var i = 0; i <= e.changedTouches.length - 1; i++) {\n        var a = document.elementFromPoint(e.changedTouches[i].clientX, e.changedTouches[i].clientY);\n        if (a.classList.contains(\"white\") || a.classList.contains(\"black\")) {\n          if (touchIdKeyMap[e.changedTouches[i].identifier] && touchIdKeyMap[e.changedTouches[i].identifier] != a.getAttribute(\"id\")) {\n            // 这个touch已经触发，且和当前不一致\n            console.log(touchIdKeyMap);\n            this.handleNoteStart(a.getAttribute(\"id\"));\n            this.handleNoteEnd(touchIdKeyMap[e.changedTouches[i].identifier]);\n            touchIdKeyMap[e.changedTouches[i].identifier] = a.getAttribute(\"id\");\n          } else if (!touchIdKeyMap[e.changedTouches[i].identifier]) {\n            console.log(2);\n            this.handleNoteStart(a.getAttribute(\"id\"));\n            touchIdKeyMap[e.changedTouches[i].identifier] = a.getAttribute(\"id\");\n          } else {\n            console.log(3);\n            // 新旧相同什么都不做\n          }\n        } else {\n          console.log(\"外边\");\n          if (touchIdKeyMap[e.changedTouches[i].identifier]) {\n            this.handleNoteEnd(touchIdKeyMap[e.changedTouches[i].identifier]);\n          }\n          touchIdKeyMap[e.changedTouches[i].identifier] = undefined;\n        }\n      }\n    },\n    btnStart: function btnStart(e) {\n      var _this4 = this;\n\n      console.log(e);\n      extendBtnsTimeout = setTimeout(function () {\n        // show extend buttons\n        _this4.showExtendBtns = true;\n      }, 200);\n    },\n    btnEnd: function btnEnd(e) {\n      // console.log(e)\n      clearTimeout(extendBtnsTimeout);\n      var a = document.elementFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\n      console.log(a);\n      if (a && a.classList.contains(\"bounceBtn\")) {\n        // 导出\n        if (this.checkBouncibility()) {\n          this.bounceProject();\n        } else {\n          this.alertAppear = true;\n        }\n      } else if (a && (a.classList.contains(\"playBtn\") || a.classList.contains(\"pauseBtn\"))) {\n        // 播放\n        this.toggleReplay();\n        this.showExtendBtns = false;\n      } else if (a && (a.classList.contains(\"playBtn\") || a.classList.contains(\"cancelBtn\"))) {\n        // hide extend buttons\n        this.showExtendBtns = false;\n      }\n    },\n    tutorStart: function tutorStart() {\n      // 0未开始，1黑屏,2键盘，3track，4时间线，5播放,\n      this.tutorSession = 1;\n      this.$toast(\"请锁住竖屏使用\");\n      tutorOnceEnter = setTimeout(this.tutorProgress, 3000);\n      // setTimeout(()=>{this.tutorSession=2},3000)\n      // setTimeout(()=>{this.tutorSession=3;this.swiper.slidePrev()},5000)\n      // setTimeout(()=>{this.swiper.slideNext()},7000)\n      // setTimeout(()=>{this.tutorSession=4},8500)\n      // setTimeout(()=>{this.vuetimeline=120},9500)\n      // setTimeout(()=>{this.vuetimeline=0},10500)\n      // setTimeout(()=>{this.tutorSession=5},12000)\n      // setTimeout(()=>{this.showExtendBtns = true},13000)\n      // setTimeout(()=>{this.showExtendBtns=false},15000)\n      // setTimeout(()=>{this.tutorSession=0},16000)\n    },\n    tutorProgress: function tutorProgress() {\n      var _this5 = this;\n\n      clearTimeout(tutorOnceEnter);\n      console.log(\"??????????\");\n      this.tutorSession += 1;\n      console.log(this.tutorSession);\n      switch (this.tutorSession) {\n        case 1:\n          this.clearTutorTimeout();\n          this.$toast(\"请锁住竖屏使用,长按播放按钮保存作品\");\n          break;\n        case 2:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor2start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"clickhand\"; // clickhand\n            _this5.tutorClass = \"tutor2end\";\n          }, 500));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.vuetimeline = 120;\n            _this5.handClass = \"hand\";\n          }, 1500));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.vuetimeline = 0;\n            _this5.handClass = \"hidehand\";\n          }, 2500));\n          break;\n        case 3:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor3start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"clickhand\"; // clickhand\n            _this5.tutorClass = \"tutor3end\";\n          }, 500));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"hand\"; // clickhand\n            _this5.tutorClass = \"tutor3end\";\n          }, 800));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"hidehand\";\n          }, 1000));\n          break;\n        case 4:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor4start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"clickhand\"; // clickhand\n            _this5.tutorClass = \"tutor4end\";\n          }, 500));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"hand\"; // clickhand\n            _this5.tutorClass = \"tutor4start\";\n            _this5.showExtendBtns = true;\n          }, 1500));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"hidehand\";\n          }, 2500));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.showExtendBtns = false;\n          }, 3000));\n          break;\n        case 5:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor5start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"clickhand\"; // clickhand\n            _this5.tutorClass = \"tutor5end\";\n          }, 1200));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.swiper.slidePrev();\n          }, 1500));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.swiper.slideNext();\n            _this5.handClass = \"hidehand\";\n          }, 2500));\n          break;\n        case 6:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor6start\";\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"clickhand\"; // clickhand\n            _this5.tutorClass = \"tutor6end\";\n          }, 500));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"hand\"; // clickhand\n            _this5.tutorClass = \"tutor6end\";\n          }, 800));\n          tutorTimeout.push(setTimeout(function () {\n            _this5.handClass = \"hidehand\";\n          }, 1500));\n          break;\n        default:\n          this.tutorSession = 0;\n          break;\n      }\n    },\n    clearTutorTimeout: function clearTutorTimeout() {\n      this.showExtendBtns = false;\n      tutorTimeout.forEach(function (v) {\n        return clearTimeout(v);\n      });\n      tutorTimeout = [];\n    }\n  },\n  created: function created() {\n    // check cookie to get serviceToken first\n    // if stoken not exist, go auth\n\n    var self = this;\n    NMBMaker_Tone.Transport.cancel();\n    tonepart = [];\n    bouncepart = [];\n    // this is very important\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    this.PARTNUM = 3;\n    this.pianoRollSwiperOption = {\n      initialSlide: this.PARTNUM,\n      // centeredSlides: true,\n      slidesPerView: 3,\n      on: {\n        // slideChange(e){\n        //   console.log('1',e)\n        // },\n        // slideNextTransitionStart(e) {\n        //   console.log('2',e)\n        // },\n        transitionEnd: function transitionEnd(e) {\n          console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          self.activeSwiperIndex = this.activeIndex;\n          self.confirmRecordPart(!isLinger);\n        }\n      }\n    };\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    // alert(Cookies.get('serviceToken'))\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"寻找你自己的八音盒\",\n        fullPath: \"\" + location.origin + location.pathname + \"#/new-music-box-maker\",\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      // TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n          // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(location.origin + location.pathname + \"#/new-music-box-maker\") + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        // alert(`welcome${res.data.data.realname}`)\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\n        // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n        // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n        \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(location.origin + location.pathname + \"#/new-music-box-maker\") + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      // 又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n      // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n      // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n      \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(location.origin + location.pathname + \"#/new-music-box-maker\") + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone(tonepart);\n    next();\n  },\n  mounted: function mounted() {\n    // this.startRecord();\n    // pointer events以后可以使用\n    this.tutorStart();\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e5d6830\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NMBMaker.vue\nvar NMBMaker_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}},[_c('div',{class:['keys',_vm.tutorSession===8?'tutorial-highlight':''],on:{\"touchmove\":_vm.keng,\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.touchNoteStartHandler($event)},\"touchend\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"event\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.touchNoteEndHandler($event)}}},[_c('div',{class:['white', 'c', _vm.activeNote.C4?'active-note':''],attrs:{\"id\":\"C4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db4?'active-note':''],attrs:{\"id\":\"Db4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D4?'active-note':''],attrs:{\"id\":\"D4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb4?'active-note':''],attrs:{\"id\":\"Eb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E4?'active-note':''],attrs:{\"id\":\"E4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F4?'active-note':''],attrs:{\"id\":\"F4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'f-sharp', _vm.activeNote.Gb4?'active-note':''],attrs:{\"id\":\"Gb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'g', _vm.activeNote.G4?'active-note':''],attrs:{\"id\":\"G4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'a-minor', _vm.activeNote.Ab4?'active-note':''],attrs:{\"id\":\"Ab4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'a', _vm.activeNote.A4?'active-note':''],attrs:{\"id\":\"A4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'b-minor', _vm.activeNote.Bb4?'active-note':''],attrs:{\"id\":\"Bb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'b', _vm.activeNote.B4?'active-note':''],attrs:{\"id\":\"B4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'c', _vm.activeNote.C5?'active-note':''],attrs:{\"id\":\"C5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db5?'active-note':''],attrs:{\"id\":\"Db5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D5?'active-note':''],attrs:{\"id\":\"D5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb5?'active-note':''],attrs:{\"id\":\"Eb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E5?'active-note':''],attrs:{\"id\":\"E5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F5?'active-note':''],attrs:{\"id\":\"F5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'f-sharp', _vm.activeNote.Gb5?'active-note':''],attrs:{\"id\":\"Gb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'g', _vm.activeNote.G5?'active-note':''],attrs:{\"id\":\"G5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'a-minor', _vm.activeNote.Ab5?'active-note':''],attrs:{\"id\":\"Ab5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'a', _vm.activeNote.A5?'active-note':''],attrs:{\"id\":\"A5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'b-minor', _vm.activeNote.Bb5?'active-note':''],attrs:{\"id\":\"Bb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'b', _vm.activeNote.B5?'active-note':''],attrs:{\"id\":\"B5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'c', _vm.activeNote.C6?'active-note':''],attrs:{\"id\":\"C6\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db6?'active-note':''],attrs:{\"id\":\"Db6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D6?'active-note':''],attrs:{\"id\":\"D6\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb6?'active-note':''],attrs:{\"id\":\"Eb6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E6?'active-note':''],attrs:{\"id\":\"E6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F6?'active-note':''],attrs:{\"id\":\"F6\"}})]),_vm._v(\" \"),_c('div',{class:['keyshadow',_vm.tutorSession===8?'tutorial-highlight':'']}),_vm._v(\" \"),_c('div',{staticClass:\"scroll-container\"}),_vm._v(\" \"),_c('div',{staticClass:\"semi-piano-roll\",class:[(_vm.tutorSession===5||_vm.tutorSession===6)?'tutorial-highlight':''],on:{\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('swiper',{ref:\"pianoRoll\",attrs:{\"options\":_vm.pianoRollSwiperOption}},[_vm._l((_vm.PARTNUM),function(n){return _c('swiper-slide',[_c('div',{staticClass:\"current-piano-roll\"},[_c('svg',{style:({height:'90%',padding:_vm.timelineConfig.dotSize/2+'px 0'})},[_c('defs',[_c('filter',{attrs:{\"id\":\"glowing\",\"height\":\"400%\",\"width\":\"130%\",\"x\":\"-10%\",\"y\":\"-130%\"}},[_c('feMorphology',{attrs:{\"operator\":\"dilate\",\"radius\":\"1\",\"in\":\"SourceAlpha\",\"result\":\"thicken\"}}),_vm._v(\" \"),_c('feGaussianBlur',{attrs:{\"in\":\"thicken\",\"stdDeviation\":\"2\",\"result\":\"blurred\"}}),_vm._v(\" \"),_c('feFlood',{attrs:{\"flood-color\":\"rgb(200,200,255)\",\"result\":\"glowColor\"}}),_vm._v(\" \"),_c('feComposite',{attrs:{\"in\":\"glowColor\",\"in2\":\"blurred\",\"operator\":\"in\",\"result\":\"softGlow_colored\"}}),_vm._v(\" \"),_c('feMerge',[_c('feMergeNode',{attrs:{\"in\":\"softGlow_colored\"}}),_vm._v(\" \"),_c('feMergeNode',{attrs:{\"in\":\"SourceGraphic\"}})],1)],1)]),_vm._v(\" \"),_vm._l((_vm.recordPart),function(item,index){return (_vm.activePartIndex===(_vm.PARTNUM-n))?_c('rect',{attrs:{\"x\":2,\"y\":100*item.time/20 + '%',\"width\":_vm.mapNoteMidiToLength(item.note),\"height\":\"3\",\"rx\":\"2\",\"ry\":\"2\",\"fill\":_vm.mapNoteTimeToColor(item.time),\"filter\":\"url(#glowing)\"}}):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.recordParts[_vm.PARTNUM-n]),function(item,index){return _c('rect',{attrs:{\"x\":2,\"y\":100*item.time/20 + '%',\"width\":_vm.mapNoteMidiToLength(item.note),\"height\":\"3\",\"rx\":\"2\",\"ry\":\"2\",\"fill\":_vm.activePartIndex===(_vm.PARTNUM-n)?_vm.mapNoteTimeToColor(item.time):'rgb(120,120,120)',\"filter\":_vm.activePartIndex===(_vm.PARTNUM-n)?'url(#glowing)':''}})})],2),_vm._v(\" \"),_c('div',{staticClass:\"temp\",on:{\"click\":function($event){_vm.clearRecordPart(_vm.PARTNUM-n)}}})])])}),_vm._v(\" \"),_c('swiper-slide'),_vm._v(\" \"),_c('swiper-slide')],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"g-controller\"},[_c('vue-slider',_vm._b({ref:\"timeline\",class:[_vm.tutorSession===2?'tutorial-highlight':''],attrs:{\"show\":_vm.screenOrientation==='portrait'},on:{\"callback\":_vm.adjustTimeline,\"drag-end\":function($event){}},model:{value:(_vm.vuetimeline),callback:function ($$v) {_vm.vuetimeline=$$v},expression:\"vuetimeline\"}},'vue-slider',_vm.timelineConfig,false)),_vm._v(\" \"),_c('div',{staticClass:\"btnContainer\",class:[(_vm.tutorSession===3||_vm.tutorSession===4)?'tutorial-highlight':''],on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.btnStart($event)},\"touchend\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"event\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.btnEnd($event)}}},[_c('div',{class:[_vm.playing?'pauseBtn':'playBtn', 'rotate'],on:{\"click\":_vm.toggleReplay}}),_vm._v(\" \"),_c('div',{class:[_vm.showExtendBtns?'extendBtnsShow':'extendBtnsHide','extendBtns']},[_c('div',{staticClass:\"bounceBtn rotate\"}),_vm._v(\" \"),_c('div',{staticClass:\"cancelBtn\"})])])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear),expression:\"alertAppear\"}],attrs:{\"id\":\"alert-mask\"}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"减少些音符才能做成音乐盒，是否继续上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear=false}}},[_vm._v(\"再调整\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.bounceProject}},[_vm._v(\"任性上传\")])])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bouncing),expression:\"bouncing\"}],staticClass:\"mask\"},[_c('p',[_vm._v(\"存储中...\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession>0),expression:\"tutorSession>0\"}],staticClass:\"hint-mask\",attrs:{\"id\":\"tutorial-mask\"},on:{\"touchend\":_vm.tutorProgress}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===2),expression:\"tutorSession===2\"}],staticClass:\"hint-text\",attrs:{\"id\":\"timeline-hint\"}},[_c('h3',[_vm._v(\"进度条\")]),_vm._v(\" \"),_c('p',[_vm._v(\"拖动原点改变时间\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===3),expression:\"tutorSession===3\"}],staticClass:\"hint-text\",attrs:{\"id\":\"play-hint\"}},[_c('h3',[_vm._v(\"功能按钮\")]),_vm._v(\" \"),_c('p',[_vm._v(\"点击播放/暂停\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===4),expression:\"tutorSession===4\"}],staticClass:\"hint-text\",attrs:{\"id\":\"longpress-hint\"}},[_c('h3',[_vm._v(\"功能按钮\")]),_vm._v(\" \"),_c('p',[_vm._v(\"长按后点击：保存/取消\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===5),expression:\"tutorSession===5\"}],staticClass:\"hint-text\",attrs:{\"id\":\"swipe-hint\"}},[_c('h3',[_vm._v(\"多轨编曲\")]),_vm._v(\" \"),_c('p',[_vm._v(\"上下滑动切换轨道编曲\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===6),expression:\"tutorSession===6\"}],staticClass:\"hint-text\",attrs:{\"id\":\"clear-hint\"}},[_c('h3',[_vm._v(\"多轨编曲\")]),_vm._v(\" \"),_c('p',[_vm._v(\"清空轨道\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.handClass!='hidehand'),expression:\"handClass!='hidehand'\"}],class:[_vm.tutorClass],attrs:{\"id\":\"tutorhand\"}},[_c('div',{class:[_vm.handClass]})])],1)}\nvar NMBMaker_staticRenderFns = []\nvar NMBMaker_esExports = { render: NMBMaker_render, staticRenderFns: NMBMaker_staticRenderFns }\n/* harmony default export */ var components_NMBMaker = (NMBMaker_esExports);\n// CONCATENATED MODULE: ./src/components/NMBMaker.vue\nfunction NMBMaker_injectStyle (ssrContext) {\n  __webpack_require__(\"MTF5\")\n}\nvar NMBMaker_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NMBMaker___vue_template_functional__ = false\n/* styles */\nvar NMBMaker___vue_styles__ = NMBMaker_injectStyle\n/* scopeId */\nvar NMBMaker___vue_scopeId__ = \"data-v-4e5d6830\"\n/* moduleIdentifier (server only) */\nvar NMBMaker___vue_module_identifier__ = null\nvar NMBMaker_Component = NMBMaker_normalizeComponent(\n  NMBMaker,\n  components_NMBMaker,\n  NMBMaker___vue_template_functional__,\n  NMBMaker___vue_styles__,\n  NMBMaker___vue_scopeId__,\n  NMBMaker___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_NMBMaker = (NMBMaker_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/countButton.vue\n\n/* harmony default export */ var countButton = ({\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String,\n    onClickCall: {\n      type: Function,\n      default: function _default() {\n        return function () {\n          console.log('tap tap in count Button');\n        };\n      }\n    }\n  },\n  computed: {\n    style: function style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    }\n  },\n  data: function data() {\n    return {\n      currentActiveCount: 0,\n      currentActive: false\n    };\n  },\n\n  watch: {},\n  created: function created() {\n    this.currentActive = this.initActive;\n    this.currentActiveCount = this.currentActive ? this.initCount : this.initCount + 1;\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    updateButton: function updateButton() {\n      // if (this.currentActive) {\n      //   this.currentActiveCount -= 1;\n      // } else {\n      //   this.currentActiveCount += 1;\n      // }\n      this.currentActive = !this.currentActive;\n      this.onClickCall();\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e8cb9b0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/countButton.vue\nvar countButton_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btnContainer\",on:{\"click\":_vm.updateButton}},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentActive),expression:\"currentActive\"}],staticClass:\"active-btn-background\"})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slideDown\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentActive),expression:\"currentActive\"}],staticClass:\"btn active\"},[_c('div',{}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.currentActiveCount))])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slideUp\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.currentActive),expression:\"!currentActive\"}],staticClass:\"btn inactive\"},[_c('div',{}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.currentActiveCount-1))])])])],1)}\nvar countButton_staticRenderFns = []\nvar countButton_esExports = { render: countButton_render, staticRenderFns: countButton_staticRenderFns }\n/* harmony default export */ var common_countButton = (countButton_esExports);\n// CONCATENATED MODULE: ./src/components/common/countButton.vue\nfunction countButton_injectStyle (ssrContext) {\n  __webpack_require__(\"YKqf\")\n}\nvar countButton_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar countButton___vue_template_functional__ = false\n/* styles */\nvar countButton___vue_styles__ = countButton_injectStyle\n/* scopeId */\nvar countButton___vue_scopeId__ = \"data-v-2e8cb9b0\"\n/* moduleIdentifier (server only) */\nvar countButton___vue_module_identifier__ = null\nvar countButton_Component = countButton_normalizeComponent(\n  countButton,\n  common_countButton,\n  countButton___vue_template_functional__,\n  countButton___vue_styles__,\n  countButton___vue_scopeId__,\n  countButton___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_countButton = (countButton_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/NMBViewer.vue\n\n// window.Tone = require('tone')\n\n\n\n\n\n\n\n// const musicPart;\n\n/* harmony default export */ var NMBViewer = ({\n  components: {\n    countButton: components_common_countButton\n  },\n  data: function data() {\n    return {\n      // playing: false,\n      loading: true,\n      workIntroAppear: false,\n      controlPanalAppear: false,\n      titleUpdateAppear: false,\n      playing: false,\n      userId: 0,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\"\n    };\n  },\n\n  computed: {\n    project: function project() {\n      return this.$store.state.recordProject;\n    },\n    projectInfo: function projectInfo() {\n      return this.$store.state.recordProjectInfo;\n    }\n  },\n  methods: {\n    load: function load() {},\n    loadMusicById: function loadMusicById() {\n      var _this = this;\n\n      alert(2);\n      console.log(\"hehe\", this.$store.state);\n      var id = this.$store.state.route.query.id;\n\n      if (id) {\n        // 从id取作品\n        console.log(\"mmm\", id);\n        this.$store.dispatch(\"FETCH_MBOX\", { id: id }).then(function () {\n          console.log(\"workPart\", _this.project);\n          console.log(\"work info\", _this.projectInfo);\n          _this.favStatus = _this.projectInfo.favStatus;\n          // alert('load complete');\n          // this.togglePlay();\n          var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + _this.$store.state.route.query.id;\n          wx_share_prepareShareContent({\n            title: \"MUSIXISE\",\n            desc: \"\\u6765\\u542C\" + _this.projectInfo.userVO.realname + \"\\u7684\\u4F5C\\u54C1-\" + _this.projectInfo.title,\n            // fullPath:location.href.split('#')[0],\n            fullPath: fullPath,\n            imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n          });\n        });\n      } else {\n        // 不会出现这个情况\n        // this.$store.dispatch(\"FETCH_MBOX\", { id: 50 }).then(() => {\n        //   console.log(\"workPart\", this.project);\n        //   console.log(\"work info\", this.projectInfo);\n        //   this.favStatus = this.projectInfo.favStatus;\n        //   // alert('load complete');\n        //   // this.togglePlay();\n        // });\n      }\n    },\n    togglePlay: function togglePlay() {\n      // alert('111')\n      preview(this.project, !this.playing);\n      this.playing = !this.playing;\n    },\n    toggleFav: function toggleFav() {\n      this.favStatus = +!this.favStatus;\n      toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      }).then(function () {}).catch(function (err) {\n        // alert(JSON.stringify(err))\n      });\n    },\n    updateWorkTitle: function updateWorkTitle() {\n      var _this2 = this;\n\n      api_updateWorkTitle({\n        id: this.$store.state.route.query.id,\n        title: this.newWorkTitle\n      });\n      this.finalNewWorkTitle = this.newWorkTitle;\n      var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + this.$store.state.route.query.id;\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"\\u6765\\u542C\" + this.projectInfo.userVO.realname + \"\\u7684\\u4F5C\\u54C1-\" + this.newWorkTitle,\n        // fullPath:location.href.split('#')[0],\n        fullPath: fullPath,\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n      setTimeout(function () {\n        _this2.titleUpdateAppear = false;\n      }, 300);\n    },\n    redirectToMaker: function redirectToMaker() {\n      this.$router.push({\n        path: \"/new-music-box-maker\"\n        // query: {\n        //   id\n        // }\n      });\n    },\n    redirectToMusixiser: function redirectToMusixiser(id) {\n      if (id) {\n        this.$router.push({\n          path: \"/musixiser\",\n          query: {\n            id: id\n          }\n        });\n      }\n    },\n    purchaseItem: function purchaseItem() {\n      // TODO: router push with workId\n      console.log(\"you are about to purchase \" + this.projectInfo.id);\n      this.$store.commit(\"SAVE_ORDER_INFO\", { work: this.projectInfo }); // store current workId\n\n      this.$router.push({\n        path: \"/product-list\",\n        query: {\n          // id\n        }\n      });\n      // WxShare.newMakeWxOrder(\n      //   { pid: 1, wid: this.projectInfo.id, amount: 1 },\n      //   () => {\n      //     console.log(\"pay succeed\");\n      //   },\n      //   () => {\n      //     console.log(\"pay fail\");\n      //   }\n      // );\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    next();\n  },\n  created: function created() {\n    // check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    alert(1);\n    var self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      self.loadMusicById();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + self.$store.state.route.query.id;\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"分享一个八音盒\",\n        // fullPath:location.href.split('#')[0],\n        fullPath: fullPath,\n        imgUrl: \"https://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      // TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        self.userId = res.data.data.userId;\n        // alert(`welcome${res.data.data.realname}`)\n        // if (!this.project) {\n        self.loadMusicById();\n        // }\n\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      // 又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    // this.startRecord();\n    setTimeout(function () {\n      _this3.loading = false;\n    }, 2000);\n    setTimeout(function () {\n      _this3.workIntroAppear = true;\n    }, 4500);\n    setTimeout(function () {\n      _this3.controlPanalAppear = true;\n    }, 5500);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51eca1d1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NMBViewer.vue\nvar NMBViewer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['container', _vm.loading?'loading':'']},[_c('div',{attrs:{\"id\":\"ground\"}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mb\"},on:{\"click\":_vm.togglePlay}},[_c('div',{class:['mb-part', _vm.playing?'playing':''],attrs:{\"id\":\"mb-lid\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mb-part\",attrs:{\"id\":\"mb-body\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],attrs:{\"id\":\"play-btn\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"pause-btn\"}})]),_vm._v(\" \"),_c('div',{class:[_vm.playing?'':'not-playing'],attrs:{\"id\":\"mb-shiner\"}})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"music-aurora\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf5\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf6\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.workIntroAppear)?_c('div',{attrs:{\"id\":\"work-intro\"}},[_c('div',{staticClass:\"title\",on:{\"click\":function($event){_vm.userId === _vm.projectInfo.userId?_vm.titleUpdateAppear=true:_vm.titleUpdateAppear=false}}},[_vm._v(_vm._s(_vm.finalNewWorkTitle||_vm.projectInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"subtitle\"},[_c('span',[_vm._v(\"by\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.redirectToMusixiser(_vm.projectInfo.userVO.userId)}}},[_c('img',{attrs:{\"src\":_vm.projectInfo.userVO.smallAvatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.projectInfo.userVO.realname))])]),_vm._v(\" \"),(_vm.userId === _vm.projectInfo.userId)?_c('div',{attrs:{\"id\":\"edit-work\"},on:{\"click\":function($event){_vm.titleUpdateAppear=true}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.controlPanalAppear)?_c('div',{attrs:{\"id\":\"control-panal\"}},[_c('count-button',{attrs:{\"initCount\":_vm.projectInfo.collectNum?_vm.projectInfo.collectNum:0,\"initActive\":_vm.projectInfo.favStatus?true:false,\"iconImg\":\"\",\"onClickCall\":_vm.toggleFav}}),_vm._v(\" \"),_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.purchaseItem}},[_vm._v(\"购买\")]),_vm._v(\" \"),_c('div',{staticClass:\"makeBtn\",on:{\"click\":_vm.redirectToMaker}},[_vm._v(\"编曲\")])],1):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.titleUpdateAppear),expression:\"titleUpdateAppear\"}],attrs:{\"id\":\"title-update-mask\"}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"作品名称\")]),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newWorkTitle),expression:\"newWorkTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"作品新名称\"},domProps:{\"value\":(_vm.newWorkTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newWorkTitle=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"})]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.titleUpdateAppear=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.updateWorkTitle}},[_vm._v(\"确认\")])])])])]),_vm._v(\" \"),_c('div')],1)}\nvar NMBViewer_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spirit\"}},[_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-body\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-front-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back2\"}})])}]\nvar NMBViewer_esExports = { render: NMBViewer_render, staticRenderFns: NMBViewer_staticRenderFns }\n/* harmony default export */ var components_NMBViewer = (NMBViewer_esExports);\n// CONCATENATED MODULE: ./src/components/NMBViewer.vue\nfunction NMBViewer_injectStyle (ssrContext) {\n  __webpack_require__(\"Duyp\")\n}\nvar NMBViewer_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar NMBViewer___vue_template_functional__ = false\n/* styles */\nvar NMBViewer___vue_styles__ = NMBViewer_injectStyle\n/* scopeId */\nvar NMBViewer___vue_scopeId__ = \"data-v-51eca1d1\"\n/* moduleIdentifier (server only) */\nvar NMBViewer___vue_module_identifier__ = null\nvar NMBViewer_Component = NMBViewer_normalizeComponent(\n  NMBViewer,\n  components_NMBViewer,\n  NMBViewer___vue_template_functional__,\n  NMBViewer___vue_styles__,\n  NMBViewer___vue_scopeId__,\n  NMBViewer___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_NMBViewer = (NMBViewer_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/pieProgress.vue\n\n// https://codepen.io/jo-asakura/pen/stFHi\n/* harmony default export */ var pieProgress = ({\n  props: {\n    progress: Number\n  },\n  computed: {\n    style: function style() {}\n  },\n  data: function data() {\n    return {};\n  },\n\n  watch: {},\n  created: function created() {\n    // alert(this.progress)\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    updateButton: function updateButton() {}\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f49f988e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/pieProgress.vue\nvar pieProgress_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pie-wrapper pie-wrapper--solid\"},[_c('div',{staticClass:\"before\",style:({\n      background:_vm.progress<=50?'#25252b':'#979797',\n      transform:_vm.progress<=50?(\"rotate(\" + ((100  - _vm.progress) / 100 * -360) + \"deg)\"):(\"rotate(\" + ((_vm.progress-50) / 100 * 360) + \"deg)\")\n      })})])])}\nvar pieProgress_staticRenderFns = []\nvar pieProgress_esExports = { render: pieProgress_render, staticRenderFns: pieProgress_staticRenderFns }\n/* harmony default export */ var common_pieProgress = (pieProgress_esExports);\n// CONCATENATED MODULE: ./src/components/common/pieProgress.vue\nfunction pieProgress_injectStyle (ssrContext) {\n  __webpack_require__(\"K8+z\")\n}\nvar pieProgress_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar pieProgress___vue_template_functional__ = false\n/* styles */\nvar pieProgress___vue_styles__ = pieProgress_injectStyle\n/* scopeId */\nvar pieProgress___vue_scopeId__ = \"data-v-f49f988e\"\n/* moduleIdentifier (server only) */\nvar pieProgress___vue_module_identifier__ = null\nvar pieProgress_Component = pieProgress_normalizeComponent(\n  pieProgress,\n  common_pieProgress,\n  pieProgress___vue_template_functional__,\n  pieProgress___vue_styles__,\n  pieProgress___vue_scopeId__,\n  pieProgress___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_pieProgress = (pieProgress_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-konva/lib/vue-konva.min.js\nvar vue_konva_min = __webpack_require__(\"rc1w\");\nvar vue_konva_min_default = /*#__PURE__*/__webpack_require__.n(vue_konva_min);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MBRollMaker.vue\n\n\n// TODO: IMPORTANT MEMO: reschedule(clear then schedule, might lead to jump/click)\n// activeJ那块 现找播放行不行\n\n\n\n\n\n\n\n\n\n\nwindow.Tone = __webpack_require__(\"ZnLv\");\nvar musicPart = undefined;\nvar musicScale = [0, 2, 4, 5, 7, 9, 11, 12, 14, 16, 17, 19, 21, 23, 24, 26, 28, 29];\n// const colors = ['#8fd3c7', '#95c631', '#edda28', '#f7943d', '#e43159', '#bf4ea8', '#4d61d9', '#45b5a1', '#8fd3c7', '#95c631', '#edda28', '#f7943d', '#e43159', '#bf4ea8', '#4d61d9', '#45b5a1', '#edda28', '#f7943d']\nvar colors = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18];\ncolors.fill('#9FB2CF', 0, 18);\nvar invalidColors = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18];\ninvalidColors.fill('#7D90AD', 0, 18);\nvar last_i = -1;\nvar last_j = -1;\nwindow.cursorSchedules = [];\nvar aInterval = undefined;\nvar MBRollMaker_extendBtnsTimeout = undefined;\nvar TIME_PER_NOTE = 0.25;\n// const FULL_NOTE_NUM = 40; //80 notes, then if set 20 per page, it would be 4 pages\nvar FULL_NOTE_NUM = 30; // tempo 180, 20seconds => 120 notes\nvar NOTE_NUM_PER_SECTOR = 10;\n// const MB_DUR = 5; // 20 seconds length\nvar MB_DUR = 5; // 20 seconds length\nvar MIN_TEMPO = 60;\nvar MAX_TEMPO = 180;\nvue_esm[\"a\" /* default */].use(vue_konva_min_default.a);\nvar synth = new Tone.Sampler({\n  C4: 'C4.[mp3|ogg]',\n  'D#4': 'Ds4.[mp3|ogg]',\n  'F#4': 'Fs4.[mp3|ogg]',\n  A4: 'A4.[mp3|ogg]',\n  C5: 'C5.[mp3|ogg]',\n  'D#5': 'Ds5.[mp3|ogg]',\n  'F#5': 'Fs5.[mp3|ogg]',\n  A5: 'A5.[mp3|ogg]',\n  C6: 'C6.[mp3|ogg]'\n}, {\n  release: 1,\n  // 'baseUrl': '/static/audio/'\n  baseUrl: '//cnbj1.fds.api.xiaomi.com/mbox/audio/'\n}).toMaster();\n\nvar pulseOptions = {\n  oscillator: {\n    type: 'triangle'\n  },\n  envelope: {\n    release: 0.07\n  }\n};\nvar MBRollMaker_piano = new Tone.PolySynth(18, Tone.Synth, pulseOptions).toMaster();\n/* harmony default export */ var MBRollMaker = ({\n  components: {\n    // countButton,\n    pieProgress: components_common_pieProgress\n  },\n  data: function data() {\n    return {\n      NOTE_CATEGORY: 18,\n      ONE_PAGE_NOTE_NUM: 20,\n      NOTE_NUM_PER_SECTOR: NOTE_NUM_PER_SECTOR,\n      tempo: 80,\n      configKonva: {\n        width: 0,\n        height: 0\n      },\n      configNoteRect: {},\n      activeJ: -1, // highlight timeline\n      sector: 1, // 2*4-1,可以滚动7次，营造处4页的氛围\n      rectArray: [[], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []],\n      alertAppear: false,\n      showExtendBtns: false,\n      playing: false,\n      currentTime: 0\n    };\n  },\n\n  filters: {\n    intTime: function intTime(floatTime) {\n      return Math.floor(floatTime) % 20;\n      // return floatTime\n    }\n  },\n  computed: {\n    tempoLength: function tempoLength() {\n      var k = 100 / (MAX_TEMPO - MIN_TEMPO);\n      var b = -(MIN_TEMPO * k);\n      return { height: k * this.tempo + b + '%' };\n    }\n  },\n  methods: {\n    setupCanvas: function setupCanvas() {\n      var docElem = document.documentElement;\n      this.configKonva = {\n        width: docElem.getBoundingClientRect().width - 50,\n        height: window.innerHeight\n      };\n      this.configNoteRect = {\n        width: (docElem.getBoundingClientRect().width - 50) / this.NOTE_CATEGORY,\n        height: window.innerHeight / this.ONE_PAGE_NOTE_NUM,\n        fill: '#fff',\n        stroke: '#000',\n        strokeWidth: 0.5\n      };\n      this.scheduleCursor();\n    },\n    scheduleCursor: function scheduleCursor() {\n      var _this = this;\n\n      var fullNoteNumWithinDur = Math.ceil(MB_DUR / (TIME_PER_NOTE * 120 / this.tempo));\n      // const fullNoteNumWithinDur = 10;\n      // console.log('full note num', fullNoteNumWithinDur);\n      // let lastTiming = 0;\n\n      var _loop = function _loop(i) {\n        if (i <= fullNoteNumWithinDur - 1) {\n          // 在有效范围，已规划 => 要修改\n          Tone.Transport.clear(cursorSchedules[i]);\n          cursorSchedules[i] = Tone.Transport.scheduleRepeat(function (time) {\n            _this.activeJ = i;\n            _this.currentTime = i * TIME_PER_NOTE * 120 / _this.tempo;\n            // const now = performance.now();\n            // console.log(now - lastTiming);\n            // lastTiming = now;\n            _this.rectArray.forEach(function (noteSeq, noteIndex) {\n              if (noteSeq[i]) {\n                synth.triggerAttackRelease(Tone.Frequency(60 + musicScale[noteIndex], 'midi'), 0.25);\n              }\n            });\n            // synth.triggerAttackRelease(Tone.Frequency(60, 'midi'), 0.1);\n          }, fullNoteNumWithinDur * TIME_PER_NOTE * 120 / _this.tempo, i * TIME_PER_NOTE * 120 / _this.tempo);\n        } else if (i > fullNoteNumWithinDur - 1 && cursorSchedules[i]) {\n          // 不在有效范围，已规划 => 不清除，但禁掉\n          Tone.Transport.clear(cursorSchedules[i]);\n          cursorSchedules[i] = '';\n        } else {\n          // 不在有效范围，未规划 => 储存，但不规划\n        }\n      };\n\n      for (var i = 0; i <= FULL_NOTE_NUM - 1; i++) {\n        _loop(i);\n      }\n      console.log(cursorSchedules);\n      console.log(Tone.Transport._scheduledEvents);\n    },\n    setupRect: function setupRect(i, j, sector) {\n      var fill = '';\n      // split NOTE_NUM_PER_SECTOR and this.NOTE_NUM_PER_SECTOR for ANIMATION!!!\n      var index = j + (sector - 2) * NOTE_NUM_PER_SECTOR + 1 * this.NOTE_NUM_PER_SECTOR;\n      var withinDur = index * TIME_PER_NOTE * 120 / this.tempo < MB_DUR;\n      if (index == this.activeJ && this.rectArray[i][index]) {\n        // active current note: lighter color\n        fill = withinDur ? '#6477b1' : '#A9B9FF';\n      } else if (index == this.activeJ && !this.rectArray[i][index]) {\n        // inactive current light blue\n        fill = withinDur ? '#292B3A' : '#2B2E3D';\n      } else if (this.rectArray[i][index]) {\n        // active non-current note\n        fill = withinDur ? colors[i] : '#333740';\n      } else {\n        // incative non-current note\n        fill = withinDur ? 'rgba(0,0,0,' + (0.98 - i * 0.3 / this.NOTE_CATEGORY) + ')' : '#131315';\n      }\n      return extends_default()({}, this.configNoteRect, {\n        x: i * this.configKonva.width / this.NOTE_CATEGORY,\n        y: j * this.configKonva.height / this.ONE_PAGE_NOTE_NUM,\n        fill: fill\n      });\n    },\n    handleTouchRect: function handleTouchRect(i, j, sector) {\n      // console.log(`trigger ${i},${j+(sector-1)*this.NOTE_NUM_PER_SECTOR}`)\n      // make sound\n      synth.triggerAttackRelease(Tone.Frequency(60 + musicScale[i], 'midi'), 0.25);\n      // this.rectArray[i][j] = !this.rectArray[i][j] // this is how to assign a two dim array in vue 2.0...\n      var newRow = this.rectArray[i].slice(0);\n      newRow[j + (sector - 1) * this.NOTE_NUM_PER_SECTOR] = !newRow[j + (sector - 1) * this.NOTE_NUM_PER_SECTOR];\n      this.$set(this.rectArray, i, newRow);\n\n      // update last\n      last_i = i;\n      last_j = j;\n    },\n    handleMoveRect: function handleMoveRect(i, j, sector) {\n      var fullJ = j + (sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      var fullLastJ = last_j + (sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      if (j != last_j) {\n        // take this as real note, store arrange\n        this.handleTouchRect(i, j, sector);\n      } else if (i != last_i && j == last_j) {\n        // take this as testing note, no store, no arrange\n        // make sound\n        synth.triggerAttackRelease(Tone.Frequency(60 + musicScale[i], 'midi'), 0.25);\n        // operate current note view\n        var newRow = this.rectArray[i].slice(0);\n        newRow[fullJ] = !newRow[fullJ];\n        this.$set(this.rectArray, i, newRow);\n\n        // restore last note view\n        var newLastRow = this.rectArray[last_i].slice(0);\n        newLastRow[fullLastJ] = !newLastRow[fullLastJ];\n        this.$set(this.rectArray, last_i, newLastRow);\n\n        // update last\n        last_i = i;\n        last_j = j;\n      } else {\n        // console.log(`ignore ${i},${j}`)\n      }\n    },\n    startloop: function startloop() {\n      Tone.Transport.start('+0.1');\n      this.playing = true;\n    },\n    stoploop: function stoploop() {\n      Tone.Transport.stop();\n      this.playing = false;\n    },\n    toggleReplay: function toggleReplay() {\n      if (this.playing) this.stoploop();else this.startloop();\n    },\n    minusTempo: function minusTempo() {\n      var _this2 = this;\n\n      if (this.tempo > MIN_TEMPO) {\n        this.tempo -= 5;\n        Tone.Transport.seconds = this.activeJ * TIME_PER_NOTE * 120 / this.tempo;\n        Tone.Transport.bpm.rampTo(this.tempo, 0.01);\n        setTimeout(function () {\n          // bpm ramp to, so need a settimeout\n          _this2.scheduleCursor();\n        }, 200);\n      }\n    },\n    addTempo: function addTempo() {\n      var _this3 = this;\n\n      if (this.tempo < MAX_TEMPO) {\n        this.tempo += 5;\n        Tone.Transport.seconds = this.activeJ * TIME_PER_NOTE * 120 / this.tempo;\n        Tone.Transport.bpm.rampTo(this.tempo, 0.01);\n        setTimeout(function () {\n          _this3.scheduleCursor();\n        }, 200);\n      }\n    },\n    scrolldown: function scrolldown() {\n      var _this4 = this;\n\n      clearInterval(aInterval);\n      this.sector == FULL_NOTE_NUM / NOTE_NUM_PER_SECTOR - 1 ? this.NOTE_NUM_PER_SECTOR = NOTE_NUM_PER_SECTOR - 2 : this.NOTE_NUM_PER_SECTOR = 1; // for animation,\n      this.sector <= FULL_NOTE_NUM / NOTE_NUM_PER_SECTOR - 2 ? this.sector += 1 : ''; // this line is real scroll down\n      // below is for animation\n      aInterval = setInterval(function () {\n        _this4.NOTE_NUM_PER_SECTOR += 1;\n        if (_this4.NOTE_NUM_PER_SECTOR == 10) {\n          clearInterval(aInterval);\n        }\n      }, 50);\n    },\n    scrollup: function scrollup() {\n      var _this5 = this;\n\n      clearInterval(aInterval);\n      this.sector == 1 ? this.NOTE_NUM_PER_SECTOR = NOTE_NUM_PER_SECTOR + 2 : this.NOTE_NUM_PER_SECTOR = 20; // for animation,\n      this.sector >= 2 ? this.sector -= 1 : '';\n      aInterval = setInterval(function () {\n        _this5.NOTE_NUM_PER_SECTOR -= 1;\n        if (_this5.NOTE_NUM_PER_SECTOR == 10) {\n          clearInterval(aInterval);\n        }\n      }, 50);\n    },\n    checkBouncibility: function checkBouncibility() {\n      var result = [];\n      for (var i = 0; i <= this.NOTE_CATEGORY - 1; i++) {\n        for (var j = 0; j <= FULL_NOTE_NUM - 1; j++) {\n          if (this.rectArray[i][j]) {\n            result.push({\n              note: Tone.Frequency(60 + musicScale[i], 'midi').toNote(),\n              time: j * TIME_PER_NOTE * 120 / this.tempo\n            });\n          }\n        }\n      }\n      result.sort(function (a, b) {\n        return 0 + a.time - b.time;\n      });\n      return RealMagic(result);\n    },\n    bounceProject: function bounceProject() {\n      var _this6 = this;\n\n      // finally get something like [{note:'A4',time:0},{note:'A5',time:0.3227}]\n      var result = [];\n      for (var i = 0; i <= this.NOTE_CATEGORY - 1; i++) {\n        for (var j = 0; j <= FULL_NOTE_NUM - 1; j++) {\n          if (this.rectArray[i][j]) {\n            result.push({\n              note: Tone.Frequency(60 + musicScale[i], 'midi').toNote(),\n              time: j * TIME_PER_NOTE * 120 / this.tempo\n            });\n          }\n        }\n      }\n      this.$store.dispatch('BOUNCE_PROJECT', {\n        record: result,\n        info: {\n          title: '尚未起名',\n          content: 'default',\n          cover: 'default'\n        }\n      }).then(function (id) {\n        console.log('successfully bounced');\n        _this6.bouncing = false;\n        _this6.$toast('作品已为您存储');\n        _this6.$router.push({\n          path: '/new-music-box-viewer',\n          query: {\n            id: id\n          }\n        });\n      }).catch(function (err) {\n        _this6.bouncing = false;\n        _this6.$toast('非常抱歉，上传作品失败了');\n      });\n    },\n    submitProject: function submitProject() {\n      if (this.checkBouncibility()) {\n        // alert(1);\n        this.bounceProject();\n      } else {\n        // alert(2);\n        this.alertAppear = true;\n      }\n    },\n    clearProject: function clearProject() {},\n    btnStart: function btnStart(e) {\n      var _this7 = this;\n\n      console.log(e);\n      MBRollMaker_extendBtnsTimeout = setTimeout(function () {\n        //show extend buttons\n        _this7.showExtendBtns = true;\n      }, 200);\n    },\n    btnEnd: function btnEnd(e) {\n      // console.log(e)\n      clearTimeout(MBRollMaker_extendBtnsTimeout);\n      var a = document.elementFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\n      console.log(a);\n      if (a && a.classList.contains('bounceBtn')) {\n        this.submitProject();\n      } else if (a && (a.classList.contains('playBtn') || a.classList.contains('pauseBtn'))) {\n        //播放\n        // console.log(Tone.Transport.state)\n        this.toggleReplay();\n        this.showExtendBtns = false;\n      } else if (a && (a.classList.contains('playBtn') || a.classList.contains('cancelBtn'))) {\n        //hide extend buttons\n        this.showExtendBtns = false;\n      }\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    next();\n  },\n  created: function created() {\n    this.setupCanvas();\n\n    // regular setup\n    var self = this;\n    Tone.Transport.cancel();\n    // this is very important\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + 'px';\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    // alert(Cookies.get('serviceToken'))\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: 'MUSIXISE',\n        desc: '划拉划拉八音盒',\n        fullPath: '' + location.origin + location.pathname + '#/new-music-box-roll',\n        imgUrl: 'http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png'\n      });\n    });\n    if (getUrlParam('code') || js_cookie[\"get\"]('serviceToken')) {\n      getUserInfo(getUrlParam('code')).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"]('serviceToken');\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=' + encodeURIComponent(location.origin + location.pathname + '#/new-music-box-roll') + '&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect');\n        }\n        console.log('get user info success', res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"]('serviceToken');\n        location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=' + encodeURIComponent(location.origin + location.pathname + '#/new-music-box-roll') + '&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect');\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=' + encodeURIComponent(location.origin + location.pathname + '#/new-music-box-roll') + '&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect');\n    }\n  },\n  mounted: function mounted() {},\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8e19a336\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MBRollMaker.vue\nvar MBRollMaker_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"roll\"},[_c('v-stage',{attrs:{\"config\":_vm.configKonva}},[_c('v-layer',[_vm._l((_vm.NOTE_CATEGORY),function(i){return _vm._l((_vm.ONE_PAGE_NOTE_NUM),function(j){return _c('v-rect',{key:(\"\" + i + j),attrs:{\"config\":_vm.setupRect(i-1,j-1,_vm.sector)},on:{\"touchstart\":function($event){_vm.handleTouchRect(i-1,j-1,_vm.sector)},\"touchmove\":function($event){_vm.handleMoveRect(i-1,j-1,_vm.sector)}}})})})],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"control-panal\"},[_c('div',[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"scrollup\"},on:{\"touchstart\":_vm.scrollup}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"scrolldown\"},on:{\"touchstart\":_vm.scrolldown}})]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"minustempo\"},on:{\"touchstart\":_vm.minusTempo}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"tempo-indicator\"}},[_c('div',{style:(_vm.tempoLength),attrs:{\"id\":\"tempo-progress\"}}),_vm._v(\" \"),_c('p',{attrs:{\"id\":\"tempo-num\"}},[_vm._v(_vm._s(this.tempo)+\" bpm\")])]),_vm._v(\" \"),_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"addtempo\"},on:{\"touchstart\":_vm.addTempo}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"relative\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"transform\":\"rotate(90deg)\"}},[_c('pie-progress',{attrs:{\"progress\":100*_vm.currentTime/5}}),_vm._v(\" \"),_c('p',{staticStyle:{\"position\":\"absolute\",\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm._f(\"intTime\")(_vm.currentTime)))])],1),_vm._v(\" \"),_c('div',{staticClass:\"btnContainer\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.btnStart($event)},\"touchend\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.btnEnd($event)}}},[_c('div',{class:[_vm.playing?'pauseBtn':'playBtn', 'rotate'],on:{\"click\":_vm.toggleReplay}}),_vm._v(\" \"),_c('div',{class:[_vm.showExtendBtns?'extendBtnsShow':'extendBtnsHide','extendBtns']},[_c('div',{staticClass:\"bounceBtn rotate\"}),_vm._v(\" \"),_c('div',{staticClass:\"cancelBtn\"})])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear),expression:\"alertAppear\"}],attrs:{\"id\":\"alert-mask\"}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n          减少些音符才能做成音乐盒，是否继续上传\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear=false}}},[_vm._v(\"再调整\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.bounceProject}},[_vm._v(\"任性上传\")])])])])])],1)}\nvar MBRollMaker_staticRenderFns = []\nvar MBRollMaker_esExports = { render: MBRollMaker_render, staticRenderFns: MBRollMaker_staticRenderFns }\n/* harmony default export */ var components_MBRollMaker = (MBRollMaker_esExports);\n// CONCATENATED MODULE: ./src/components/MBRollMaker.vue\nfunction MBRollMaker_injectStyle (ssrContext) {\n  __webpack_require__(\"lcDq\")\n}\nvar MBRollMaker_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MBRollMaker___vue_template_functional__ = false\n/* styles */\nvar MBRollMaker___vue_styles__ = MBRollMaker_injectStyle\n/* scopeId */\nvar MBRollMaker___vue_scopeId__ = \"data-v-8e19a336\"\n/* moduleIdentifier (server only) */\nvar MBRollMaker___vue_module_identifier__ = null\nvar MBRollMaker_Component = MBRollMaker_normalizeComponent(\n  MBRollMaker,\n  components_MBRollMaker,\n  MBRollMaker___vue_template_functional__,\n  MBRollMaker___vue_styles__,\n  MBRollMaker___vue_scopeId__,\n  MBRollMaker___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MBRollMaker = (MBRollMaker_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-infinite-scroll/vue-infinite-scroll.js\nvar vue_infinite_scroll = __webpack_require__(\"bqTm\");\nvar vue_infinite_scroll_default = /*#__PURE__*/__webpack_require__.n(vue_infinite_scroll);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MusixiserDetail.vue\n\n// window.Tone = require('tone')\n\n\n\n\n\n\n\n\nvar MusixiserDetail_musicPart = undefined;\n\n/* harmony default export */ var MusixiserDetail = ({\n  directives: {\n    infiniteScroll: vue_infinite_scroll_default.a\n  },\n  components: {\n    countButton: components_common_countButton\n  },\n  data: function data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true\n    };\n  },\n\n  computed: {\n    musixiserInfo: function musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    musixiserWorksObj: function musixiserWorksObj() {\n      return this.$store.state.musixiserWorksObj;\n    }\n  },\n  methods: {\n    loadMusixiserById: function loadMusixiserById() {\n      console.log(\"my id: \", this.userId);\n      var id = this.userId;\n      this.$store.dispatch(\"FETCH_MUSIXISER\", {\n        id: id\n      });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore: function loadMore() {\n      var _this = this;\n\n      //will call automatically when enter!\n      var id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.musixiserWorksObj.current);\n      this.$store.dispatch(\"FETCH_WORKS_FROM_MUSIXISER\", {\n        id: id,\n        page: this.musixiserWorksObj.current ? this.musixiserWorksObj.current + 1 : 1\n      }).then(function () {\n        console.log(\"2222222\", _this.musixiserWorksObj);\n        if (_this.musixiserWorksObj.content.length < _this.musixiserWorksObj.total) {\n          _this.busy = false;\n        }\n      });\n    },\n    togglePlay: function togglePlay() {\n      // alert('111')\n      preview(this.project);\n      this.playing = !this.playing;\n    },\n    toggleFav: function toggleFav() {\n      // this.favStatus = +!this.favStatus;\n      toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      });\n    },\n    redirectToWork: function redirectToWork(id) {\n      this.$router.push({\n        path: \"/new-music-box-viewer\",\n        query: {\n          id: id\n        }\n      });\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    next();\n  },\n  created: function created() {\n    var _this2 = this;\n\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    var self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 149;\n      self.loadMusixiserById();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + self.$store.state.route.query.id;\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"我的地盘你就dê听我的\",\n        // fullPath:location.href.split('#')[0],\n        fullPath: fullPath,\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        self.userId = _this2.$store.state.route.query.id || res.data.data.userId;\n        self.isMe = self.userId == res.data.data.userId;\n        self.loadMusixiserById();\n\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    // this.startRecord();\n    setTimeout(function () {\n      _this3.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2caa14dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MusixiserDetail.vue\nvar MusixiserDetail_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.musixiserWorksObj.content),function(item){return _c('div',{staticClass:\"work\",on:{\"click\":function($event){_vm.redirectToWork(item.id)}}},[_c('img',{staticClass:\"cover\",attrs:{\"src\":item.cover=='default'?item.userVO.smallAvatar:item.cover,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"hairline\"}),_vm._v(\" \"),_c('div',{staticClass:\"line line1\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(item.createdDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"line line2\"},[_c('p',{staticClass:\"creator\"},[_vm._v(_vm._s(item.userVO.realname))]),_vm._v(\" \"),_c('p',{staticClass:\"likes\"},[_vm._v(\"收藏人数: \"+_vm._s(item.collectNum))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.musixiserWorksObj.content.length==0),expression:\"!loading && musixiserWorksObj.content.length==0\"}],staticClass:\"emptysection\"},[_vm._m(0)])])}\nvar MusixiserDetail_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"emptytitle\"},[_vm._v(\"暂无作品\")]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"6rem\"},attrs:{\"src\":__webpack_require__(\"SpEx\"),\"alt\":\"\"}})])}]\nvar MusixiserDetail_esExports = { render: MusixiserDetail_render, staticRenderFns: MusixiserDetail_staticRenderFns }\n/* harmony default export */ var components_MusixiserDetail = (MusixiserDetail_esExports);\n// CONCATENATED MODULE: ./src/components/MusixiserDetail.vue\nfunction MusixiserDetail_injectStyle (ssrContext) {\n  __webpack_require__(\"/jZ9\")\n}\nvar MusixiserDetail_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MusixiserDetail___vue_template_functional__ = false\n/* styles */\nvar MusixiserDetail___vue_styles__ = MusixiserDetail_injectStyle\n/* scopeId */\nvar MusixiserDetail___vue_scopeId__ = \"data-v-2caa14dc\"\n/* moduleIdentifier (server only) */\nvar MusixiserDetail___vue_module_identifier__ = null\nvar MusixiserDetail_Component = MusixiserDetail_normalizeComponent(\n  MusixiserDetail,\n  components_MusixiserDetail,\n  MusixiserDetail___vue_template_functional__,\n  MusixiserDetail___vue_styles__,\n  MusixiserDetail___vue_scopeId__,\n  MusixiserDetail___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MusixiserDetail = (MusixiserDetail_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MyFav.vue\n\n// window.Tone = require('tone')\n\n\n\n\n\n\n\n\nvar MyFav_musicPart = undefined;\n\n/* harmony default export */ var MyFav = ({\n  directives: {\n    infiniteScroll: vue_infinite_scroll_default.a\n  },\n  components: {\n    countButton: components_common_countButton\n  },\n  data: function data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true\n    };\n  },\n\n  computed: {\n    musixiserInfo: function musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    favWorksObj: function favWorksObj() {\n      return this.$store.state.favWorksObj;\n    }\n  },\n  methods: {\n    loadMusixiserById: function loadMusixiserById() {\n      console.log(\"my id: \", this.userId);\n      var id = this.userId;\n      this.$store.dispatch(\"FETCH_MUSIXISER\", {\n        id: id\n      });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore: function loadMore() {\n      var _this = this;\n\n      //will call automatically when enter!\n      var id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.favWorksObj.current);\n      this.$store.dispatch(\"FETCH_FAV_WORKS\", {\n        id: id,\n        page: this.favWorksObj.current ? this.favWorksObj.current + 1 : 1\n      }).then(function () {\n        console.log(\"2222222\", _this.favWorksObj);\n        if (_this.favWorksObj.content.length < _this.favWorksObj.total) {\n          _this.busy = false;\n        }\n      });\n    },\n    togglePlay: function togglePlay() {\n      // alert('111')\n      preview(this.project);\n      this.playing = !this.playing;\n    },\n    toggleFav: function toggleFav() {\n      // this.favStatus = +!this.favStatus;\n      toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      });\n    },\n    redirectToWork: function redirectToWork(id) {\n      if (id) {\n        this.$router.push({\n          path: \"/new-music-box-viewer\",\n          query: {\n            id: id\n          }\n        });\n      }\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    next();\n  },\n  created: function created() {\n    var _this2 = this;\n\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    var self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 149;\n      self.loadMusixiserById();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + self.$store.state.route.query.id;\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"我的地盘你就dê听我的\",\n        // fullPath:location.href.split('#')[0],\n        fullPath: fullPath,\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        self.userId = _this2.$store.state.route.query.id || res.data.data.userId;\n        self.isMe = self.userId == res.data.data.userId;\n        self.loadMusixiserById();\n\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    // this.startRecord();\n    setTimeout(function () {\n      _this3.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-491033b3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyFav.vue\nvar MyFav_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.favWorksObj.content),function(item){return _c('div',{staticClass:\"work\",on:{\"click\":function($event){_vm.redirectToWork(item.id)}}},[_c('img',{staticClass:\"cover\",attrs:{\"src\":item.cover=='default'?item.user.smallAvatar:item.cover,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"hairline\"}),_vm._v(\" \"),_c('div',{staticClass:\"line line1\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(item.createdDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"line line2\"},[_c('p',{staticClass:\"creator\"},[_vm._v(_vm._s(item.user.realname))]),_vm._v(\" \"),_c('p',{staticClass:\"likes\"},[_vm._v(\"收藏人数: \"+_vm._s(item.collectNum))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.favWorksObj.content.length==0),expression:\"!loading && favWorksObj.content.length==0\"}],staticClass:\"emptysection\"},[_vm._m(0)])])}\nvar MyFav_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"emptytitle\"},[_vm._v(\"暂无作品\")]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"6rem\"},attrs:{\"src\":__webpack_require__(\"SpEx\"),\"alt\":\"\"}})])}]\nvar MyFav_esExports = { render: MyFav_render, staticRenderFns: MyFav_staticRenderFns }\n/* harmony default export */ var components_MyFav = (MyFav_esExports);\n// CONCATENATED MODULE: ./src/components/MyFav.vue\nfunction MyFav_injectStyle (ssrContext) {\n  __webpack_require__(\"I2nb\")\n}\nvar MyFav_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MyFav___vue_template_functional__ = false\n/* styles */\nvar MyFav___vue_styles__ = MyFav_injectStyle\n/* scopeId */\nvar MyFav___vue_scopeId__ = \"data-v-491033b3\"\n/* moduleIdentifier (server only) */\nvar MyFav___vue_module_identifier__ = null\nvar MyFav_Component = MyFav_normalizeComponent(\n  MyFav,\n  components_MyFav,\n  MyFav___vue_template_functional__,\n  MyFav___vue_styles__,\n  MyFav___vue_scopeId__,\n  MyFav___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MyFav = (MyFav_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MyMusic.vue\n\n// window.Tone = require('tone')\n\n\n\n\n\n\n\n\nvar MyMusic_musicPart = undefined;\n\n/* harmony default export */ var MyMusic = ({\n  directives: {\n    infiniteScroll: vue_infinite_scroll_default.a\n  },\n  components: {\n    countButton: components_common_countButton\n  },\n  data: function data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true\n    };\n  },\n\n  computed: {\n    musixiserInfo: function musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    favWorksObj: function favWorksObj() {\n      return this.$store.state.favWorksObj;\n    }\n  },\n  methods: {\n    loadMusixiserById: function loadMusixiserById() {\n      console.log(\"my id: \", this.userId);\n      var id = this.userId;\n      this.$store.dispatch(\"FETCH_MUSIXISER\", {\n        id: id\n      });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore: function loadMore() {\n      var _this = this;\n\n      //will call automatically when enter!\n      var id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.favWorksObj.current);\n      this.$store.dispatch(\"FETCH_FAV_WORKS\", {\n        id: id,\n        page: this.favWorksObj.current ? this.favWorksObj.current + 1 : 1\n      }).then(function () {\n        console.log(\"2222222\", _this.favWorksObj);\n        if (_this.favWorksObj.content.length < _this.favWorksObj.total) {\n          _this.busy = false;\n        }\n      });\n    },\n    togglePlay: function togglePlay() {\n      // alert('111')\n      preview(this.project);\n      this.playing = !this.playing;\n    },\n    toggleFav: function toggleFav() {\n      // this.favStatus = +!this.favStatus;\n      toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      });\n    },\n    redirectToWork: function redirectToWork(id) {\n      if (id) {\n        this.$router.push({\n          path: \"/new-music-box-viewer\",\n          query: {\n            id: id\n          }\n        });\n      }\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    next();\n  },\n  created: function created() {\n    var _this2 = this;\n\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    var self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 149;\n      self.loadMusixiserById();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + self.$store.state.route.query.id;\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"我的地盘你就dê听我的\",\n        // fullPath:location.href.split('#')[0],\n        fullPath: fullPath,\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        self.userId = _this2.$store.state.route.query.id || res.data.data.userId;\n        self.isMe = self.userId == res.data.data.userId;\n        self.loadMusixiserById();\n\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    // this.startRecord();\n    setTimeout(function () {\n      _this3.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-19450186\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyMusic.vue\nvar MyMusic_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.favWorksObj.content),function(item){return _c('div',{staticClass:\"work\",on:{\"click\":function($event){_vm.redirectToWork(item.id)}}},[_c('img',{staticClass:\"cover\",attrs:{\"src\":item.cover=='default'?item.user.smallAvatar:item.cover,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"hairline\"}),_vm._v(\" \"),_c('div',{staticClass:\"line line1\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(item.createdDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"line line2\"},[_c('p',{staticClass:\"creator\"},[_vm._v(_vm._s(item.user.realname))]),_vm._v(\" \"),_c('p',{staticClass:\"likes\"},[_vm._v(\"收藏人数: \"+_vm._s(item.collectNum))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.favWorksObj.content.length==0),expression:\"!loading && favWorksObj.content.length==0\"}],staticClass:\"emptysection\"},[_vm._m(0)])])}\nvar MyMusic_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"emptytitle\"},[_vm._v(\"暂无作品\")]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"6rem\"},attrs:{\"src\":__webpack_require__(\"SpEx\"),\"alt\":\"\"}})])}]\nvar MyMusic_esExports = { render: MyMusic_render, staticRenderFns: MyMusic_staticRenderFns }\n/* harmony default export */ var components_MyMusic = (MyMusic_esExports);\n// CONCATENATED MODULE: ./src/components/MyMusic.vue\nfunction MyMusic_injectStyle (ssrContext) {\n  __webpack_require__(\"Fq45\")\n}\nvar MyMusic_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MyMusic___vue_template_functional__ = false\n/* styles */\nvar MyMusic___vue_styles__ = MyMusic_injectStyle\n/* scopeId */\nvar MyMusic___vue_scopeId__ = \"data-v-19450186\"\n/* moduleIdentifier (server only) */\nvar MyMusic___vue_module_identifier__ = null\nvar MyMusic_Component = MyMusic_normalizeComponent(\n  MyMusic,\n  components_MyMusic,\n  MyMusic___vue_template_functional__,\n  MyMusic___vue_styles__,\n  MyMusic___vue_scopeId__,\n  MyMusic___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MyMusic = (MyMusic_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Recommend.vue\n\n// window.Tone = require('tone')\n\n\n\n\n\n\nvar Recommend_musicPart = undefined;\n\n/* harmony default export */ var Recommend = ({\n  components: {\n    countButton: components_common_countButton\n  },\n  data: function data() {\n    return {\n      searching: false,\n      loading: false,\n      recommendations: {}\n    };\n  },\n\n  computed: {},\n  methods: {\n    load: function load() {\n      getRecommendations().then(function (res) {\n        console.log(\"index:\", res);\n      });\n    },\n    search: function search() {}\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    clearTone();\n    next();\n  },\n  created: function created() {\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    var self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      self.loadMusicById();\n      return;\n    }\n    var fullPath = \"\" + location.origin + location.pathname + \"#/new-music-box-viewer?id=\" + self.$store.state.route.query.id;\n    wx_share_prepareShareConfig().then(function () {\n      wx_share_prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"分享一个八音盒\",\n        // fullPath:location.href.split('#')[0],\n        fullPath: fullPath,\n        imgUrl: \"https://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\n          // will publish to node project m-musixise, under '/music-box' path\n          \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n        }\n        self.userId = res.data.data.userId;\n        // alert(`welcome${res.data.data.realname}`)\n        // if (!this.project) {\n        self.loadMusicById();\n        // }\n\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=\" + encodeURIComponent(fullPath) + \"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\");\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // this.startRecord();\n    setTimeout(function () {\n      _this.loading = false;\n    }, 2000);\n    setTimeout(function () {\n      _this.workIntroAppear = true;\n    }, 4500);\n    setTimeout(function () {\n      _this.controlPanalAppear = true;\n    }, 5500);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated: function updated() {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6504a5df\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Recommend.vue\nvar Recommend_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['container', _vm.loading?'loading':'']},[_c('div',{attrs:{\"id\":\"ground\"}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mb\"},on:{\"click\":_vm.togglePlay}},[_c('div',{class:['mb-part', _vm.playing?'playing':''],attrs:{\"id\":\"mb-lid\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mb-part\",attrs:{\"id\":\"mb-body\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],attrs:{\"id\":\"play-btn\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"pause-btn\"}})])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"music-aurora\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf5\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf6\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.workIntroAppear)?_c('div',{attrs:{\"id\":\"work-intro\"}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.finalNewWorkTitle||_vm.projectInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"subtitle\"},[_c('span',[_vm._v(\"by\")]),_vm._v(\" \"),_c('span',[_c('img',{attrs:{\"src\":_vm.projectInfo.owner.smallAvatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.projectInfo.owner.nickName))])]),_vm._v(\" \"),(_vm.userId === _vm.projectInfo.userId)?_c('div',{attrs:{\"id\":\"edit-work\"},on:{\"click\":function($event){_vm.titleUpdateAppear=true}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.controlPanalAppear)?_c('div',{attrs:{\"id\":\"control-panal\"}},[_c('count-button',{attrs:{\"initCount\":_vm.projectInfo.collectNum?_vm.projectInfo.collectNum:0,\"initActive\":_vm.projectInfo.favStatus?true:false,\"iconImg\":\"\",\"onClickCall\":_vm.toggleFav}}),_vm._v(\" \"),_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.purchaseItem}},[_vm._v(\"购买\")]),_vm._v(\" \"),_c('div',{staticClass:\"makeBtn\",on:{\"click\":_vm.redirectToMaker}},[_vm._v(\"编曲\")])],1):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.titleUpdateAppear),expression:\"titleUpdateAppear\"}],attrs:{\"id\":\"title-update-mask\"}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"作品名称\")]),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newWorkTitle),expression:\"newWorkTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"作品新名称\"},domProps:{\"value\":(_vm.newWorkTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newWorkTitle=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"})]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.titleUpdateAppear=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.updateWorkTitle}},[_vm._v(\"确认\")])])])])])],1)}\nvar Recommend_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spirit\"}},[_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-body\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-front-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back2\"}})])}]\nvar Recommend_esExports = { render: Recommend_render, staticRenderFns: Recommend_staticRenderFns }\n/* harmony default export */ var components_Recommend = (Recommend_esExports);\n// CONCATENATED MODULE: ./src/components/Recommend.vue\nfunction Recommend_injectStyle (ssrContext) {\n  __webpack_require__(\"ZGF8\")\n}\nvar Recommend_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Recommend___vue_template_functional__ = false\n/* styles */\nvar Recommend___vue_styles__ = Recommend_injectStyle\n/* scopeId */\nvar Recommend___vue_scopeId__ = \"data-v-6504a5df\"\n/* moduleIdentifier (server only) */\nvar Recommend___vue_module_identifier__ = null\nvar Recommend_Component = Recommend_normalizeComponent(\n  Recommend,\n  components_Recommend,\n  Recommend___vue_template_functional__,\n  Recommend___vue_styles__,\n  Recommend___vue_scopeId__,\n  Recommend___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Recommend = (Recommend_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/ProductList.vue\n\n\n/* harmony default export */ var ProductList = ({\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String,\n    onClickCall: {\n      type: Function,\n      default: function _default() {\n        return function () {\n          console.log(\"tap tap in count Button\");\n        };\n      }\n    }\n  },\n  components: {\n    swiper: vue_awesome_swiper[\"swiper\"],\n    swiperSlide: vue_awesome_swiper[\"swiperSlide\"]\n  },\n  computed: {\n    style: function style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    },\n    productList: function productList() {\n      return this.$store.state.productList;\n    }\n  },\n  data: function data() {\n    return {};\n  },\n\n  watch: {},\n  created: function created() {\n    var self = this;\n    this.productListOption = {\n      loop: true,\n      // spaceBetween: 30,\n      centeredSlides: true,\n      slidesPerView: 1,\n      // slidesPerView: \"auto\",\n      on: {\n        transitionEnd: function transitionEnd(e) {\n          // console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          console.log(this.realIndex);\n          self.targetProduct = self.productList[this.realIndex];\n        }\n      }\n    };\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    viewProductDetail: function viewProductDetail() {},\n    toConfirmOrder: function toConfirmOrder() {\n      console.log(123321);\n      this.$store.commit(\"SAVE_ORDER_INFO\", {\n        product: this.targetProduct\n      }); // store current workId\n      this.$router.push({\n        path: \"/order-confirm\",\n        query: {\n          // id\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-146a3d45\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProductList.vue\nvar ProductList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('swiper',{ref:\"productList\",attrs:{\"options\":_vm.productListOption}},_vm._l((_vm.productList),function(product){return _c('swiper-slide',[_c('div',{staticClass:\"productPage\",on:{\"click\":_vm.viewProductDetail}},[_c('div',{staticClass:\"preview\",style:({background:\"url()\"})},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"relative\",\"display\":\"block\"},attrs:{\"src\":product.previewImg||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png',\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_c('div',{staticClass:\"desc-title\"},[_vm._v(_vm._s(product.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\",\"color\":\"#6d6e75\",\"font-size\":\"12px\"}},[_c('p',[_vm._v(\"大小:20*30*40 (cm)\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(product.intro))])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_vm._v(\"¥\"+_vm._s(product.price))])])])])])}),1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"40px\",\"width\":\"100%\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.toConfirmOrder}},[_vm._v(\"购买\")])])],1)}\nvar ProductList_staticRenderFns = []\nvar ProductList_esExports = { render: ProductList_render, staticRenderFns: ProductList_staticRenderFns }\n/* harmony default export */ var components_ProductList = (ProductList_esExports);\n// CONCATENATED MODULE: ./src/components/ProductList.vue\nfunction ProductList_injectStyle (ssrContext) {\n  __webpack_require__(\"oi08\")\n}\nvar ProductList_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ProductList___vue_template_functional__ = false\n/* styles */\nvar ProductList___vue_styles__ = ProductList_injectStyle\n/* scopeId */\nvar ProductList___vue_scopeId__ = \"data-v-146a3d45\"\n/* moduleIdentifier (server only) */\nvar ProductList___vue_module_identifier__ = null\nvar ProductList_Component = ProductList_normalizeComponent(\n  ProductList,\n  components_ProductList,\n  ProductList___vue_template_functional__,\n  ProductList___vue_styles__,\n  ProductList___vue_scopeId__,\n  ProductList___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_ProductList = (ProductList_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/OrderConfirm.vue\n\n\n\n\n/* harmony default export */ var OrderConfirm = ({\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String\n  },\n  computed: {\n    style: function style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    },\n    orderToCreate: function orderToCreate() {\n      return this.$store.state.orderToCreate;\n    },\n    targetProduct: function targetProduct() {\n      return this.$store.state.targetProduct;\n    },\n    targetWork: function targetWork() {\n      return this.$store.state.targetWork;\n    }\n  },\n  data: function data() {\n    return {\n      currentActiveCount: 0,\n      currentActive: false,\n      userName: \"\",\n      telNum: \"\",\n      address: \"\"\n    };\n  },\n\n  watch: {},\n  created: function created() {\n    this.currentActive = this.initActive;\n    this.currentActiveCount = this.currentActive ? this.initCount : this.initCount + 1;\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    // i think need check here, e.g. cookie address\n    next();\n  },\n\n  methods: {\n    toConfirmOrder: function toConfirmOrder() {\n      // passin orderToCreate TODO\n      if (!this.address) {\n        alert(\"请先填入地址\");\n      } else {\n        console.log(this.orderToCreate);\n        makeWxOrder(extends_default()({}, this.orderToCreate, { amount: 1 }), function () {\n          console.log(\"pay succeed\");\n        }, function () {\n          console.log(\"pay fail\");\n        });\n      }\n    },\n    editAddress: function editAddress() {\n      var _this = this;\n\n      //都是同步操作\n      wx_share_createAddress(function (address) {\n        _this.address = address.detailInfo;\n        _this.userName = address.userName;\n        _this.telNum = address.telNumber;\n        _this.$store.commit(\"SAVE_ORDER_INFO\", { address: address });\n      }, function () {});\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07c975ea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/OrderConfirm.vue\nvar OrderConfirm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"order-confirm\"},[_c('div',{staticClass:\"address\",on:{\"click\":_vm.editAddress}},[_c('div',{attrs:{\"id\":\"basic-info\"}},[_vm._v(\"\\n        收件人：\\n        \"),_c('span',[_vm._v(_vm._s(_vm.userName))]),_vm._v(\" \"),_c('span',{staticStyle:{\"flex\":\"1\"}},[_vm._v(_vm._s(_vm.telNum))])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"address-info\"}},[_vm._v(\"\\n        收件地址：\\n        \"),_c('span',[_vm._v(_vm._s(_vm.address))]),_vm._v(\" \"),_c('div',{staticClass:\"address-underline\",attrs:{\"id\":\"underline1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"address-underline\",attrs:{\"id\":\"underline2\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('img',{attrs:{\"src\":\"\",\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"goods\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"趣味童年\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(this.targetWork.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"amount\"},[_c('span',[_vm._v(\"-\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(\"+\")])])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"msg\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.giftMsg),expression:\"giftMsg\"}],attrs:{\"type\":\"text\",\"placeholder\":\"默认祝福语：「在乐音相伴的梦里，世界一片白银」\"},domProps:{\"value\":(_vm.giftMsg)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.giftMsg=$event.target.value}}})]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"40px\",\"width\":\"100%\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.toConfirmOrder}},[_vm._v(\"购买\")])])])}\nvar OrderConfirm_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-list\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"商品清单\")]),_vm._v(\" \"),_c('div',{staticClass:\"sub-detail\"},[_c('p',[_vm._v(\"八音盒 x 1\")]),_vm._v(\" \"),_c('p',[_vm._v(\"包装盒 x 1\")]),_vm._v(\" \"),_c('p',[_vm._v(\"礼品卡 x 1\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"readme\"},[_vm._v(\"购买说明\\n    \"),_c('ul',[_c('li',[_vm._v(\"此商品的制作周期约为7天，您可以在【我的-八音盒】页面查看进度\")]),_vm._v(\" \"),_c('li',[_vm._v(\"定制商品非质量问题不得退换货，如需退货请在公众号页面提交申请\")]),_vm._v(\" \"),_c('li',[_vm._v(\"如有其他疑问可在公众号的【留言】版块留言，我们将尽快为您解答\")])])])}]\nvar OrderConfirm_esExports = { render: OrderConfirm_render, staticRenderFns: OrderConfirm_staticRenderFns }\n/* harmony default export */ var components_OrderConfirm = (OrderConfirm_esExports);\n// CONCATENATED MODULE: ./src/components/OrderConfirm.vue\nfunction OrderConfirm_injectStyle (ssrContext) {\n  __webpack_require__(\"I5Xv\")\n}\nvar OrderConfirm_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar OrderConfirm___vue_template_functional__ = false\n/* styles */\nvar OrderConfirm___vue_styles__ = OrderConfirm_injectStyle\n/* scopeId */\nvar OrderConfirm___vue_scopeId__ = \"data-v-07c975ea\"\n/* moduleIdentifier (server only) */\nvar OrderConfirm___vue_module_identifier__ = null\nvar OrderConfirm_Component = OrderConfirm_normalizeComponent(\n  OrderConfirm,\n  components_OrderConfirm,\n  OrderConfirm___vue_template_functional__,\n  OrderConfirm___vue_styles__,\n  OrderConfirm___vue_scopeId__,\n  OrderConfirm___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_OrderConfirm = (OrderConfirm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Order.vue\n\n/* harmony default export */ var Order = ({\n  // {\n  //   id: 130,\n  //   price: 0.01,\n  //   status: 2,\n  //   shipTime: 1547705540000,\n  //   confirmTime: 1547734350000,\n  //   userId: 0,\n  //   amount: 1,\n  //   product: {\n  //     wid: 148,\n  //     product: {\n  //       id: 1,\n  //       category: 0,\n  //       name: \"产品名01\",\n  //       intro: \"八音盒\",\n  //       price: 0.01,\n  //       status: 0,\n  //       createdDate: 1545545048000\n  //     },\n  //     title: \"castle\",\n  //     userId: 239,\n  //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n  //   },\n  //   address: {\n  //     id: 2,\n  //     userId: 239,\n  //     userName: \"花\",\n  //     postalCode: \"100032\",\n  //     provinceName: \"北京市\",\n  //     cityName: \"北京市\",\n  //     countryName: \"西城区\",\n  //     detailInfo: \"哈哈哈哈哈哈哈\",\n  //     nationalCode: \"110102\",\n  //     telNumber: \"13146319393\"\n  //   }\n  // }\n  props: {\n    info: Object\n  },\n  computed: {},\n  data: function data() {\n    return {};\n  },\n\n  watch: {},\n  created: function created() {\n    // alert(this.progress)\n  },\n  mounted: function mounted() {},\n  updated: function updated() {},\n\n  methods: {\n    updateButton: function updateButton() {}\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50df088b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Order.vue\nvar Order_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-container\"},[_c('div',{staticClass:\"preview-bg\"},[_c('div',{staticClass:\"shipment\"},[(_vm.info.status===1)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":__webpack_require__(\"vmYS\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===1)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"制作中...\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===2)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":__webpack_require__(\"SaBO\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===2)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"运输中...\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===3)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":__webpack_require__(\"t0gW\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===3)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"派送中...\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"detail-basic\"},[_c('div',{staticClass:\"title\"},[_c('p',{staticClass:\"product-name\"},[_vm._v(_vm._s(_vm.info.product.product.name))]),_vm._v(\" \"),_c('p',{staticClass:\"song-title\"},[_vm._v(_vm._s(_vm.info.product.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"playBtn\"})]),_vm._v(\" \"),_c('div',{staticClass:\"detail-other\"},[_c('p',[_vm._v(_vm._s(_vm.info.shipTime))]),_vm._v(\" \"),_c('p',[_vm._v(\"¥\"+_vm._s(_vm.info.price))])])])])}\nvar Order_staticRenderFns = []\nvar Order_esExports = { render: Order_render, staticRenderFns: Order_staticRenderFns }\n/* harmony default export */ var common_Order = (Order_esExports);\n// CONCATENATED MODULE: ./src/components/common/Order.vue\nfunction Order_injectStyle (ssrContext) {\n  __webpack_require__(\"yiAg\")\n}\nvar Order_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Order___vue_template_functional__ = false\n/* styles */\nvar Order___vue_styles__ = Order_injectStyle\n/* scopeId */\nvar Order___vue_scopeId__ = \"data-v-50df088b\"\n/* moduleIdentifier (server only) */\nvar Order___vue_module_identifier__ = null\nvar Order_Component = Order_normalizeComponent(\n  Order,\n  common_Order,\n  Order___vue_template_functional__,\n  Order___vue_styles__,\n  Order___vue_scopeId__,\n  Order___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Order = (Order_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/MyOrders.vue\n\n\n\n\n\n\n/* harmony default export */ var MyOrders = ({\n  name: \"myorders\",\n  components: {\n    order: components_common_Order\n  },\n  data: function data() {\n    return {\n      msg: \"Welcome to Your Vue.js App\",\n      orderList: [{\n        id: 130,\n        price: 0.01,\n        status: 2,\n        shipTime: 1547705540000,\n        confirmTime: 1547734350000,\n        userId: 0,\n        amount: 1,\n        product: {\n          wid: 148,\n          product: {\n            id: 1,\n            category: 0,\n            name: \"产品名01\",\n            intro: \"八音盒\",\n            price: 0.01,\n            status: 0,\n            createdDate: 1545545048000\n          },\n          title: \"castle\",\n          userId: 239,\n          url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n        },\n        address: {\n          id: 2,\n          userId: 239,\n          userName: \"花\",\n          postalCode: \"100032\",\n          provinceName: \"北京市\",\n          cityName: \"北京市\",\n          countryName: \"西城区\",\n          detailInfo: \"哈哈哈哈哈哈哈\",\n          nationalCode: \"110102\",\n          telNumber: \"13146319393\"\n        }\n      }, {\n        id: 129,\n        price: 0.01,\n        status: 1,\n        shipTime: 1547704912000,\n        confirmTime: null,\n        userId: 0,\n        amount: 1,\n        product: {\n          wid: 148,\n          product: {\n            id: 1,\n            category: 0,\n            name: \"产品名01\",\n            intro: \"八音盒\",\n            price: 0.01,\n            status: 0,\n            createdDate: 1545545048000\n          },\n          title: \"castle\",\n          userId: 239,\n          url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n        },\n        address: {\n          id: 1,\n          userId: 239,\n          userName: \"郑一花\",\n          postalCode: \"100101\",\n          provinceName: \"北京市\",\n          cityName: \"北京市\",\n          countryName: \"朝阳区\",\n          detailInfo: \"北京绿城诚园52601\\n\\n\",\n          nationalCode: \"110105\",\n          telNumber: \"18501235898\"\n        }\n      }, {\n        id: 128,\n        price: 0.01,\n        status: 1,\n        shipTime: 1547704864000,\n        confirmTime: null,\n        userId: 0,\n        amount: 1,\n        product: {\n          wid: 148,\n          product: {\n            id: 1,\n            category: 0,\n            name: \"产品名01\",\n            intro: \"八音盒\",\n            price: 0.01,\n            status: 0,\n            createdDate: 1545545048000\n          },\n          title: \"castle\",\n          userId: 239,\n          url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n        },\n        address: {\n          id: 1,\n          userId: 239,\n          userName: \"郑一花\",\n          postalCode: \"100101\",\n          provinceName: \"北京市\",\n          cityName: \"北京市\",\n          countryName: \"朝阳区\",\n          detailInfo: \"北京绿城诚园52601\\n\\n\",\n          nationalCode: \"110105\",\n          telNumber: \"18501235898\"\n        }\n      }]\n    };\n  },\n\n  computed: {\n    orders: function orders() {\n      return this.$store.state.recordProject;\n    },\n    projectInfo: function projectInfo() {\n      return this.$store.state.recordProjectInfo;\n    }\n  },\n  methods: {\n    redirectTo: function redirectTo(path) {\n      // IMPORTANT keng. 从主页跳制作页，如果相对路径会带上参数，比如auth回来的code会一直带着，污染之后的auth\n      // 成功auth一次，就写入cookie了，所以往后跳就直接给全路径，摒弃微信弄回来的乱七八糟的参数\n      this.$router.push(path);\n    }\n  },\n  created: function created() {\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    var inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    if (getUrlParam(\"code\") || js_cookie[\"get\"](\"serviceToken\")) {\n      //TODO:ajax call to get info\n      getUserInfo(getUrlParam(\"code\")).then(function (res) {\n        if (res.data.errcode >= 20000) {\n          // 网页内cookie失效，需要重新验证\n          js_cookie[\"remove\"](\"serviceToken\");\n          location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\");\n        }\n        alert(\"welcome\" + res.data.data.realname);\n        console.log(\"get user info success\", res.data.data);\n      }).catch(function (err) {\n        js_cookie[\"remove\"](\"serviceToken\");\n        location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\");\n      });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\");\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d2e4974\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyOrders.vue\nvar MyOrders_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},_vm._l((_vm.orderList),function(order,index){return _c('order',{key:order.id,attrs:{\"info\":order}})}),1)}\nvar MyOrders_staticRenderFns = []\nvar MyOrders_esExports = { render: MyOrders_render, staticRenderFns: MyOrders_staticRenderFns }\n/* harmony default export */ var components_MyOrders = (MyOrders_esExports);\n// CONCATENATED MODULE: ./src/components/MyOrders.vue\nfunction MyOrders_injectStyle (ssrContext) {\n  __webpack_require__(\"iB9p\")\n}\nvar MyOrders_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MyOrders___vue_template_functional__ = false\n/* styles */\nvar MyOrders___vue_styles__ = MyOrders_injectStyle\n/* scopeId */\nvar MyOrders___vue_scopeId__ = \"data-v-2d2e4974\"\n/* moduleIdentifier (server only) */\nvar MyOrders___vue_module_identifier__ = null\nvar MyOrders_Component = MyOrders_normalizeComponent(\n  MyOrders,\n  components_MyOrders,\n  MyOrders___vue_template_functional__,\n  MyOrders___vue_styles__,\n  MyOrders___vue_scopeId__,\n  MyOrders___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_MyOrders = (MyOrders_Component.exports);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\n// import MBMaker from '@/components/MBMaker';\n\n// import MBAuthor from '@/components/MBAuthor';\n\n// import MBViewer from '@/components/MBViewer';\n\n\n\n\n\n\n\n\n\n\nvue_esm[\"a\" /* default */].use(vue_router_esm[\"a\" /* default */]);\n\n/* harmony default export */ var router = (new vue_router_esm[\"a\" /* default */]({\n  // mode: 'history', // avoid hash in url\n  routes: [{\n    path: '/',\n    name: 'HelloWorld',\n    component: src_components_HelloWorld\n  }, {\n    path: '/new-music-box-maker',\n    name: 'NMBMaker',\n    component: src_components_NMBMaker\n  }, {\n    path: '/new-music-box-roll',\n    name: 'MBRoll',\n    component: src_components_MBRollMaker\n  }, {\n    path: '/new-music-box-viewer',\n    name: 'NMBViewer',\n    component: src_components_NMBViewer\n  }, {\n    path: '/product-list',\n    name: 'productList',\n    component: src_components_ProductList\n  }, {\n    path: '/order-confirm',\n    name: 'OrderConfirm',\n    component: src_components_OrderConfirm\n  }, {\n    path: '/musixiser',\n    name: 'MusixiserDetail',\n    component: src_components_MusixiserDetail\n  }, {\n    path: '/myfav',\n    name: 'MyFav',\n    component: src_components_MyFav\n  }, {\n    path: '/mymusic',\n    name: 'MyMusic',\n    component: src_components_MyMusic\n  }, {\n    path: '/recommend',\n    name: 'Recommend',\n    component: src_components_Recommend\n  }, {\n    path: '/my-orders',\n    name: 'MyOrders',\n    component: src_components_MyOrders\n  }]\n}));\n// CONCATENATED MODULE: ./src/main.js\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n// import VueTouch from 'vue-touch';\n\n\n\n\n\n\n// Vue.use(VueTouch, { name: 'v-touch' });\nvue_esm[\"a\" /* default */].use(lib_default.a, { defaultType: 'center', duration: 2500, wordWrap: false, width: 'auto' });\nvue_esm[\"a\" /* default */].config.productionTip = false;\nvar store = createStore();\nObject(vuex_router_sync[\"sync\"])(store, router);\n\n/* eslint-disable no-new */\nnew vue_esm[\"a\" /* default */]({\n  el: '#app',\n  router: router,\n  store: store,\n  template: '<App/>',\n  components: { App: src_App }\n});\n\n/***/ }),\n\n/***/ \"SaBO\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ \"SpEx\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/oops.7bb4a06.png\";\n\n/***/ }),\n\n/***/ \"YKqf\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"ZGF8\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"e195\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"eTTF\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"iB9p\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"lcDq\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"oi08\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"t0gW\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ \"v2ns\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"vmYS\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ \"yiAg\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.b915fd62c83c227728ae.js","import * as Cookies from 'js-cookie';\n// import Vue from 'vue';\nconst axios = require('axios');\n\naxios.interceptors.response.use((res) => {\n  if (res.data.errcode !== '0') {\n    alert(res.data.resmsg);\n    return Promise.reject(res);\n  }\n  return res;\n});\nconst reqConfig = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n};\n// const tokenObj = { access_token: '' };\n// TODO:cause 500?????? just cuz this few lines???\n\nexport function getUserInfo(wxcode) {\n  const tokenInCookie = Cookies.get('serviceToken');\n  if (tokenInCookie) {\n    // alert('cookie used');\n    reqConfig.headers.Authorization = `${tokenInCookie}`;\n    // tokenObj.access_token = tokenInCookie;\n    return axios.get('//api.octave-love.com/api/v1/user/getInfo', reqConfig);\n  } else if (!tokenInCookie && wxcode) {\n    // alert('no cookie');\n    return new Promise((resolve, reject) => {\n      axios\n        .post(\n          `//api.octave-love.com/api/v1/user/oauth/wechat/callback?code=${wxcode}`,\n          '',\n          reqConfig,\n        )\n        .then(\n          (res) => {\n            if (res.data.errcode === 20001) {\n              reject(20001); // 相当于return了\n            }\n            const serviceToken = res.data.data.id_token;\n            reqConfig.headers.Authorization = `${serviceToken}`;\n            // tokenObj.access_token = serviceToken;\n            Cookies.set('serviceToken', serviceToken, {\n              expires: 7,\n            });\n            return axios.get('//api.octave-love.com/api/v1/user/getInfo', reqConfig);\n          },\n          () => {\n            reject();\n          },\n        )\n        .then((res) => {\n          resolve(res);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n  // !tokenInCookie&&!wxcode的情况在app.js里处理, 不会走到这里\n  return false;\n}\n\nexport function uploadRecord(record, info) {\n  return new Promise((resolve, reject) => {\n    // create a new midi file\n    const midi = MidiConvert.create();\n    console.log('record', record);\n    // record = [{\"note\":\"E6\",\"time\":0},{\"note\":\"Eb6\",\"time\":0.314},{\"note\":\"E6\",\"time\":0.675},{\"note\":\"Eb6\",\"time\":0.989},{\"note\":\"E6\",\"time\":1.351},{\"note\":\"B5\",\"time\":1.656},{\"note\":\"D6\",\"time\":2},{\"note\":\"C6\",\"time\":2.325},{\"note\":\"A4\",\"time\":2.706},{\"note\":\"A5\",\"time\":2.711},{\"note\":\"E5\",\"time\":3.442},{\"note\":\"C5\",\"time\":3.442},{\"note\":\"C5\",\"time\":3.792},{\"note\":\"E5\",\"time\":4.132},{\"note\":\"A5\",\"time\":4.469},{\"note\":\"B5\",\"time\":4.818},{\"note\":\"Ab4\",\"time\":4.833},{\"note\":\"D5\",\"time\":5.551},{\"note\":\"B4\",\"time\":5.556},{\"note\":\"E5\",\"time\":5.953},{\"note\":\"Ab5\",\"time\":6.3},{\"note\":\"B5\",\"time\":6.609},{\"note\":\"C6\",\"time\":6.936},{\"note\":\"A4\",\"time\":6.971},{\"note\":\"E5\",\"time\":7.666},{\"note\":\"C5\",\"time\":7.666},{\"note\":\"E5\",\"time\":8.014},{\"note\":\"E6\",\"time\":8.318},{\"note\":\"Eb6\",\"time\":8.651},{\"note\":\"E6\",\"time\":8.997},{\"note\":\"Eb6\",\"time\":9.327},{\"note\":\"E6\",\"time\":9.629},{\"note\":\"B5\",\"time\":10.013},{\"note\":\"D6\",\"time\":10.375},{\"note\":\"C6\",\"time\":10.728},{\"note\":\"A4\",\"time\":11.086},{\"note\":\"A5\",\"time\":11.087},{\"note\":\"E5\",\"time\":11.787},{\"note\":\"C5\",\"time\":11.858},{\"note\":\"C5\",\"time\":12.215},{\"note\":\"E5\",\"time\":12.59},{\"note\":\"A5\",\"time\":12.938},{\"note\":\"Ab4\",\"time\":13.307},{\"note\":\"B5\",\"time\":13.313},{\"note\":\"B4\",\"time\":14.053},{\"note\":\"D5\",\"time\":14.061},{\"note\":\"D5\",\"time\":14.4},{\"note\":\"C6\",\"time\":14.87},{\"note\":\"B5\",\"time\":15.438},{\"note\":\"A4\",\"time\":16.068},{\"note\":\"A5\",\"time\":16.099},{\"note\":\"C5\",\"time\":16.535},{\"note\":\"E5\",\"time\":17.027},{\"note\":\"A5\",\"time\":17.627}]\n\n    // add a track\n    // midi\n    //   .track()\n    //   // select an instrument by its MIDI patch number\n    //   .patch(32)\n    //   // chain note events: note, time, duration\n    //   .note(60, 0, 2)\n    //   .note(63, 1, 2)\n    //   .note(60, 2, 2);\n\n    record.reduce((acc, cur) => {\n      return acc.note(\n        Tone.Frequency(cur.note).toMidi(),//midiNo,\n        cur.time, //startTime,\n        1//duration,\n        //velocity\n      );\n    }, midi.track(0).patch(32));\n\n    const formReqConfig = {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n        processData: false,\n        Authorization: reqConfig.headers.Authorization,\n      },\n    };\n    // const blob = new Blob([JSON.stringify(record)]);\n    // const blob = new Blob([JSON.stringify(midi.encode())]);\n\n    const binaryString = midi.encode();\n    // write the output\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i < binaryString.length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    const blob = new Blob([bytes], {\n      type: 'audio/midi;charset=binary',\n    });\n    const reader = new FileReader();\n    reader.onload = async (event) => {\n      const fd = new FormData();\n      // fd.append('fname', 'test.txt');\n      fd.append('fname', 'output.mid');\n      fd.append('data', event.target.result);\n      // fd.append('access_token', tokenObj.access_token);\n      let postFix = '';\n      try {\n        // important, othereise dispatch won't be stoped here...\n        postFix = await axios.post('//api.octave-love.com/api/v1/uploadAudio', fd, formReqConfig);\n      } catch (e) {\n        console.log(e);\n        reject(e);\n      }\n      const workURL = `${postFix.data.data}`;\n      const param = {\n        // ...tokenObj,\n        ...info, // title,content.cover\n        url: workURL,\n      };\n      console.log(workURL);\n      return axios\n        .post('//api.octave-love.com/api/v1/work/create', JSON.stringify(param), reqConfig)\n        .then((res) => {\n          resolve(res.data.data);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    };\n    reader.readAsDataURL(blob);\n  });\n  // trigger the read from the reader...\n}\n\nexport function fetchMbox(id) {\n  return axios.get(`//api.octave-love.com/api/v1/work/detail/${id}`, reqConfig);\n}\nexport function fetchMusixiser(id) {\n  return axios.get(`//api.octave-love.com/api/v1/user/detail/${id}`, reqConfig);\n}\nexport function fetchWorksFromMusixiser(id, page) {\n  return axios.get(\n    `//api.octave-love.com/api/v1/work/getListByUid/${id}?page=${page}&size=15`,\n    reqConfig,\n  );\n}\nexport function fetchFavWorks(id, page) {\n  return axios.get(\n    `//api.octave-love.com/api/v1/favorite/getWorkList/${id}?page=${page}&size=15`,\n    reqConfig,\n  );\n}\nexport function toggleFavSong({ workId, status }) {\n  return axios.post(\n    '//api.octave-love.com/api/v1/favorite/create',\n    JSON.stringify({ workId, status }),\n    reqConfig,\n  );\n  // .then((res) => { console.log(res); })\n  // .catch((err) => { console.log(err); });\n}\nexport function updateWorkTitle({ id, title }) {\n  return axios.put(\n    `//api.octave-love.com/api/v1/work/updateWork/${id}`,\n    JSON.stringify({ title }),\n    reqConfig,\n  );\n  // .then((res) => { console.log(res); })\n  // .catch((err) => { console.log(err); });\n}\nexport function getRecommendations() {\n  return axios.post('//api.octave-love.com/api/v1/home', '', reqConfig);\n}\n\nexport function createOrder({ pid, wid, amount, addressId }) {\n  return axios.post(\n    '//api.octave-love.com/api/v1/shop/orders/create',\n    JSON.stringify({ pid, wid, amount, addressId }),\n    reqConfig,\n  );\n}\n\nexport function payOrder({ orderId }) {\n  return axios.post(\n    `//api.octave-love.com/api/v1/shop/pay/unifiedorder?orderId=${orderId}`,\n    '',\n    reqConfig,\n  );\n}\n\nexport function sendAddress(addressVO) {\n  return axios.post(\n    '//api.octave-love.com/api/v1/shop/address/create',\n    JSON.stringify(addressVO),\n    reqConfig\n  )\n}\nexport function fetchProductList() {\n  return axios.get(\n    '//api.octave-love.com/api/v1/admin/shop/products',\n    reqConfig\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/api.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ac924e68\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ac924e68\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","export function getUrlParam(key) {\n  const reg = new RegExp(`[?|&]${key}=([^&]+)`);\n  const match = location.search.match(reg);\n  return match && match[1];\n}\n\nexport function getUrlParam1(key) {\n  const reg = new RegExp(`[?|&]${key}=([^&]+)`);\n  const match = location.search.match(reg);\n  return match && match[1];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/util.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a687a94\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a687a94\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0a687a94\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","const Tone = require('tone');\n\nTone.Transport.cancel();\nconst SAME_NOTE_INTERVAL = 1; // 同一个音不能相距小于1秒，不然音片打击出问题\nlet musicPreview;\n\nlet oncePlayed = false;\n// notesInfo example\n// let work = [{note: \"E4\", time: 0.14585000000000037},\n// {note: \"G4\", time: 1.0295},\n// {note: \"G4\", time: 1.3985},\n// {note: \"E4\", time: 2.6605300000000005},\n// {note: \"D4\", time: 3.4207450000000006},\n// {note: \"C4\", time: 4.196245000000001},\n// {note: \"G4\", time: 2.671395000000004},\n// {note: \"A4\", time: 3.35932},\n// {note: \"B4\", time: 4.183044999999998}]\n// const mbox = new Tone.MonoSynth({\n//   volume: -10,\n//   envelope: {\n//     attack: 0.1,\n//     decay: 0.3,\n//     release: 2,\n//   },\n//   filterEnvelope: {\n//     attack: 0.001,\n//     decay: 0.01,\n//     sustain: 0.5,\n//     baseFrequency: 200,\n//     octaves: 2.6,\n//   },\n// }).toMaster();\n// const mbox = new Tone.PolySynth(6, Tone.Synth, {\n//   oscillator: {\n//     partials: [0, 2, 3, 4],\n//   },\n// }).toMaster();\n// const mbox = new Tone.Sampler({\n//   C4: 'C4.[mp3|ogg]',\n//   'D#4': 'Ds4.[mp3|ogg]',\n//   'F#4': 'Fs4.[mp3|ogg]',\n//   A4: 'A4.[mp3|ogg]',\n//   C5: 'C5.[mp3|ogg]',\n//   'D#5': 'Ds5.[mp3|ogg]',\n//   'F#5': 'Fs5.[mp3|ogg]',\n//   A5: 'A5.[mp3|ogg]',\n//   C6: 'C6.[mp3|ogg]',\n// }, {\n//   release: 1,\n//   baseUrl: '/static/audio/',\n// }).toMaster();\n\nconst mbox = new Tone.Sampler(\n  {\n    B3: 'B3.[mp3|ogg]',\n    E4: 'E4.[mp3|ogg]',\n    G4: 'G4.[mp3|ogg]',\n    B4: 'B4.[mp3|ogg]',\n    'C#5': 'Cs5.[mp3|ogg]',\n    E5: 'E5.[mp3|ogg]',\n    G5: 'G5.[mp3|ogg]',\n    B5: 'B5.[mp3|ogg]',\n    'C#6': 'Cs6.[mp3|ogg]',\n  },\n  {\n    release: 1,\n    // baseUrl: '/static/audio/mbox/',\n    baseUrl: '//cnbj1.fds.api.xiaomi.com/mbox/audio/mbox/',\n  },\n).toMaster();\n\nexport function RealMagic(items) {\n  console.log('== Enter RealMagic ==');\n  console.log(JSON.stringify(items));\n  const tasksObj = {};\n  items.forEach((item) => {\n    //* 2 cuz print mbox need 1 octave higher.\n    const itemNoteFreq = parseInt(Tone.Frequency(item.note).toFrequency() * 2, 10);\n    if (!tasksObj[itemNoteFreq]) {\n      tasksObj[itemNoteFreq] = [];\n    }\n    tasksObj[itemNoteFreq].push(item.time);\n  });\n  // tasksObj is like {784:[1.0295,1.39,2.6713],659:[2.66],...}\n\n  // then we focus on each task\n  const taskTypes = Object.keys(tasksObj); // [659,784,...]  freq array, 排好序的（object.keys）\n  const taskTimeArrays = Object.values(tasksObj); // [[2.66]，[1.0295,1.39,2.6713]] 顺序跟上面对应的\n  const machines = []; // init with existing types, will add more machines\n  const groups = []; // will final be [[1],[1,2,1],...], corespond to taskTimeArrays\n\n  if (taskTypes.length > 18) {\n    console.log('音种类超过18个，这个做不了');\n    return false;\n  }\n\n  taskTimeArrays.forEach((timeArray) => {\n    const final = [];\n    timeArray.forEach((time, j) => {\n      const test = []; // 校验当前final里不能用的序号， final里序号种类和test种类相同则证明不行\n      let allPreviousOccupied = false;\n      let successFound = false;\n      if (j === 0) {\n        final.push(1); // 给第1组的第一个任务分配第一个机器\n      } else {\n        let counter = j;\n        while (counter >= 1 && !allPreviousOccupied) {\n          // TODO: -1 or 0\n          counter -= 1;\n          if (\n            time - timeArray[counter] >= SAME_NOTE_INTERVAL &&\n            test.indexOf(final[counter]) === -1\n          ) {\n            final.push(final[counter]);\n            successFound = true;\n            break;\n          } else if (test.indexOf(final[counter]) === -1) {\n            test.push(final[counter]);\n            if ([...new Set(final)].length === [...new Set(test)].length) {\n              // final目前已有的都不满足，set可以取unique elements [1,1,2,2,3,1] => [1,2,3]\n              allPreviousOccupied = true;\n              break;\n            }\n          }\n        }\n        if ((counter === 0 && !successFound) || allPreviousOccupied) {\n          final.push(Math.max(...final) + 1);\n        }\n      }\n    });\n    groups.push(final);\n  });\n  console.log(taskTypes);\n  console.log(taskTimeArrays);\n  console.log('hehe', groups); // [[1],[1,2,1],...], corespond to taskTimeArrays\n\n  // now we have groups, let's build machines based on this\n  groups.forEach((group, index) => {\n    let count = 0;\n    while (count <= Math.max(...group) - 1) {\n      machines.push(taskTypes[index]);\n      count += 1;\n    }\n  });\n  if (machines.length < 18) {\n    const lastMachine = machines[machines.length - 1];\n    while (machines.length < 18) {\n      machines.push(lastMachine); // make it length of 18\n    }\n    // machines is like [\"1046\", \"1174\", \"1318\", \"1318\", \"1318\", \"1396\", \"1567\"] of 18 length\n  } else if (machines.length > 18) {\n    console.log('所需音片儿超过18个');\n    return false;\n  }\n  return true;\n}\n\nexport function mapNoteTimeToColor(time) {\n  const COLOR1 = [151, 255, 241];\n  const COLOR2 = [137, 228, 217];\n  const COLOR3 = [143, 123, 242];\n  const TIME_MAX = 20;\n  let rgb = [0, 0, 0];\n  if (time < 0 || time > TIME_MAX) {\n    // console.warn('we don\\'t allow time above 20. from \\'mapNoteTimeToColor\\' util function');\n  } else if (time <= 10) {\n    rgb = [\n      COLOR1[0] + time * (COLOR2[0] - COLOR1[0]) / (TIME_MAX / 2),\n      COLOR1[1] + time * (COLOR2[1] - COLOR1[1]) / (TIME_MAX / 2),\n      COLOR1[2] + time * (COLOR2[2] - COLOR1[2]) / (TIME_MAX / 2),\n    ];\n  }\n  rgb = [\n    COLOR2[0] + time * (COLOR3[0] - COLOR2[0]) / (TIME_MAX / 2),\n    COLOR2[1] + time * (COLOR3[1] - COLOR2[1]) / (TIME_MAX / 2),\n    COLOR2[2] + time * (COLOR3[2] - COLOR2[2]) / (TIME_MAX / 2),\n  ];\n  // console.log(`rgb(${Math.floor(rgb[0])},${Math.floor(rgb[1])},${Math.floor(rgb[2])})`);\n  return `rgb(${Math.floor(rgb[0])},${Math.floor(rgb[1])},${Math.floor(rgb[2])})`;\n}\nexport function mapNoteMidiToLength(noteName) {\n  // in our context, the midi range would be from 60 - 84\n  // 75 is rem to px\n  // return `${(75 * 0.8 * ((Tone.Frequency(noteName).toMidi() - 60) / (84 - 40))) + 0.2}`;\n  // 50 - 110\n  return `${75 * 0.8 * ((Tone.Frequency(noteName).toMidi() - 50) / (110 - 40)) + 0.2}`; // 75 is rem to px\n}\n\nexport function clearTone(parts) {\n  // 本方法只为Tone.js不在各页面中全局污染，完全是作者这包操蛋\n  if (parts && parts.length) {\n    // 传进来值 挨个dispose。。。\n    parts.forEach((part) => {\n      try {\n        part.dispose();\n      } catch (e) {\n        //\n      }\n    });\n  }\n  if (musicPreview) {\n    // 清理自己的musicPreview\n    try {\n      musicPreview.dispose();\n    } catch (e) {\n      //\n    }\n  }\n}\nexport function preview(items, start) {\n  console.log('current state', Tone.Transport.state);\n  // if (Tone.Transport.state === 'stopped') {\n  if (start) {\n    // TODO: this is weird...but you need to play something to make sure it works\n    // trigger to avoid no sound\n    if (!oncePlayed) {\n      mbox.triggerAttack('E6', 0, 0);\n      oncePlayed = true;\n    }\n    if (musicPreview) {\n      try {\n        musicPreview.dispose();\n      } catch (e) {\n        //\n      }\n    }\n    musicPreview = new Tone.Part((time, value) => {\n      // mbox.triggerAttackRelease(value.note, '4n', time);\n      mbox.triggerAttackRelease(Tone.Frequency(value.midi, 'midi'), '4n', time);\n    }, items).start(0, 0);\n    musicPreview.loop = true;\n    \n    const lastNote = items[items.length-1]\n    if (lastNote.time>=20) {\n      musicPreview.loopEnd = lastNote.time + lastNote.duration + 2\n    } else {\n      musicPreview.loopEnd = 21; // 20s的作品，多一秒喘息\n    }\n    Tone.Transport.start('+0.01', 0);\n  } else {\n    Tone.Transport.stop(0);\n  }\n}\n\nexport function previewMidi(url, start) {\n  MidiConvert.load(url, (midi) => {\n    const mergeNotes = midi.tracks.reduce((a, b) => a.concat(b.notes), []);\n    preview(mergeNotes, start)\n  });\n}\n\nexport function canMakePaper30(items) {\n  const paper30Notes = [48,50,55,57,59,60,62,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,86,88]\n  return items.every(item=>paper30Notes.indexOf(item)>=0)\n}\nexport function canMakePaper15(items) {\n  const paper15Notes = [48,50,52,53,55,57,59,60,62,64,65,67,69,71,72]\n  return items.every(item=>paper15Notes.indexOf(item)>=0)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/magic.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e5d6830\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NMBMaker.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NMBMaker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NMBMaker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e5d6830\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NMBMaker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e5d6830\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NMBMaker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e8cb9b0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./countButton.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./countButton.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./countButton.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e8cb9b0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./countButton.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e8cb9b0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/countButton.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51eca1d1\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NMBViewer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NMBViewer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NMBViewer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51eca1d1\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NMBViewer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-51eca1d1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NMBViewer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f49f988e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./pieProgress.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./pieProgress.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./pieProgress.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f49f988e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./pieProgress.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f49f988e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/pieProgress.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8e19a336\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MBRollMaker.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MBRollMaker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MBRollMaker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8e19a336\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MBRollMaker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8e19a336\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MBRollMaker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2caa14dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MusixiserDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MusixiserDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MusixiserDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2caa14dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MusixiserDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2caa14dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MusixiserDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-491033b3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MyFav.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyFav.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyFav.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-491033b3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyFav.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-491033b3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MyFav.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-19450186\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MyMusic.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyMusic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyMusic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-19450186\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyMusic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-19450186\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MyMusic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6504a5df\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6504a5df\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6504a5df\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-146a3d45\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProductList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProductList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-146a3d45\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProductList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-146a3d45\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ProductList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07c975ea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrderConfirm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderConfirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderConfirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-07c975ea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrderConfirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-07c975ea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/OrderConfirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50df088b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Order.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Order.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50df088b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50df088b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/Order.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d2e4974\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MyOrders.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyOrders.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyOrders.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d2e4974\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyOrders.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d2e4974\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MyOrders.vue\n// module id = null\n// module chunks = ","import {\n  // fetchUser,\n  // fetchItems,\n  // fetchIdsByType,\n  fetchMbox,\n  uploadRecord,\n  fetchMusixiser,\n  fetchWorksFromMusixiser,\n  fetchFavWorks,\n  fetchProductList\n} from '../_common/js/api';\n/*\n  getUserInfo\n  getWorkInfo\n  getMusixiserInfo\n  saveWork\n*/\nexport default {\n  BOUNCE_PROJECT: ({ commit, state }, { record, info }) => uploadRecord(record, info),\n  // 存作品到后台\n  // uploadRecord(record, info).then(() => {\n  //   // commit('SET_BOUNCE_PROJECT', { record, info });\n  //   // 可以在组建直接跳链接，不commit 存store一道\n  // });\n\n  FETCH_MBOX: async ({ commit, state }, { id }) =>\n    // {\n    //   const project = await fetchMbox(id);\n    //   console.log('xxi', project.data.data.url);\n    //   console.log('xxi', project.data.data.userId);\n    //   const musixiser = await fetchMusixiser(project.data.data.userId);\n    //   console.log('work musixiser info: ', musixiser.data.data);\n    //   project.data.data.userVO = musixiser.data.data; // 拼接口。\n    //   // MidiConvert.load(project.data.data.url, (midi) => {\n    //   MidiConvert.load('//cdn.cnbj1.fds.api.mi-img.com/lftemp/silent_night_easy.mid', (midi) => {\n    //     commit('SET_ID_PROJECT', {\n    //       record: midi.tracks[0].notes,\n    //       info: project.data.data,\n    //     });\n    //   });\n    // },\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchMbox(id).then((project) => {\n        console.log('xxi', project.data.data.url);\n        console.log('xxi', project.data.data.userId);\n        fetchMusixiser(project.data.data.userId).then((musixiser) => {\n          console.log('work musixiser info: ', musixiser.data.data);\n          project.data.data.userVO = musixiser.data.data; // 拼接口。\n          // load music notes/ midi notes\n          // '//cdn.cnbj1.fds.api.mi-img.com/lftemp/silent_night_easy.mid' => test url\n\n          MidiConvert.load(project.data.data.url, (midi) => {\n            console.log('midi', midi);\n            const mergeNotes = midi.tracks.reduce((a, b) => a.concat(b.notes), []);\n            commit('SET_ID_PROJECT', {\n              record: mergeNotes, // midi.tracks[1].notes, // TODO:稍后要改成0\n              info: project.data.data,\n            });\n            resolve();\n          });\n          // const request = new XMLHttpRequest();\n          // request.open('GET', project.data.data.url, true);\n          // request.send(null);\n          // request.onreadystatechange = function () {\n          //   if (request.readyState === 4 && request.status === 200) {\n          //     const type = request.getResponseHeader('Content-Type');\n          //     if (type.indexOf('text') !== -1) {\n          //       commit('SET_ID_PROJECT', {\n          //         record: JSON.parse(request.responseText),\n          //         info: project.data.data,\n          //       });\n          //       resolve();\n          //     }\n          //   }\n          // };\n        });\n      });\n    }),\n  FETCH_MUSIXISER: ({ commit, state }, { id }) =>\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchMusixiser(id).then((musixiser) => {\n        console.log('musixiser info: ', musixiser.data.data);\n        commit('SET_MUSIXISER', { musixiserInfo: musixiser.data.data });\n        resolve();\n      });\n    }),\n  FETCH_WORKS_FROM_MUSIXISER: ({ commit, state }, { id, page }) =>\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchWorksFromMusixiser(id, page).then((works) => {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_MUSIXISER_WORKS', { musixiserWorksObj: works.data.data });\n        resolve();\n      });\n    }),\n  FETCH_FAV_WORKS: ({ commit, state }, { id, page }) =>\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchFavWorks(id, page).then((works) => {\n        console.log('works list: ', works.data.data);\n        commit('PUSH_FAV_WORKS', { favWorksObj: works.data.data });\n        resolve();\n      });\n    }),\n  FETCH_PRODUCTLIST: ({ commit, state }, { id, page }) =>\n    new Promise((resolve, reject) => {\n      // 获取某id的音乐盒音乐内容\n      fetchProductList().then((products) => {\n        console.log('product list: ', products.data.data.list);\n        commit('PUSH_PRODUCTLIST', { productList: products.data.data.list });\n        resolve();\n      });\n    }),\n  //   // ensure data for rendering given list type\n  //   FETCH_LIST_DATA: ({ commit, dispatch, state }, { type }) => {\n  //     commit('SET_ACTIVE_TYPE', { type });\n  //     return fetchIdsByType(type)\n  //       .then(ids => commit('SET_LIST', { type, ids }))\n  //       .then(() => dispatch('ENSURE_ACTIVE_ITEMS'));\n  //   },\n  //\n  //   // ensure all active items are fetched\n  //   ENSURE_ACTIVE_ITEMS: ({ dispatch, getters }) => dispatch('FETCH_ITEMS', {\n  //     ids: getters.activeIds,\n  //   }),\n  //\n  //   FETCH_ITEMS: ({ commit, state }, { ids }) => {\n  //     // on the client, the store itself serves as a cache.\n  //     // only fetch items that we do not already have, or has expired (3 minutes)\n  //     const now = Date.now();\n  //     ids = ids.filter((id) => {\n  //       const item = state.items[id];\n  //       if (!item) {\n  //         return true;\n  //       }\n  //       if (now - item.__lastUpdated > 1000 * 60 * 3) {\n  //         return true;\n  //       }\n  //       return false;\n  //     });\n  //     if (ids.length) {\n  //       return fetchItems(ids).then(items => commit('SET_ITEMS', { items }));\n  //     }\n  //     return Promise.resolve();\n  //   },\n  //\n  //   FETCH_USER: ({ commit, state }, { id }) => (state.users[id]\n  //       ? Promise.resolve(state.users[id])\n  //       : fetchUser(id).then(user => commit('SET_USER', { id, user }))),\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue';\n\nexport default {\n  SET_USER_INFO: (state, { type }) => {\n    // 个人信息\n    state.activeType = type;\n  },\n\n  SET_WORK_INFO: (state, { type, ids }) => {\n    // 作品详情\n    state.lists[type] = ids;\n  },\n\n  SET_MUSIXISER_INFO: (state, { items }) => {\n    // 作者信息\n    items.forEach((item) => {\n      if (item) {\n        Vue.set(state.items, item.id, item);\n      }\n    });\n  },\n  SET_BOUNCE_PROJECT: (state, { record }) => {\n    // 储存录制信息\n    state.recordProject = record;\n  },\n  SET_ID_PROJECT: (state, { record, info }) => {\n    // 储存录制信息\n    state.recordProject = record; // this is the music itself\n    state.recordProjectInfo = info; // this includes all the relative info\n  },\n  SET_MUSIXISER: (state, { musixiserInfo }) => {\n    // 储存录制信息\n    state.musixiserInfo = musixiserInfo;\n  },\n  PUSH_MUSIXISER_WORKS: (state, { musixiserWorksObj }) => {\n    // 储存录制信息\n    console.log('ccccc', musixiserWorksObj.current);\n    if (+musixiserWorksObj.current === 1) {\n      state.musixiserWorksObj.content = musixiserWorksObj.list;\n    } else {\n      state.musixiserWorksObj.content = state.musixiserWorksObj.content.concat(\n        musixiserWorksObj.list,\n      );\n    }\n    state.musixiserWorksObj.total = musixiserWorksObj.total;\n    state.musixiserWorksObj.size = musixiserWorksObj.size;\n    state.musixiserWorksObj.current = musixiserWorksObj.current;\n  },\n  PUSH_FAV_WORKS: (state, { favWorksObj }) => {\n    // 储存录制信息\n    console.log('xxxxxxx', favWorksObj);\n    if (+favWorksObj.current === 1) {\n      state.favWorksObj.content = favWorksObj.list;\n    } else {\n      state.favWorksObj.content = state.favWorksObj.content.concat(favWorksObj.list);\n    }\n    state.favWorksObj.total = favWorksObj.total;\n    state.favWorksObj.size = favWorksObj.size;\n    state.favWorksObj.current = favWorksObj.current;\n  },\n  // SET_FINAL_WORK: (state, { type }) => { // 储存成品信息\n  //   state.activeType = type;\n  // },\n  // SET_USER: (state, { id, user }) => {\n  //   Vue.set(state.users, id, user || false); /* false means user not found */\n  // },\n  SAVE_ORDER_INFO: (state, { work, product, address }) => {\n    state.orderToCreate.wid = work ? work.id : state.orderToCreate.wid;\n    state.orderToCreate.pid = product ? product.id : state.orderToCreate.pid;\n    state.orderToCreate.address = address || state.orderToCreate.address;\n    state.targetProduct = product || state.targetProduct\n    state.targetWork = work || state.targetWork\n  },\n  PUSH_PRODUCTLIST: (state, { productList }) => {\n    state.productList = productList\n    state.targetProduct = productList[0]\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","export default {\n  // ids of the items that should be currently displayed based on\n  // current list type and current pagination\n  activeIds(state) {\n    const { activeType, itemsPerPage, lists } = state;\n    const page = Number(state.route.params.page) || 1;\n    if (activeType) {\n      const start = (page - 1) * itemsPerPage;\n      const end = page * itemsPerPage;\n      return lists[activeType].slice(start, end);\n    }\n    return [];\n  },\n\n  // items that should be currently displayed.\n  // this Array may not be fully fetched.\n  activeItems(state, getters) {\n    return getters.activeIds.map(id => state.items[id]).filter(_ => _);\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport actions from './actions';\nimport mutations from './mutations';\nimport getters from './getters';\n\nVue.use(Vuex);\n\nexport function createStore() {\n  return new Vuex.Store({\n    state: {\n      activeType: null,\n      itemsPerPage: 20,\n      items: {\n        /* [id: number]: Item */\n      },\n      users: {\n        /* [id: string]: User */\n      },\n      lists: {\n        top: [\n          /* number */\n        ],\n        new: [],\n        show: [],\n        ask: [],\n        job: [],\n      },\n      myInfo: {},\n      recordParts: [],\n      recordProject: [],\n      musixiserInfo: {},\n      musixiserWorksObj: { content: [] },\n      favWorksObj: { content: [] },\n      targetProduct: {},\n      targetWork: {},\n      productList: [\n        {\n          \"id\": 5,\n          \"category\": 0,\n          \"name\": \"111\",\n          \"intro\": \"ssssss\",\n          \"price\": 0.01,\n          \"status\": 0,\n          \"createdDate\": 1545545063000,\n          \"previewPic\": 'http://img1.imgtn.bdimg.com/it/u=1428864537,4075266830&fm=26&gp=0.jpg'\n        },\n        {\n          \"id\": 3,\n          \"category\": 0,\n          \"name\": \"产品名02\",\n          \"intro\": \"八音盒02\",\n          \"price\": 0.02,\n          \"status\": 0,\n          \"createdDate\": 1545545057000,\n          \"previewPic\": 'http://img5.imgtn.bdimg.com/it/u=2832745675,3618470846&fm=26&gp=0.jpg'\n        },\n        {\n          \"id\": 2,\n          \"category\": 0,\n          \"name\": \"产品名03\",\n          \"intro\": \"八音盒01\",\n          \"price\": 0.02,\n          \"status\": 0,\n          \"createdDate\": 1545545054000,\n          \"previewPic\": 'http://img3.imgtn.bdimg.com/it/u=567439238,127662271&fm=26&gp=0.jpg'\n        },\n        {\n          \"id\": 1,\n          \"category\": 0,\n          \"name\": \"产品名04\",\n          \"intro\": \"八音盒\",\n          \"price\": 0.01,\n          \"status\": 0,\n          \"createdDate\": 1545545048000,\n          \"previewPic\": 'http://img5.imgtn.bdimg.com/it/u=771337150,1492914445&fm=26&gp=0.jpg'\n        }\n      ], // ProductList.vue\n      orderToCreate: {\n        // OrderConfirm.vue & createOrder\n        wid: '',\n        pid: '',\n        address: {},\n      },\n    },\n    actions,\n    mutations,\n    getters,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n  <div id=\"app\">\n    <transition :name=\"transitionName\">\n      <router-view :screenOrientation=\"screenOrientation\"/>\n    </transition>\n  </div>\n</template>\n\n<script>\n// https://router.vuejs.org/en/advanced/transitions.html\nexport default {\n  name: \"app\",\n  data() {\n    return {\n      transitionName: \"fade\",\n      screenOrientation: \"\"\n    };\n  },\n  created() {\n    const win = window;\n    const docElem = document.documentElement;\n    const on = \"addEventListener\";\n    let timeoutId;\n\n    function delaySetRem() {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(setRem, 300);\n    }\n\n    function setRem() {\n      win.rem = docElem.getBoundingClientRect().width / 10;\n      docElem.style.fontSize = win.rem + \"px\";\n    }\n\n    setRem();\n    docElem.setAttribute(\"data-dpr\", win.devicePixelRatio);\n    win[on](\"resize\", delaySetRem);\n    win[on](\"pageshow\", function(e) {\n      if (e.persisted) {\n        delaySetRem();\n      }\n    });\n    //add by ziwen\n    if (window.orientation === 180 || window.orientation === 0) {\n      // 竖屏状态\n      this.screenOrientation = \"portrait\";\n    }\n    if (window.orientation === 90 || window.orientation === -90) {\n      // 横屏状态\n      this.screenOrientation = \"landscape\";\n    }\n    win[on](\"orientationchange\", () => {\n      console.log(screen.orientation);\n      console.log(window.orientation);\n      if (window.orientation === 180 || window.orientation === 0) {\n        // 竖屏状态\n        this.screenOrientation = \"portrait\";\n      }\n      if (window.orientation === 90 || window.orientation === -90) {\n        // 横屏状态\n        this.screenOrientation = \"landscape\";\n      }\n    });\n\n    this.$store.dispatch(\"FETCH_PRODUCTLIST\", {});\n  },\n  beforeRouteUpdate(to, from, next) {\n    // const toPage = to.indexOf('make')\n    // const fromPage = from.path.split('/').length\n    // this.transitionName = toDepth < fromDepth ? 'slide-right' : 'slide-left'\n    // next()\n  }\n};\n</script>\n\n<style>\n.lx-toast {\n  rotate: 90deg;\n  transform-origin: left;\n}\n.vue-slider-component\n  .vue-slider-tooltip-wrap.vue-slider-tooltip-left\n  .vue-slider-tooltip:before {\n  border: none !important;\n}\n#app {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  user-select: none;\n  overflow: hidden;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.fade-enter-active {\n  transition: all 0.3s ease-out;\n}\n.fade-leave-active {\n  transition: all 0.3s ease-out;\n}\n.fade-enter, .fade-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":_vm.transitionName}},[_c('router-view',{attrs:{\"screenOrientation\":_vm.screenOrientation}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ac924e68\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"app\">\n    <div class=\"m-logo\"></div>\n    <div class=\"redirect-button\" id=\"mb-maker\" @touchstart=\"redirectTo('/new-music-box-maker')\">\n        去编曲\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as Util from '../_common/js/util';\nimport * as Api from '../_common/js/api';\nimport * as Cookies from 'js-cookie';\nexport default {\n  name: 'hello',\n  data() {\n    return {\n      msg: 'Welcome to Your Vue.js App',\n    };\n  },\n  methods: {\n    redirectTo(path) {\n      // IMPORTANT keng. 从主页跳制作页，如果相对路径会带上参数，比如auth回来的code会一直带着，污染之后的auth\n      // 成功auth一次，就写入cookie了，所以往后跳就直接给全路径，摒弃微信弄回来的乱七八糟的参数\n      this.$router.push(path);\n    },\n  },\n  created() {\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + 'px';\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    if (Util.getUrlParam('code') || Cookies.get('serviceToken')) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam('code'))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove('serviceToken');\n            location.replace(\n              'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect',\n            );\n          }\n          alert(`welcome${res.data.data.realname}`);\n          console.log('get user info success', res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove('serviceToken');\n          location.replace(\n            'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect',\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect',\n      );\n    }\n  },\n};\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n@import '../_common/style/_functions.scss';\n@import '../_common/style/_variables.scss';\n@import '../_common/style/_mixins.scss';\n@import '../_common/style/_reboot.scss';\n* {\n  box-sizing: border-box;\n  margin:0;\n  padding:0;\n}\n.app {\n\n  background-color: black;\n}\n.m-logo {\n  position: absolute;\n  width: getRem(200);\n  height: getRem(200);\n  top: 30%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background:url('//gw.alicdn.com/tps/TB1pfhUOFXXXXaSaXXXXXXXXXXX-350-350.png') no-repeat center center;\n  background-size: getRem(175) getRem(175);\n  background-color: #ffcc33;\n  border-radius: getRem(25);\n  animation: toupperleftwithsize 4.5s linear;\n  -webkit-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n  z-index: 2\n}\n.redirect-button {\n  width:getRem(450);\n  height: getRem(100);\n  padding: getRem(20) getRem(50);\n  background-color: #ffcc33;\n  border-radius:getRem(10);\n  color: gray;\n}\n.redirect-button,#mb-maker {\n  position: absolute;\n  top: 60%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size:.57rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('div',{staticClass:\"m-logo\"}),_vm._v(\" \"),_c('div',{staticClass:\"redirect-button\",attrs:{\"id\":\"mb-maker\"},on:{\"touchstart\":function($event){_vm.redirectTo('/new-music-box-maker')}}},[_vm._v(\"\\n      去编曲\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a687a94\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","import axios from 'axios';\nimport wx from 'weixin-js-sdk';\nimport { createOrder, payOrder, sendAddress } from './api';\nimport { fail } from 'assert';\n\nconst reqConfig = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n};\nexport const prepareShareConfig = () =>\n  new Promise((resolve, reject) => {\n    axios\n      .post(\n        `//api.octave-love.com/api/v1/wechat/getTicket?url=${encodeURIComponent(\n          window.location.href.split('#')[0],\n        )}`,\n        '',\n        reqConfig,\n      )\n      .then(\n        (res) => {\n          // alert(`before # url: ${window.location.href.split('#')[0]}`);\n          // alert(`full path: ${window.location.href}`);\n          // alert(JSON.stringify(res.data.data));\n          wx.config({\n            debug: false,\n            appId: res.data.data.appId,\n            timestamp: res.data.data.timestamp,\n            nonceStr: res.data.data.nonceStr,\n            signature: res.data.data.signature,\n            jsApiList: [\n              'onMenuShareTimeline',\n              'onMenuShareAppMessage',\n              'chooseWXPay',\n              'openAddress',\n            ],\n          });\n          wx.ready(() => {\n            // 配置wx.config成功\n            resolve(wx);\n          });\n        },\n        () => {\n          reject('配置wx.config失败');\n        },\n      );\n  });\n\n// 分享配置\nexport const prepareShareContent = ({ title, desc, fullPath, imgUrl }) => {\n  // const link = 'http://example.com/static/auth.html' +\n  //              `?redirect_uri=${encodeURIComponent(window.location.href.split('#')[0])}` +\n  //              `&full_path=${encodeURIComponent(fullPath)}`;\n  const link = fullPath;\n  wx.onMenuShareTimeline({\n    title,\n    link,\n    imgUrl,\n    success() { },\n    cancel() { },\n  });\n  wx.onMenuShareAppMessage({\n    title,\n    desc,\n    link,\n    imgUrl,\n    success() { },\n    cancel() { },\n  });\n};\n\n// order pay\nexport const makeWxOrder = async ({ pid, wid, amount, address }, successCallback, failCalback) => {\n  // new Promise((resolve, reject) => {\n  //address is \n  //     {\n  //   \"userName\": \"string\",\n  //   \"postalCode\": \"string\",\n  //   \"provinceName\": \"string\",\n  //   \"cityName\": \"string\",\n  //   \"countryName\": \"string\",\n  //   \"detailInfo\": \"string\",\n  //   \"nationalCode\": \"string\",\n  //   \"telNumber\": \"string\"\n  // }\n  console.log('------------')\n  const addressObj = await sendAddress(address)\n  console.log('===========')\n  console.log(addressObj)\n  // return\n  const res = await createOrder({ pid, wid, amount, addressId: addressObj.data.data })\n  // 得到返回的支付参数\n  // alert(JSON.stringify(res));\n  const orderId = res.data.data;\n  const payResult = await payOrder({ orderId })\n  // alert(JSON.stringify(res));\n  const params = payResult.data.data;\n  // alert(JSON.stringify(params));\n  console.log(params.nonceStr);\n  console.log(params.signType);\n  console.log(params.package);\n  console.log(params.timeStamp);\n  console.log(params.appId);\n  console.log(params.paySign);\n  console.log('sdsd');\n  wx.chooseWXPay({\n    // ...params,\n    appId: params.appId,\n    timestamp: params.timeStamp,\n    nonceStr: params.nonceStr,\n    package: params.package,\n    signType: params.signType,\n    paySign: params.paySign,\n    success(res) {\n      console.log(res);\n      // resolve(res);\n      successCallback(res)\n    },\n    fail() {\n      failCalback();\n    },\n    cancel() {\n      failCalback();\n    }\n  });\n}\n\n// });\n\nexport const createAddress = (cb1, cb2) => {\n  wx.openAddress({\n    success(res) {\n      cb1(res);\n    },\n    cancel() {\n      cb2();\n    },\n  });\n}\n// address\nexport const newMakeWxOrder = ({ pid, wid, amount }, cb1, cb2) => {\n  console.log(res);\n  createOrder({ pid, wid, amount, address: res }).then((res) => {\n    const orderId = res.data.data;\n    payOrder({ orderId }).then((res) => {\n      // alert(JSON.stringify(res));\n      const params = res.data.data;\n      alert(JSON.stringify(params));\n      console.log(params.nonceStr);\n      console.log(params.signType);\n      console.log(params.package);\n      console.log(params.timeStamp);\n      console.log(params.appId);\n      console.log(params.paySign);\n      console.log('1234');\n      wx.chooseWXPay({\n        // ...params,\n        appId: params.appId,\n        timestamp: params.timeStamp,\n        nonceStr: params.nonceStr,\n        package: params.package,\n        signType: params.signType,\n        paySign: params.paySign,\n        success(res) {\n          console.log(res);\n          cb1(res);\n        },\n        fail() {\n          cb2();\n        },\n        cancel() {\n          cb2();\n        }\n      });\n    });\n  });\n}\n\nexport const getAddress = () => {\n  new Promise((resolve, reject) => {\n    wx.openAddress({\n      success(res) {\n        console.log(res);\n        resolve(res);\n      },\n      cancel() {\n        reject();\n      },\n    });\n  });\n};\n// 调用分享\n// $_wechat().config().then((res) => {\n//   $_wechat().share({ // 配置分享\n//     title: 'wechat-spa',\n//     desc: 'Wechat SPA',\n//     fullPath: '/home/index',\n//     imgUrl: 'https://www.baidu.com/img/bd_logo1.png',\n//   });\n// }, (err) => {\n//   console.warn(err);\n// });\n\n\n\n// WEBPACK FOOTER //\n// ./src/_common/js/wx_share.js","<script>\nimport \"swiper/dist/css/swiper.css\";\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport * as WxShare from \"../_common/js/wx_share\";\nimport vueSlider from \"vue-slider-component\";\nimport { swiper, swiperSlide } from \"vue-awesome-swiper\";\n\nconst Tone = require(\"tone\");\nconst touchIdKeyMap = {}; // touch move can have several threads, each thread only activate one note at most\n// e.g. {0:a4,1:b5}\n\nconst MINI_KEY_LENGTH = 200; // px\nlet extendBtnsTimeout;\n\nlet piano = new Tone.Sampler(\n  {\n    C4: \"C4.[mp3|ogg]\",\n    \"D#4\": \"Ds4.[mp3|ogg]\",\n    \"F#4\": \"Fs4.[mp3|ogg]\",\n    A4: \"A4.[mp3|ogg]\",\n    C5: \"C5.[mp3|ogg]\",\n    \"D#5\": \"Ds5.[mp3|ogg]\",\n    \"F#5\": \"Fs5.[mp3|ogg]\",\n    A5: \"A5.[mp3|ogg]\",\n    C6: \"C6.[mp3|ogg]\"\n  },\n  {\n    release: 1,\n    // 'baseUrl': '/static/audio/'\n    baseUrl: \"//cnbj1.fds.api.xiaomi.com/mbox/audio/\"\n  }\n).toMaster();\n\n// var plucky = new Tone.PluckSynth().toMaster()\n\nconst SCREEN_WIDTH = document.documentElement.getBoundingClientRect().width;\nconst SCREEN_HEIGHT = Math.max(\n  document.documentElement.clientHeight,\n  window.innerHeight || 0\n);\n\nlet tonepart = []; // store all the music parts. (ummm,that's why it's named part...)\nlet bouncepart = [];\n\nlet recordStartTime = 0;\n\nlet isLinger = true; // 非播放状态中未开始录音\nlet replayInterval; // 控制progressbar的setinterval\nlet playOffset = 0; // 播放状态的拉条bar初始时间记录\nlet lingerOffset = 0; // 未播放状态的拉条bar初始时间记录\nconst PROGRESS_INTERVAL_TIME = 0.1; // 0.1秒挪一下\nlet tutorOnceEnter = false;\nlet tutorTimeout = [];\nexport default {\n  components: {\n    swiper,\n    swiperSlide,\n    vueSlider\n  },\n  props: [\"screenOrientation\"],\n  data() {\n    return {\n      portraitMode: true,\n      activeNote: {},\n      recordPart: [], // current record part\n      recordParts: [], // each new record goes in here.\n      playing: false,\n      generalControllerShow: false,\n      activeSwiperIndex: 3,\n      lastActiveSwiperIndex: 3 - 1,\n      vuetimeline: 0,\n      showExtendBtns: false,\n      alertAppear: false,\n      bouncing: false,\n      tutorSession: 0,\n      handClass: \"\", // hand or clickhand\n      tutorClass: \"\", // hand positioning in different session\n      timelineConfig: {\n        value: 0,\n        width: 8,\n        height: `${window.screen.height*0.9-20}px`,\n        padding: \"0\",\n        dotSize: 20,\n        eventType: \"auto\",\n        min: 0,\n        max: 200,\n        interval: 1,\n        disabled: false,\n        show: true,\n        tooltip: \"always\",\n        // tooltip: 'hidden',\n        piecewise: false,\n        reverse: true,\n        style: {\n          display: \"inline-block\"\n        },\n        class: \"star-slider\",\n        direction: \"vertical\",\n        speed: PROGRESS_INTERVAL_TIME,\n        bgStyle: {\n          backgroundColor: \"rgb(110,113,158)\",\n          boxShadow: \"inset 0.5px 0.5px 3px 1px rgba(0,0,0,.36)\"\n        },\n        tooltipDir: \"left\",\n        tooltipStyle: {\n          backgroundColor: \"rgb(69, 106, 255)\",\n          borderColor: \"rgb(69, 106, 255)\",\n          transform: \"rotate(90deg)\",\n          transformOrigin: \"right\",\n          position: \"relative\",\n          left: \"-.2rem\",\n          top: \"0.9rem\"\n        },\n        formatter(value) {\n          if (value) {\n            return `${(value / 10).toFixed(1)}s/20s`;\n          }\n          return \"0.0s/20s\";\n        },\n        processStyle: {\n          backgroundColor: \"rgb(69,106,255)\"\n        }\n      }\n    };\n  },\n  watch: {\n    playing(val) {\n      console.log(\"playing status\", val);\n      if (val) {\n        //start progress bar\n        replayInterval = setInterval(() => {\n          this.vuetimeline += 1;\n          if (this.vuetimeline >= 200) {\n            this.toggleReplay();\n            this.vuetimeline = 0;\n          }\n        }, PROGRESS_INTERVAL_TIME * 1000);\n      } else {\n        //stop progress bar\n        clearInterval(replayInterval);\n      }\n    },\n    screenOrientation() {\n      console.log('update')\n      this.$nextTick(() => this.$refs.timeline.refresh());\n    }\n  },\n  computed: {\n    swiper() {\n      return this.$refs.pianoRoll.swiper;\n    },\n    activePartIndex() {\n      return this.PARTNUM - this.activeSwiperIndex - 1;\n    },\n    lastActivePartIndex() {\n      return this.PARTNUM - this.lastActiveSwiperIndex - 1;\n    }\n  },\n  methods: {\n    load() {},\n    toggleReplay() {\n      console.log(1);\n      this.playing = !this.playing;\n      if (this.playing) {\n        if (this.vuetimeline >= 200) {\n          this.vuetimeline = 0;\n        }\n        // this.confirmRecordPart(!isLinger)\n        playOffset = performance.now() - this.vuetimeline * 100;\n        console.log(\"播放开始\");\n        this.confirmRecordPart(0);\n        console.log(\"kokokoko\");\n        recordStartTime = performance.now();\n        console.log(`activeOffsetTime${this.vuetimeline * 100}`);\n        Tone.Transport.start(\"+0.01\", (this.vuetimeline * 100) / 1000); // TODO:有问题in case < context.currentTime\n      } else {\n        console.log(\"播放停了\");\n        Tone.Transport.stop(0); // TODO：必须stop才能start。。。有没有自动stop啊..\n        // recordStartTime = performance.now()\n      }\n    },\n    handleNoteStart(noteId) {\n      let noteTime = 0;\n      // console.log('down', e.target.id)\n      piano.triggerAttack(noteId);\n      // console.log('midi no. :', Tone.Frequency(noteId).toMidi())\n      this.$set(this.activeNote, noteId, 1);\n      if (!this.playing) {\n        if (isLinger) {\n          recordStartTime = performance.now();\n          lingerOffset = this.vuetimeline * 100;\n          isLinger = false;\n        }\n        noteTime = performance.now() - recordStartTime + lingerOffset;\n      } else {\n        noteTime = performance.now() - playOffset;\n        // noteTime = this.vuetimeline * 100\n        // console.log('1', this.vuetimeline * 100)\n        // console.log('2', performance.now() - recordStartTime + this.vuetimeline*100)\n      }\n      if (noteTime < 20000) {\n        this.vuetimeline = (10 * noteTime) / 1000;\n        this.recordPart.push({\n          note: noteId,\n          time: +(noteTime / 1000).toFixed(4)\n        });\n      } else {\n        this.vuetimeline = 20 * 10; // 颗粒度是0.1s => 200份\n        console.log(\"cannot record more than 20 seconds\");\n      }\n    },\n    handleNoteEnd(noteId) {\n      piano.triggerRelease(noteId);\n      this.$set(this.activeNote, noteId, 0);\n    },\n    touchNoteStartHandler(e) {\n      console.log(e);\n      // 先存起来，防止在该键位touchmove重复\n      touchIdKeyMap[e.changedTouches[0].identifier] = e.target.id; // TODO: 猜测 touchstart只会有一个changetouches///\n      this.handleNoteStart(e.target.id);\n    },\n    touchNoteEndHandler(e) {\n      this.handleNoteEnd(e.target.id);\n      this.handleNoteEnd(touchIdKeyMap[e.changedTouches[0].identifier]); // TODO: 猜测 touchend只会有一个changetouches,记录的正好是该停的\n    },\n    confirmRecordPart(shouldClearTime) {\n      if (this.recordPart.length) {\n        console.log(\"processing track: \", this.lastActivePartIndex);\n        if (\n          this.recordParts[this.lastActivePartIndex] &&\n          this.recordParts[this.lastActivePartIndex].length\n        ) {\n          // 已在该track录过,merge both\n          this.recordPart = this.recordPart.concat(\n            this.recordParts[this.lastActivePartIndex]\n          );\n        }\n        if (tonepart[this.lastActivePartIndex]) {\n          try {\n            tonepart[this.lastActivePartIndex].dispose(); // 覆盖之前的需要dispose\n          } catch (e) {}\n        }\n        tonepart[this.lastActivePartIndex] = new Tone.Part((time, value) => {\n          // 不能老这new啊，要每次一个数组，每次改动最后一个\n          piano.triggerAttackRelease(value.note, \"8n\", time);\n        }, this.recordPart).start(0);\n        this.recordParts[this.lastActivePartIndex] = this.recordPart;\n        this.recordPart = [];\n      } else {\n        console.log(\"啥也没录\");\n      }\n      this.lastActiveSwiperIndex = this.activeSwiperIndex;\n      // reinit time\n      if (shouldClearTime) {\n        this.vuetimeline = 0; // this is kind of separate for progress view\n        recordStartTime = 0;\n      }\n      isLinger = true;\n    },\n    clearRecordPart(trackNum) {\n      console.log(`cleaning track ${trackNum}`);\n      if (this.activePartIndex === trackNum) {\n        this.recordPart = [];\n        this.vuetimeline = 0;\n        isLinger = true;\n        this.playing = false;\n        Tone.Transport.stop(0);\n      }\n      if (this.recordParts[trackNum] && this.recordParts[trackNum].length) {\n        this.$set(this.recordParts, trackNum, []);\n        if (tonepart[trackNum]) {\n          try {\n            tonepart[trackNum].dispose(); // dispose掉\n          } catch (e) {}\n          tonepart[trackNum] = undefined; // 同时要从数组中删掉\n        }\n      } else {\n        console.log(`track ${trackNum} has no content`);\n      }\n    },\n    checkBouncibility() {\n      this.confirmRecordPart(0);\n      bouncepart = [];\n      if (tonepart.length) {\n        tonepart.forEach(item => {\n          if (item && item._events.length && item._events[0].value) {\n            item._events.forEach(noteInfo => {\n              bouncepart.push(noteInfo.value);\n            });\n          }\n        });\n        bouncepart.sort((a, b) => 0 + a.time - b.time);\n        return Magic.RealMagic(bouncepart);\n      }\n      return true;\n    },\n    bounceProject() {\n      this.confirmRecordPart(0);\n      console.log(this);\n      console.log(tonepart);\n      bouncepart = [];\n      if (tonepart.length) {\n        tonepart.forEach(item => {\n          if (item && item._events.length && item._events[0].value) {\n            item._events.forEach(noteInfo => {\n              bouncepart.push(noteInfo.value);\n            });\n          }\n        });\n        bouncepart.sort((a, b) => 0 + a.time - b.time);\n        // TODO, semi done\n        this.bouncing = true;\n        this.$store\n          .dispatch(\"BOUNCE_PROJECT\", {\n            record: bouncepart,\n            info: {\n              title: \"尚未起名\",\n              content: \"default\",\n              cover: \"default\"\n            }\n          })\n          .then(id => {\n            console.log(\"successfully bounced\");\n            this.bouncing = false;\n            this.$toast(\"作品已为您存储\");\n            this.$router.push({\n              path: \"/new-music-box-viewer\",\n              query: {\n                id\n              }\n            });\n          })\n          .catch(err => {\n            this.bouncing = false;\n            this.$toast(\"非常抱歉，上传作品失败了\");\n          });\n      } else {\n        this.$toast(\"什么都没录呢\");\n      }\n    },\n    mapNoteTimeToColor(t) {\n      return Magic.mapNoteTimeToColor(t);\n    },\n    mapNoteMidiToLength(m) {\n      return Magic.mapNoteMidiToLength(m);\n    },\n    adjustTimeline(e) {\n      if (this.playing) {\n        console.log(\"ccccccccc\");\n        this.toggleReplay(); // 现在播放中拉条，直接停，涉及到ref读不到最新值貌似，无法直接继续播放 this is TODO\n      } else {\n        isLinger = true; // 你拉条了肯定是\n      }\n    },\n    onMiniKeyboardScroll(e) {\n      console.log(e.touches[0].clientY);\n    },\n    onMiniKeyboardStart(e) {\n      console.log(e);\n    },\n    keng(e) {\n      // console.log(e)\n      // console.log(document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY).style.backgroundColor=\"yellow\")\n      console.log(e); // e.touches is array like object\n      for (let i = 0; i <= e.changedTouches.length - 1; i++) {\n        const a = document.elementFromPoint(\n          e.changedTouches[i].clientX,\n          e.changedTouches[i].clientY\n        );\n        if (a.classList.contains(\"white\") || a.classList.contains(\"black\")) {\n          if (\n            touchIdKeyMap[e.changedTouches[i].identifier] &&\n            touchIdKeyMap[e.changedTouches[i].identifier] !=\n              a.getAttribute(\"id\")\n          ) {\n            // 这个touch已经触发，且和当前不一致\n            console.log(touchIdKeyMap);\n            this.handleNoteStart(a.getAttribute(\"id\"));\n            this.handleNoteEnd(touchIdKeyMap[e.changedTouches[i].identifier]);\n            touchIdKeyMap[e.changedTouches[i].identifier] = a.getAttribute(\n              \"id\"\n            );\n          } else if (!touchIdKeyMap[e.changedTouches[i].identifier]) {\n            console.log(2);\n            this.handleNoteStart(a.getAttribute(\"id\"));\n            touchIdKeyMap[e.changedTouches[i].identifier] = a.getAttribute(\n              \"id\"\n            );\n          } else {\n            console.log(3);\n            // 新旧相同什么都不做\n          }\n        } else {\n          console.log(\"外边\");\n          if (touchIdKeyMap[e.changedTouches[i].identifier]) {\n            this.handleNoteEnd(touchIdKeyMap[e.changedTouches[i].identifier]);\n          }\n          touchIdKeyMap[e.changedTouches[i].identifier] = undefined;\n        }\n      }\n    },\n    btnStart(e) {\n      console.log(e);\n      extendBtnsTimeout = setTimeout(() => {\n        // show extend buttons\n        this.showExtendBtns = true;\n      }, 200);\n    },\n    btnEnd(e) {\n      // console.log(e)\n      clearTimeout(extendBtnsTimeout);\n      const a = document.elementFromPoint(\n        e.changedTouches[0].clientX,\n        e.changedTouches[0].clientY\n      );\n      console.log(a);\n      if (a && a.classList.contains(\"bounceBtn\")) {\n        // 导出\n        if (this.checkBouncibility()) {\n          this.bounceProject();\n        } else {\n          this.alertAppear = true;\n        }\n      } else if (\n        a &&\n        (a.classList.contains(\"playBtn\") || a.classList.contains(\"pauseBtn\"))\n      ) {\n        // 播放\n        this.toggleReplay();\n        this.showExtendBtns = false;\n      } else if (\n        a &&\n        (a.classList.contains(\"playBtn\") || a.classList.contains(\"cancelBtn\"))\n      ) {\n        // hide extend buttons\n        this.showExtendBtns = false;\n      }\n    },\n    tutorStart() {\n      // 0未开始，1黑屏,2键盘，3track，4时间线，5播放,\n      this.tutorSession = 1;\n      this.$toast(\"请锁住竖屏使用\");\n      tutorOnceEnter = setTimeout(this.tutorProgress, 3000);\n      // setTimeout(()=>{this.tutorSession=2},3000)\n      // setTimeout(()=>{this.tutorSession=3;this.swiper.slidePrev()},5000)\n      // setTimeout(()=>{this.swiper.slideNext()},7000)\n      // setTimeout(()=>{this.tutorSession=4},8500)\n      // setTimeout(()=>{this.vuetimeline=120},9500)\n      // setTimeout(()=>{this.vuetimeline=0},10500)\n      // setTimeout(()=>{this.tutorSession=5},12000)\n      // setTimeout(()=>{this.showExtendBtns = true},13000)\n      // setTimeout(()=>{this.showExtendBtns=false},15000)\n      // setTimeout(()=>{this.tutorSession=0},16000)\n    },\n    tutorProgress() {\n      clearTimeout(tutorOnceEnter);\n      console.log(\"??????????\");\n      this.tutorSession += 1;\n      console.log(this.tutorSession);\n      switch (this.tutorSession) {\n        case 1:\n          this.clearTutorTimeout();\n          this.$toast(\"请锁住竖屏使用,长按播放按钮保存作品\");\n          break;\n        case 2:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor2start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor2end\";\n            }, 500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.vuetimeline = 120;\n              this.handClass = \"hand\";\n            }, 1500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.vuetimeline = 0;\n              this.handClass = \"hidehand\";\n            }, 2500)\n          );\n          break;\n        case 3:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor3start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor3end\";\n            }, 500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hand\"; // clickhand\n              this.tutorClass = \"tutor3end\";\n            }, 800)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hidehand\";\n            }, 1000)\n          );\n          break;\n        case 4:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor4start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor4end\";\n            }, 500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hand\"; // clickhand\n              this.tutorClass = \"tutor4start\";\n              this.showExtendBtns = true;\n            }, 1500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hidehand\";\n            }, 2500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.showExtendBtns = false;\n            }, 3000)\n          );\n          break;\n        case 5:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor5start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor5end\";\n            }, 1200)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.swiper.slidePrev();\n            }, 1500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.swiper.slideNext();\n              this.handClass = \"hidehand\";\n            }, 2500)\n          );\n          break;\n        case 6:\n          this.clearTutorTimeout();\n          this.handClass = \"hand\"; // clickhand\n          this.tutorClass = \"tutor6start\";\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"clickhand\"; // clickhand\n              this.tutorClass = \"tutor6end\";\n            }, 500)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hand\"; // clickhand\n              this.tutorClass = \"tutor6end\";\n            }, 800)\n          );\n          tutorTimeout.push(\n            setTimeout(() => {\n              this.handClass = \"hidehand\";\n            }, 1500)\n          );\n          break;\n        default:\n          this.tutorSession = 0;\n          break;\n      }\n    },\n    clearTutorTimeout() {\n      this.showExtendBtns = false;\n      tutorTimeout.forEach(v => clearTimeout(v));\n      tutorTimeout = [];\n    }\n  },\n  created() {\n    // check cookie to get serviceToken first\n    // if stoken not exist, go auth\n\n    const self = this;\n    Tone.Transport.cancel();\n    tonepart = [];\n    bouncepart = [];\n    // this is very important\n    let docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = `${window.rem}px`;\n\n    this.PARTNUM = 3;\n    this.pianoRollSwiperOption = {\n      initialSlide: this.PARTNUM,\n      // centeredSlides: true,\n      slidesPerView: 3,\n      on: {\n        // slideChange(e){\n        //   console.log('1',e)\n        // },\n        // slideNextTransitionStart(e) {\n        //   console.log('2',e)\n        // },\n        transitionEnd(e) {\n          console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          self.activeSwiperIndex = this.activeIndex;\n          self.confirmRecordPart(!isLinger);\n        }\n      }\n    };\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    // alert(Cookies.get('serviceToken'))\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"寻找你自己的八音盒\",\n        fullPath: `${location.origin}${location.pathname}#/new-music-box-maker`,\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      // TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n              // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                `${location.origin + location.pathname}#/new-music-box-maker`\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          // alert(`welcome${res.data.data.realname}`)\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n            // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              `${location.origin + location.pathname}#/new-music-box-maker`\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      // 又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        // 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect'\n        // `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${location.href}&response_type=code&scope=snsapi_userinfo&state=type&quan,url=${location.href}&connect_redirect=1#wechat_redirect`\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          `${location.origin + location.pathname}#/new-music-box-maker`\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone(tonepart);\n    next();\n  },\n  mounted() {\n    // this.startRecord();\n    // pointer events以后可以使用\n    this.tutorStart();\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div id=\"container\">\n    <!-- <v-touch @pan=\"onPan\"> -->\n    <div\n      :class=\"['keys',tutorSession===8?'tutorial-highlight':'']\"\n      @touchmove=\"keng\"\n      @touchstart.stop.prevent=\"touchNoteStartHandler\"\n      @touchend.stop.event=\"touchNoteEndHandler\"\n    >\n      <!-- using sharp sign => '#' as object key cause syntax error... -->\n      <!-- <div :class=\"['white', 'a', activeNote.A3?'active-note':'']\" id=\"A3\"></div>\n      <div :class=\"['black', 'b-minor', activeNote.Bb3?'active-note':'']\" id=\"Bb3\"></div>\n      <div :class=\"['white', 'b', activeNote.B3?'active-note':'']\" id=\"B3\"></div>-->\n      <div :class=\"['white', 'c', activeNote.C4?'active-note':'']\" id=\"C4\"></div>\n      <div :class=\"['black', 'd-minor', activeNote.Db4?'active-note':'']\" id=\"Db4\"></div>\n      <div :class=\"['white', 'd', activeNote.D4?'active-note':'']\" id=\"D4\"></div>\n      <div :class=\"['black', 'e-minor', activeNote.Eb4?'active-note':'']\" id=\"Eb4\"></div>\n      <div :class=\"['white', 'e', activeNote.E4?'active-note':'']\" id=\"E4\"></div>\n      <div :class=\"['white', 'f', activeNote.F4?'active-note':'']\" id=\"F4\"></div>\n      <div :class=\"['black', 'f-sharp', activeNote.Gb4?'active-note':'']\" id=\"Gb4\"></div>\n      <div :class=\"['white', 'g', activeNote.G4?'active-note':'']\" id=\"G4\"></div>\n      <div :class=\"['black', 'a-minor', activeNote.Ab4?'active-note':'']\" id=\"Ab4\"></div>\n      <div :class=\"['white', 'a', activeNote.A4?'active-note':'']\" id=\"A4\"></div>\n      <div :class=\"['black', 'b-minor', activeNote.Bb4?'active-note':'']\" id=\"Bb4\"></div>\n      <div :class=\"['white', 'b', activeNote.B4?'active-note':'']\" id=\"B4\"></div>\n      <div :class=\"['white', 'c', activeNote.C5?'active-note':'']\" id=\"C5\"></div>\n      <div :class=\"['black', 'd-minor', activeNote.Db5?'active-note':'']\" id=\"Db5\"></div>\n      <div :class=\"['white', 'd', activeNote.D5?'active-note':'']\" id=\"D5\"></div>\n      <div :class=\"['black', 'e-minor', activeNote.Eb5?'active-note':'']\" id=\"Eb5\"></div>\n      <div :class=\"['white', 'e', activeNote.E5?'active-note':'']\" id=\"E5\"></div>\n      <div :class=\"['white', 'f', activeNote.F5?'active-note':'']\" id=\"F5\"></div>\n      <div :class=\"['black', 'f-sharp', activeNote.Gb5?'active-note':'']\" id=\"Gb5\"></div>\n      <div :class=\"['white', 'g', activeNote.G5?'active-note':'']\" id=\"G5\"></div>\n      <div :class=\"['black', 'a-minor', activeNote.Ab5?'active-note':'']\" id=\"Ab5\"></div>\n      <div :class=\"['white', 'a', activeNote.A5?'active-note':'']\" id=\"A5\"></div>\n      <div :class=\"['black', 'b-minor', activeNote.Bb5?'active-note':'']\" id=\"Bb5\"></div>\n      <div :class=\"['white', 'b', activeNote.B5?'active-note':'']\" id=\"B5\"></div>\n      <div :class=\"['white', 'c', activeNote.C6?'active-note':'']\" id=\"C6\"></div>\n      <div :class=\"['black', 'd-minor', activeNote.Db6?'active-note':'']\" id=\"Db6\"></div>\n      <div :class=\"['white', 'd', activeNote.D6?'active-note':'']\" id=\"D6\"></div>\n      <div :class=\"['black', 'e-minor', activeNote.Eb6?'active-note':'']\" id=\"Eb6\"></div>\n      <div :class=\"['white', 'e', activeNote.E6?'active-note':'']\" id=\"E6\"></div>\n      <div :class=\"['white', 'f', activeNote.F6?'active-note':'']\" id=\"F6\"></div>\n    </div>\n    <div :class=\"['keyshadow',tutorSession===8?'tutorial-highlight':'']\"></div>\n    <div class=\"scroll-container\"></div>\n    <div\n      class=\"semi-piano-roll\"\n      :class=\"[(tutorSession===5||tutorSession===6)?'tutorial-highlight':'']\"\n      @touchmove.stop.prevent\n    >\n      <swiper :options=\"pianoRollSwiperOption\" ref=\"pianoRoll\">\n        <!-- slides -->\n        <swiper-slide v-for=\"n in PARTNUM\">\n          <div class=\"current-piano-roll\">\n            <svg :style=\"{height:'90%',padding:timelineConfig.dotSize/2+'px 0'}\">\n              <defs>\n                <filter id=\"glowing\" height=\"400%\" width=\"130%\" x=\"-10%\" y=\"-130%\">\n                  <!-- Thicken out the original shape -->\n                  <feMorphology operator=\"dilate\" radius=\"1\" in=\"SourceAlpha\" result=\"thicken\"></feMorphology>\n\n                  <!-- Use a gaussian blur to create the soft blurriness of the glow -->\n                  <feGaussianBlur in=\"thicken\" stdDeviation=\"2\" result=\"blurred\"></feGaussianBlur>\n\n                  <!-- Change the colour -->\n                  <feFlood flood-color=\"rgb(200,200,255)\" result=\"glowColor\"></feFlood>\n\n                  <!-- Color in the glows -->\n                  <feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\"></feComposite>\n\n                  <!--\tLayer the effects together -->\n                  <feMerge>\n                    <feMergeNode in=\"softGlow_colored\"></feMergeNode>\n                    <feMergeNode in=\"SourceGraphic\"></feMergeNode>\n                  </feMerge>\n                </filter>\n              </defs>\n              <rect\n                v-if=\"activePartIndex===(PARTNUM-n)\"\n                v-for=\"(item,index) in recordPart\"\n                :x=\"2\"\n                :y=\"100*item.time/20 + '%'\"\n                :width=\"mapNoteMidiToLength(item.note)\"\n                height=\"3\"\n                rx=\"2\"\n                ry=\"2\"\n                :fill=\"mapNoteTimeToColor(item.time)\"\n                filter=\"url(#glowing)\"\n              ></rect>\n              <rect\n                v-for=\"(item,index) in recordParts[PARTNUM-n]\"\n                :x=\"2\"\n                :y=\"100*item.time/20 + '%'\"\n                :width=\"mapNoteMidiToLength(item.note)\"\n                height=\"3\"\n                rx=\"2\"\n                ry=\"2\"\n                :fill=\"activePartIndex===(PARTNUM-n)?mapNoteTimeToColor(item.time):'rgb(120,120,120)'\"\n                :filter=\"activePartIndex===(PARTNUM-n)?'url(#glowing)':''\"\n              ></rect>\n            </svg>\n            <div class=\"temp\" @click=\"clearRecordPart(PARTNUM-n)\"></div>\n          </div>\n        </swiper-slide>\n        <!-- need the bottom two empty slides to fill whole swiper -->\n        <swiper-slide></swiper-slide>\n        <swiper-slide></swiper-slide>\n      </swiper>\n    </div>\n\n    <div class=\"g-controller\">\n      <vue-slider\n        ref=\"timeline\"\n        :class=\"[tutorSession===2?'tutorial-highlight':'']\"\n        :show=\"screenOrientation==='portrait'\"\n        v-model=\"vuetimeline\"\n        v-bind=\"timelineConfig\"\n        @callback=\"adjustTimeline\"\n        @drag-end\n      ></vue-slider>\n      <div\n        class=\"btnContainer\"\n        :class=\"[(tutorSession===3||tutorSession===4)?'tutorial-highlight':'']\"\n        @touchstart.stop.prevent=\"btnStart\"\n        @touchend.stop.event=\"btnEnd\"\n      >\n        <div :class=\"[playing?'pauseBtn':'playBtn', 'rotate']\" @click=\"toggleReplay\"></div>\n        <div :class=\"[showExtendBtns?'extendBtnsShow':'extendBtnsHide','extendBtns']\">\n          <div class=\"bounceBtn rotate\"></div>\n          <div class=\"cancelBtn\"></div>\n        </div>\n      </div>\n    </div>\n    <transition name=\"fade\">\n      <div id=\"alert-mask\" v-show=\"alertAppear\">\n        <div class=\"mb-dialog\">\n          <div class=\"title\">减少些音符才能做成音乐盒，是否继续上传</div>\n          <div class=\"btns\">\n            <span class=\"btn cancel\" @click=\"alertAppear=false\">再调整</span>\n            <span class=\"btn confirm\" @click=\"bounceProject\">任性上传</span>\n          </div>\n        </div>\n      </div>\n    </transition>\n    <!-- </v-touch> -->\n    <div class=\"mask\" v-show=\"bouncing\">\n      <p>存储中...</p>\n    </div>\n    <div class=\"hint-mask\" id=\"tutorial-mask\" v-show=\"tutorSession>0\" @touchend=\"tutorProgress\">\n      <!-- <transition name=\"tutor1\"><div></div></transition> -->\n      <div v-show=\"tutorSession===2\" class=\"hint-text\" id=\"timeline-hint\">\n        <h3>进度条</h3>\n        <p>拖动原点改变时间</p>\n      </div>\n      <div v-show=\"tutorSession===3\" class=\"hint-text\" id=\"play-hint\">\n        <h3>功能按钮</h3>\n        <p>点击播放/暂停</p>\n      </div>\n      <div v-show=\"tutorSession===4\" class=\"hint-text\" id=\"longpress-hint\">\n        <h3>功能按钮</h3>\n        <p>长按后点击：保存/取消</p>\n      </div>\n      <div v-show=\"tutorSession===5\" class=\"hint-text\" id=\"swipe-hint\">\n        <h3>多轨编曲</h3>\n        <p>上下滑动切换轨道编曲</p>\n      </div>\n      <div v-show=\"tutorSession===6\" class=\"hint-text\" id=\"clear-hint\">\n        <h3>多轨编曲</h3>\n        <p>清空轨道</p>\n      </div>\n    </div>\n    <div id=\"tutorhand\" :class=\"[tutorClass]\" v-show=\"handClass!='hidehand'\">\n      <div :class=\"[handClass]\"></div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n#tutorhand {\n  position: absolute;\n  width: getRem(96);\n  height: getRem(98);\n  // transform:rotate(90deg);\n  // background-color:white;\n  z-index: 500;\n  transition: background 0.05s ease, transform 1s linear;\n  &.tutor2start {\n    top: 0.5rem;\n    right: 0.8rem;\n    transition: none;\n  }\n  &.tutor2end {\n    top: 0.5rem;\n    right: 0.8rem;\n    transform: translateY(5rem);\n  }\n  &.tutor3start {\n    bottom: 0.1rem;\n    right: 0.6rem;\n    transition: none;\n  }\n  &.tutor3end {\n    bottom: 0.1rem;\n    right: 0.6rem;\n  }\n  &.tutor4start {\n    bottom: 0.1rem;\n    right: 0.6rem;\n    transition: none;\n  }\n  &.tutor4end {\n    bottom: 0.1rem;\n    right: 0.6rem;\n  }\n  &.tutor5start {\n    top: 2rem;\n    right: 3.5rem;\n    transition: none;\n  }\n  &.tutor5end {\n    top: 2rem;\n    right: 3.5rem;\n    transform: translateX(1rem);\n  }\n  &.tutor6start {\n    bottom: 0.1rem;\n    right: 3.5rem;\n    transition: none;\n  }\n  &.tutor6end {\n    bottom: 0.1rem;\n    right: 3.5rem;\n  }\n}\n// .longclickhand {transform:rotate(90deg) translateY(1rem);background:url('../assets/tutorial/handlongclick.svg') no-repeat;background-size:contain}\n.hand {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform: rotate(90deg);\n  background: url(\"../assets/tutorial/hand.svg\") no-repeat;\n  background-size: contain;\n}\n.clickhand {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform: rotate(90deg);\n  background: url(\"../assets/tutorial/handclick.svg\") no-repeat;\n  background-size: contain;\n}\n#tutorial-mask {\n  .hint-text {\n    color: white;\n    text-align: right;\n  }\n}\n.tutorial-highlight {\n  z-index: 200;\n  pointer-events: none;\n}\n.g-controller {\n  position: absolute;\n  width: getRem(42);\n  height: 100%;\n  padding-top: getRem(44);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  right: 0.5rem;\n  // pointer-events: none;\n  // .timeline {\n  //     height: 90%;\n  //     width: getRem(16);\n  //     background-color: rgb(110,113,158);\n  //     .progress {\n  //         height: 5%;\n  //         background-color: rgb(69,106,255);\n  //     }\n  //     .indicator {\n  //         position: relative;\n  //         width: getRem(42);\n  //         height: getRem(42);\n  //         border-radius: getRem(21);\n  //         border: 4px;\n  //         border-color: yellow;\n  //         background-color: #fff;\n  //         right: getRem(13);\n  //     }\n  // }\n  .btnContainer {\n    position: relative;\n    width: getRem(84);\n    height: getRem(84);\n    margin-top: 0.3rem;\n    .playBtn {\n      z-index: 2;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: getRem(42);\n      background: url(\"../assets/play.svg\") center center no-repeat;\n      background-size: getRem(32);\n      background-color: rgb(69, 106, 255);\n    }\n    .pauseBtn {\n      z-index: 2;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: getRem(42);\n      background: url(\"../assets/pause.svg\") center center no-repeat;\n      background-size: getRem(32);\n      background-color: rgb(69, 106, 255);\n    }\n    .bounceBtn {\n      position: absolute;\n      width: getRem(84);\n      height: getRem(84);\n      border-radius: getRem(42);\n      left: getRem(310);\n      background: url(\"../assets/check.svg\") center center no-repeat;\n      // background-size: getRem(32);\n    }\n    .cancelBtn {\n      position: absolute;\n      width: getRem(84);\n      height: getRem(84);\n      border-radius: getRem(42);\n      background: url(\"../assets/cancel.svg\") center center no-repeat;\n      // background-size: getRem(32);\n    }\n    .extendBtns {\n      // this element is within rotate, everything is opposite\n      position: absolute;\n      height: getRem(84);\n      border-radius: getRem(42);\n      overflow: hidden;\n      right: -1px;\n      z-index: 1;\n      transition: width 1s;\n      background: linear-gradient(\n        to right,\n        rgb(254, 64, 64),\n        rgb(142, 122, 239),\n        rgb(69, 106, 255) 80%\n      );\n    }\n    .extendBtnsShow {\n      width: getRem(690);\n    }\n    .extendBtnsHide {\n      width: getRem(84);\n    }\n  }\n}\n.scroll-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  background: url(\"../assets/pianolid.png\") no-repeat;\n  background-size: getRem(46) 100%;\n  // background-color:black;\n  // transform: rotate(90deg);\n  width: getRem(46);\n  height: 100%;\n  left: getRem(380);\n}\n.keyshadow {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  // background: url('../assets/pianolid.png') no-repeat;\n  background: linear-gradient(\n    to left,\n    rgba(28, 28, 28, 0.92) 0%,\n    rgba(48, 48, 48, 0.65) 10%,\n    rgba(118, 118, 118, 0.1) 40%,\n    rgba(0, 0, 0, 0) 100%\n  );\n  pointer-events: none;\n  // transform: rotate(90deg);\n  width: getRem(388);\n  height: 100%;\n  width: getRem(388);\n  left: 0;\n}\n.temp {\n  width: 0.7rem;\n  height: 0.7rem;\n  border-radius: 0.35rem;\n  margin: 0.5rem 0 0;\n  background: url(\"../assets/delete.svg\") center center no-repeat;\n  background-size: getRem(32);\n  background-color: #8e7aef;\n}\n\n#container {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgb(19, 19, 21);\n}\nh2 {\n  font-size: 20px;\n  color: #2c3e50;\n}\n\n* {\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n\n.container {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.keys {\n  // position: absolute;  //make whole keys appear\n  // 奇葩， adjust white and black heights influence all key layout\n  height: 100%;\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  justify-content: space-between;\n  float: left;\n  /* padding-right:getRem(347); */\n  box-sizing: border-box;\n}\n.semi-piano-roll {\n  top: 0;\n  width: getRem(328);\n  position: fixed;\n  right: 0;\n  height: 100%;\n  // background-color: rgb(19,19,21);\n  .swiper-container {\n    height: 100%;\n  }\n  .current-piano-roll {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    padding-top: getRem(44);\n    padding-left: getRem(18);\n    svg {\n      bottom: getRem(92);\n      height: 100%;\n      width: 100%;\n    }\n  }\n}\n\n.general-controller {\n  display: flex;\n  width: 2.5rem;\n  position: fixed;\n  right: 0;\n  height: 100%;\n  background: linear-gradient(\n    90deg,\n    rgba(40, 40, 40, 0.5) 0%,\n    rgba(40, 40, 40, 0.8) 100%\n  );\n  .funcBtn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: getRem(100);\n    height: getRem(220);\n    border-radius: getRem(10);\n    box-sizing: border-box;\n    &.record {\n      background-color: #b70411;\n      .recordHint {\n        width: getRem(50);\n        height: getRem(50);\n        background-color: white;\n        border-radius: 50%;\n      }\n      &.active {\n        background-color: red;\n        border: 1px solid white;\n      }\n    }\n    &.play {\n      background-color: #098244;\n      .playHint {\n        width: getRem(50);\n        height: getRem(50);\n        background: url(\"../assets/play.svg\") center center;\n        background-size: cover;\n      }\n      .stopHint {\n        width: getRem(45);\n        height: getRem(45);\n        background-color: white;\n        border-radius: 10%;\n      }\n      &.active {\n        background-color: #0aca0a;\n        border: 1px solid white;\n      }\n    }\n    &.undo {\n      background-color: #a4af00;\n      .undoHint {\n        width: getRem(50);\n        height: getRem(50);\n        background: url(\"../assets/undo.svg\") center center;\n        background-size: cover;\n      }\n      &:active {\n        background-color: #e3f300;\n        // border: 1px solid white;\n      }\n    }\n    &.bounce {\n      background-color: black;\n      .bounceHint {\n        width: getRem(50);\n        height: getRem(50);\n        background: url(\"../assets/bounce.svg\") center center;\n        background-size: cover;\n      }\n      &.active {\n        background-color: green;\n        border: 1px solid white;\n      }\n    }\n  }\n}\n.general-controller-enter-active,\n.general-controller-leave-active {\n  transition: all 0.5s ease;\n}\n.general-controller-enter,\n.general-controller-leave-to {\n  transform: translateX(3.5rem);\n}\n\n.progressBar {\n  position: fixed;\n  width: getRem(750);\n}\n\n/* piano keyboard layout css  */\n\n.white {\n  width: getRem(388);\n  height: 5.56%;\n  z-index: 1;\n  // border-left: 1px solid #bbb;\n  // border-bottom: 1px solid #bbb;\n  // border-radius: 0 0 5px 5px;\n  // box-shadow: 1px 0 0 rgba(80, 80, 80, 0.8) inset, 0 0 5px #ccc inset, 0 0 3px rgba(0, 0, 0, 0.2);\n  box-shadow: 0 0 1px rgba(65, 65, 65, 0.5) inset,\n    0 0 2px rgba(211, 211, 211, 0.5) inset;\n  // background: linear-gradient(to left, rgba(28,28,28,.92) 0%, rgba(48,48,48,.65) 10%,rgba(118,118,118,.1) 40%,rgba(0,0,0,0) 100%);\n  background-color: white;\n  &.active-note {\n    box-shadow: 2px 0 3px rgba(0, 0, 0, 0.1) inset,\n      -5px 5px 20px rgba(0, 0, 0, 0.2) inset, 0 0 3px rgba(0, 0, 0, 0.2);\n    // background: linear-gradient(to left, #555 0%, #ddd 40%, #eee 100%);\n    background: linear-gradient(to left, white, rgb(236, 236, 236));\n  }\n}\n\n.black {\n  position: relative;\n  width: getRem(200);\n  height: getRem(50);\n  margin-top: getRem(-50);\n  top: getRem(25);\n  // height: 4.3%; 百分比不好使\n  // margin-top: -4.3%;\n  // top: 2.15%;\n  z-index: 2;\n  border: 2px solid #000;\n  border-radius: getRem(8) 0px 0px getRem(8);\n  // box-shadow: -1px -1px 2px rgba(255, 255, 255, 0.2) inset, 0 -5px 2px 3px rgba(0, 0, 0, 0.6) inset, 0 2px 4px rgba(0, 0, 0, 0.5);\n  // background: linear-gradient(45deg, #222 0%, #555 100%);\n  background: url(\"../assets/blackkey.png\") center center no-repeat;\n  background-size: cover;\n  &.active-note {\n    // box-shadow: -1px -1px 2px rgba(255, 255, 255, 0.2) inset, 0 -2px 2px 3px rgba(0, 0, 0, 0.6) inset, 0 1px 2px rgba(0, 0, 0, 0.5);\n    // background: linear-gradient(to right, #444 0%, #222 100%);\n    background: url(\"../assets/blackkeydown.png\") center center no-repeat;\n    background-size: cover;\n  }\n}\n\n/* mask layout */\n\n.mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  p {\n    font-size: 0.57rem;\n    font-weight: 200;\n    transform: rotate(90deg);\n  }\n}\n.hint-mask {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  .hint-text {\n    transform: rotate(90deg);\n    text-align: right;\n  }\n  p {\n    font-size: 0.43rem;\n    font-weight: 200;\n  }\n  h3 {\n    font-size: 0.57rem;\n    font-weight: 400;\n  }\n  #timeline-hint {\n    position: absolute;\n    top: 2rem;\n    right: 1rem;\n  }\n  #play-hint {\n    position: absolute;\n    bottom: 2rem;\n    right: 1rem;\n  }\n  #longpress-hint {\n    position: absolute;\n    bottom: 4rem;\n    right: -1rem;\n  }\n  #swipe-hint {\n    position: absolute;\n    top: 2rem;\n    right: 4rem;\n  }\n  #clear-hint {\n    position: absolute;\n    bottom: 2rem;\n    right: 4rem;\n  }\n}\n.fadein {\n  animation: fadein 1s;\n  animation-fill-mode: forwards;\n}\n\n.fadeout {\n  animation: fadeout 1s;\n  animation-fill-mode: forwards;\n}\n@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n@keyframes fadeout {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n}\n\n.hide {\n  display: none;\n}\n\n.rotate {\n  transform: rotate(90deg);\n}\n#alert-mask {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .mb-dialog {\n    position: relative;\n    rotate: 90deg;\n    width: getRem(570);\n    padding-top: getRem(75);\n    border-radius: getRem(50);\n    height: getRem(344);\n    background-color: rgba(255, 255, 255, 0.96);\n    display: flex;\n    flex-direction: column;\n    .title {\n      flex: 1;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-end;\n      position: relative;\n      width: 100%;\n      font-size: 0.32rem;\n    }\n    .input {\n      flex: 2;\n      flex-direction: column;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-start;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      input {\n        background: transparent;\n        border: none;\n        outline: none;\n        width: 100%;\n        height: 1rem;\n        font-size: 0.54rem;\n      }\n      .splitter {\n        position: relative;\n        width: 100%;\n        height: 1px;\n        background-color: gray;\n        padding: 0 getRem(77);\n      }\n    }\n    .btns {\n      flex: 4;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      span.btn {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        display: flex;\n        align-items: center;\n        padding-top: 0.6rem;\n      }\n      .cancel {\n        color: gray;\n        text-align: right;\n        justify-content: flex-start;\n        padding-left: getRem(77);\n      }\n      .confirm {\n        color: blue;\n        text-align: left;\n        justify-content: flex-end;\n        padding-right: getRem(77);\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NMBMaker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}},[_c('div',{class:['keys',_vm.tutorSession===8?'tutorial-highlight':''],on:{\"touchmove\":_vm.keng,\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.touchNoteStartHandler($event)},\"touchend\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"event\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.touchNoteEndHandler($event)}}},[_c('div',{class:['white', 'c', _vm.activeNote.C4?'active-note':''],attrs:{\"id\":\"C4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db4?'active-note':''],attrs:{\"id\":\"Db4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D4?'active-note':''],attrs:{\"id\":\"D4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb4?'active-note':''],attrs:{\"id\":\"Eb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E4?'active-note':''],attrs:{\"id\":\"E4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F4?'active-note':''],attrs:{\"id\":\"F4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'f-sharp', _vm.activeNote.Gb4?'active-note':''],attrs:{\"id\":\"Gb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'g', _vm.activeNote.G4?'active-note':''],attrs:{\"id\":\"G4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'a-minor', _vm.activeNote.Ab4?'active-note':''],attrs:{\"id\":\"Ab4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'a', _vm.activeNote.A4?'active-note':''],attrs:{\"id\":\"A4\"}}),_vm._v(\" \"),_c('div',{class:['black', 'b-minor', _vm.activeNote.Bb4?'active-note':''],attrs:{\"id\":\"Bb4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'b', _vm.activeNote.B4?'active-note':''],attrs:{\"id\":\"B4\"}}),_vm._v(\" \"),_c('div',{class:['white', 'c', _vm.activeNote.C5?'active-note':''],attrs:{\"id\":\"C5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db5?'active-note':''],attrs:{\"id\":\"Db5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D5?'active-note':''],attrs:{\"id\":\"D5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb5?'active-note':''],attrs:{\"id\":\"Eb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E5?'active-note':''],attrs:{\"id\":\"E5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F5?'active-note':''],attrs:{\"id\":\"F5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'f-sharp', _vm.activeNote.Gb5?'active-note':''],attrs:{\"id\":\"Gb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'g', _vm.activeNote.G5?'active-note':''],attrs:{\"id\":\"G5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'a-minor', _vm.activeNote.Ab5?'active-note':''],attrs:{\"id\":\"Ab5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'a', _vm.activeNote.A5?'active-note':''],attrs:{\"id\":\"A5\"}}),_vm._v(\" \"),_c('div',{class:['black', 'b-minor', _vm.activeNote.Bb5?'active-note':''],attrs:{\"id\":\"Bb5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'b', _vm.activeNote.B5?'active-note':''],attrs:{\"id\":\"B5\"}}),_vm._v(\" \"),_c('div',{class:['white', 'c', _vm.activeNote.C6?'active-note':''],attrs:{\"id\":\"C6\"}}),_vm._v(\" \"),_c('div',{class:['black', 'd-minor', _vm.activeNote.Db6?'active-note':''],attrs:{\"id\":\"Db6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'd', _vm.activeNote.D6?'active-note':''],attrs:{\"id\":\"D6\"}}),_vm._v(\" \"),_c('div',{class:['black', 'e-minor', _vm.activeNote.Eb6?'active-note':''],attrs:{\"id\":\"Eb6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'e', _vm.activeNote.E6?'active-note':''],attrs:{\"id\":\"E6\"}}),_vm._v(\" \"),_c('div',{class:['white', 'f', _vm.activeNote.F6?'active-note':''],attrs:{\"id\":\"F6\"}})]),_vm._v(\" \"),_c('div',{class:['keyshadow',_vm.tutorSession===8?'tutorial-highlight':'']}),_vm._v(\" \"),_c('div',{staticClass:\"scroll-container\"}),_vm._v(\" \"),_c('div',{staticClass:\"semi-piano-roll\",class:[(_vm.tutorSession===5||_vm.tutorSession===6)?'tutorial-highlight':''],on:{\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('swiper',{ref:\"pianoRoll\",attrs:{\"options\":_vm.pianoRollSwiperOption}},[_vm._l((_vm.PARTNUM),function(n){return _c('swiper-slide',[_c('div',{staticClass:\"current-piano-roll\"},[_c('svg',{style:({height:'90%',padding:_vm.timelineConfig.dotSize/2+'px 0'})},[_c('defs',[_c('filter',{attrs:{\"id\":\"glowing\",\"height\":\"400%\",\"width\":\"130%\",\"x\":\"-10%\",\"y\":\"-130%\"}},[_c('feMorphology',{attrs:{\"operator\":\"dilate\",\"radius\":\"1\",\"in\":\"SourceAlpha\",\"result\":\"thicken\"}}),_vm._v(\" \"),_c('feGaussianBlur',{attrs:{\"in\":\"thicken\",\"stdDeviation\":\"2\",\"result\":\"blurred\"}}),_vm._v(\" \"),_c('feFlood',{attrs:{\"flood-color\":\"rgb(200,200,255)\",\"result\":\"glowColor\"}}),_vm._v(\" \"),_c('feComposite',{attrs:{\"in\":\"glowColor\",\"in2\":\"blurred\",\"operator\":\"in\",\"result\":\"softGlow_colored\"}}),_vm._v(\" \"),_c('feMerge',[_c('feMergeNode',{attrs:{\"in\":\"softGlow_colored\"}}),_vm._v(\" \"),_c('feMergeNode',{attrs:{\"in\":\"SourceGraphic\"}})],1)],1)]),_vm._v(\" \"),_vm._l((_vm.recordPart),function(item,index){return (_vm.activePartIndex===(_vm.PARTNUM-n))?_c('rect',{attrs:{\"x\":2,\"y\":100*item.time/20 + '%',\"width\":_vm.mapNoteMidiToLength(item.note),\"height\":\"3\",\"rx\":\"2\",\"ry\":\"2\",\"fill\":_vm.mapNoteTimeToColor(item.time),\"filter\":\"url(#glowing)\"}}):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.recordParts[_vm.PARTNUM-n]),function(item,index){return _c('rect',{attrs:{\"x\":2,\"y\":100*item.time/20 + '%',\"width\":_vm.mapNoteMidiToLength(item.note),\"height\":\"3\",\"rx\":\"2\",\"ry\":\"2\",\"fill\":_vm.activePartIndex===(_vm.PARTNUM-n)?_vm.mapNoteTimeToColor(item.time):'rgb(120,120,120)',\"filter\":_vm.activePartIndex===(_vm.PARTNUM-n)?'url(#glowing)':''}})})],2),_vm._v(\" \"),_c('div',{staticClass:\"temp\",on:{\"click\":function($event){_vm.clearRecordPart(_vm.PARTNUM-n)}}})])])}),_vm._v(\" \"),_c('swiper-slide'),_vm._v(\" \"),_c('swiper-slide')],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"g-controller\"},[_c('vue-slider',_vm._b({ref:\"timeline\",class:[_vm.tutorSession===2?'tutorial-highlight':''],attrs:{\"show\":_vm.screenOrientation==='portrait'},on:{\"callback\":_vm.adjustTimeline,\"drag-end\":function($event){}},model:{value:(_vm.vuetimeline),callback:function ($$v) {_vm.vuetimeline=$$v},expression:\"vuetimeline\"}},'vue-slider',_vm.timelineConfig,false)),_vm._v(\" \"),_c('div',{staticClass:\"btnContainer\",class:[(_vm.tutorSession===3||_vm.tutorSession===4)?'tutorial-highlight':''],on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.btnStart($event)},\"touchend\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"event\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.btnEnd($event)}}},[_c('div',{class:[_vm.playing?'pauseBtn':'playBtn', 'rotate'],on:{\"click\":_vm.toggleReplay}}),_vm._v(\" \"),_c('div',{class:[_vm.showExtendBtns?'extendBtnsShow':'extendBtnsHide','extendBtns']},[_c('div',{staticClass:\"bounceBtn rotate\"}),_vm._v(\" \"),_c('div',{staticClass:\"cancelBtn\"})])])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear),expression:\"alertAppear\"}],attrs:{\"id\":\"alert-mask\"}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"减少些音符才能做成音乐盒，是否继续上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear=false}}},[_vm._v(\"再调整\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.bounceProject}},[_vm._v(\"任性上传\")])])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bouncing),expression:\"bouncing\"}],staticClass:\"mask\"},[_c('p',[_vm._v(\"存储中...\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession>0),expression:\"tutorSession>0\"}],staticClass:\"hint-mask\",attrs:{\"id\":\"tutorial-mask\"},on:{\"touchend\":_vm.tutorProgress}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===2),expression:\"tutorSession===2\"}],staticClass:\"hint-text\",attrs:{\"id\":\"timeline-hint\"}},[_c('h3',[_vm._v(\"进度条\")]),_vm._v(\" \"),_c('p',[_vm._v(\"拖动原点改变时间\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===3),expression:\"tutorSession===3\"}],staticClass:\"hint-text\",attrs:{\"id\":\"play-hint\"}},[_c('h3',[_vm._v(\"功能按钮\")]),_vm._v(\" \"),_c('p',[_vm._v(\"点击播放/暂停\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===4),expression:\"tutorSession===4\"}],staticClass:\"hint-text\",attrs:{\"id\":\"longpress-hint\"}},[_c('h3',[_vm._v(\"功能按钮\")]),_vm._v(\" \"),_c('p',[_vm._v(\"长按后点击：保存/取消\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===5),expression:\"tutorSession===5\"}],staticClass:\"hint-text\",attrs:{\"id\":\"swipe-hint\"}},[_c('h3',[_vm._v(\"多轨编曲\")]),_vm._v(\" \"),_c('p',[_vm._v(\"上下滑动切换轨道编曲\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorSession===6),expression:\"tutorSession===6\"}],staticClass:\"hint-text\",attrs:{\"id\":\"clear-hint\"}},[_c('h3',[_vm._v(\"多轨编曲\")]),_vm._v(\" \"),_c('p',[_vm._v(\"清空轨道\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.handClass!='hidehand'),expression:\"handClass!='hidehand'\"}],class:[_vm.tutorClass],attrs:{\"id\":\"tutorhand\"}},[_c('div',{class:[_vm.handClass]})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e5d6830\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NMBMaker.vue\n// module id = null\n// module chunks = ","<script>\n  export default {\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String,\n    onClickCall: {\n      type: Function,\n      default() {\n        return function() {\n          console.log('tap tap in count Button');\n        };\n      },\n    },\n  },\n  computed: {\n    style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    },\n  },\n  data() {\n    return {\n      currentActiveCount: 0,\n      currentActive: false,\n    };\n  },\n  watch: {},\n  created() {\n    this.currentActive = this.initActive;\n    this.currentActiveCount = this.currentActive ? this.initCount : this.initCount + 1;\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    updateButton() {\n      // if (this.currentActive) {\n      //   this.currentActiveCount -= 1;\n      // } else {\n      //   this.currentActiveCount += 1;\n      // }\n      this.currentActive = !this.currentActive;\n      this.onClickCall();\n    },\n  },\n};\n\n</script>\n\n<template>\n  <div class=\"btnContainer\" @click=\"updateButton\">\n    <transition name=\"fade\">\n      <div class=\"active-btn-background\" v-show=\"currentActive\"></div>\n    </transition>\n    <transition name=\"slideDown\">\n      <div class=\"btn active\" v-show=\"currentActive\">\n        <div class=\"\"></div>\n        <p>{{currentActiveCount}}</p>\n      </div>\n    </transition>\n    <transition name=\"slideUp\">\n      <div class=\"btn inactive\" v-show=\"!currentActive\">\n        <div class=\"\"></div>\n        <p>{{currentActiveCount-1}}</p>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '../../_common/style/_functions.scss';\n@import '../../_common/style/_variables.scss';\n@import '../../_common/style/_mixins.scss';\n@import '../../_common/style/_reboot.scss';\n.btnContainer{\n  position: relative;width:getRem(92);height:getRem(92);border:1px solid #7D839E;border-radius:50%;overflow: hidden;\n  // -webkit-mask-image: -webkit-radial-gradient(circle, white, black);\n  .active-btn-background {position: absolute;width:100%;height:100%;background-color:#7D839E;border-radius:50%;border:none;overflow: hidden;}\n  .active {\n    // background-color:#7D839E;\n    position: absolute;width: 100%;height:100%;top: 0;left:0;border-radius:50%;display:flex;flex-direction: column;color:white;align-items: center;justify-content: space-around;\n    div {width: getRem(34);height:getRem(24);margin-top:.2rem;background: url('../../assets/viewer/icon-like.png') center center no-repeat;background-size:cover;}\n    p {font-size:.37rem;margin:0 0 .1rem 0;line-height: .37rem;color:white;}\n  }\n  .inactive {\n    // background-color:blue;\n    position: absolute;width: 100%;height:100%;top:0;left:0;border-radius:50%;display:flex;flex-direction: column;color:white;align-items: center;justify-content: space-around;\n    div {width: getRem(34);height:getRem(24);margin-top:.2rem;background: url('../../assets/viewer/icon-like-gray.png') center center no-repeat;background-size:cover;}\n    p {font-size:.37rem;margin:0 0 .1rem 0;line-height: .37rem;color:#7D839E;}\n  }\n}\n//\n.slideDown-enter-active {\n  transition: all .3s ease-out;\n}\n.slideDown-leave-active {\n  transition: all .3s ease-out;\n}\n.slideDown-enter,.slideDown-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  transform: translateY(100%);\n  opacity: 0;\n}\n.slideUp-enter-active {\n  transition: all .3s ease-out;\n}\n.slideUp-leave-active {\n  transition: all .3s ease-out;\n}\n.slideUp-enter,.slideUp-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  transform: translateY(-100%);\n  opacity: 0;\n}\n.fade-enter-active {\n  transition: all .3s ease-out;\n}\n.fade-leave-active {\n  transition: all .3s ease-out;\n}\n.fade-enter, .fade-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/countButton.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btnContainer\",on:{\"click\":_vm.updateButton}},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentActive),expression:\"currentActive\"}],staticClass:\"active-btn-background\"})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slideDown\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentActive),expression:\"currentActive\"}],staticClass:\"btn active\"},[_c('div',{}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.currentActiveCount))])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slideUp\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.currentActive),expression:\"!currentActive\"}],staticClass:\"btn inactive\"},[_c('div',{}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.currentActiveCount-1))])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e8cb9b0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/countButton.vue\n// module id = null\n// module chunks = ","<script>\n// window.Tone = require('tone')\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport countButton from \"./common/countButton\";\nimport * as WxShare from \"../_common/js/wx_share\";\n\n// const musicPart;\n\nexport default {\n  components: {\n    countButton\n  },\n  data() {\n    return {\n      // playing: false,\n      loading: true,\n      workIntroAppear: false,\n      controlPanalAppear: false,\n      titleUpdateAppear: false,\n      playing: false,\n      userId: 0,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\"\n    };\n  },\n  computed: {\n    project() {\n      return this.$store.state.recordProject;\n    },\n    projectInfo() {\n      return this.$store.state.recordProjectInfo;\n    }\n  },\n  methods: {\n    load() {},\n    loadMusicById() {\n      alert(2);\n      console.log(\"hehe\", this.$store.state);\n      const { id } = this.$store.state.route.query;\n      if (id) {\n        // 从id取作品\n        console.log(\"mmm\", id);\n        this.$store.dispatch(\"FETCH_MBOX\", { id }).then(() => {\n          console.log(\"workPart\", this.project);\n          console.log(\"work info\", this.projectInfo);\n          this.favStatus = this.projectInfo.favStatus;\n          // alert('load complete');\n          // this.togglePlay();\n          const fullPath = `${location.origin}${\n            location.pathname\n          }#/new-music-box-viewer?id=${this.$store.state.route.query.id}`;\n          WxShare.prepareShareContent({\n            title: \"MUSIXISE\",\n            desc: `来听${this.projectInfo.userVO.realname}的作品-${\n              this.projectInfo.title\n            }`,\n            // fullPath:location.href.split('#')[0],\n            fullPath,\n            imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n          });\n        });\n      } else {\n        // 不会出现这个情况\n        // this.$store.dispatch(\"FETCH_MBOX\", { id: 50 }).then(() => {\n        //   console.log(\"workPart\", this.project);\n        //   console.log(\"work info\", this.projectInfo);\n        //   this.favStatus = this.projectInfo.favStatus;\n        //   // alert('load complete');\n        //   // this.togglePlay();\n        // });\n      }\n    },\n    togglePlay() {\n      // alert('111')\n      Magic.preview(this.project, !this.playing);\n      this.playing = !this.playing;\n    },\n    toggleFav() {\n      this.favStatus = +!this.favStatus;\n      Api.toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      })\n        .then(() => {})\n        .catch(err => {\n          // alert(JSON.stringify(err))\n        });\n    },\n    updateWorkTitle() {\n      Api.updateWorkTitle({\n        id: this.$store.state.route.query.id,\n        title: this.newWorkTitle\n      });\n      this.finalNewWorkTitle = this.newWorkTitle;\n      const fullPath = `${location.origin}${\n        location.pathname\n      }#/new-music-box-viewer?id=${this.$store.state.route.query.id}`;\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: `来听${this.projectInfo.userVO.realname}的作品-${\n          this.newWorkTitle\n        }`,\n        // fullPath:location.href.split('#')[0],\n        fullPath,\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n      setTimeout(() => {\n        this.titleUpdateAppear = false;\n      }, 300);\n    },\n    redirectToMaker() {\n      this.$router.push({\n        path: \"/new-music-box-maker\"\n        // query: {\n        //   id\n        // }\n      });\n    },\n    redirectToMusixiser(id) {\n      if (id) {\n        this.$router.push({\n          path: \"/musixiser\",\n          query: {\n            id\n          }\n        });\n      }\n    },\n    purchaseItem() {\n      // TODO: router push with workId\n      console.log(`you are about to purchase ${this.projectInfo.id}`);\n      this.$store.commit(\"SAVE_ORDER_INFO\", { work: this.projectInfo }); // store current workId\n\n      this.$router.push({\n        path: \"/product-list\",\n        query: {\n          // id\n        }\n      });\n      // WxShare.newMakeWxOrder(\n      //   { pid: 1, wid: this.projectInfo.id, amount: 1 },\n      //   () => {\n      //     console.log(\"pay succeed\");\n      //   },\n      //   () => {\n      //     console.log(\"pay fail\");\n      //   }\n      // );\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    next();\n  },\n  created() {\n    // check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    alert(1);\n    const self = this;\n    const docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = `${window.rem}px`;\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      self.loadMusicById();\n      return;\n    }\n    const fullPath = `${location.origin}${\n      location.pathname\n    }#/new-music-box-viewer?id=${self.$store.state.route.query.id}`;\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"分享一个八音盒\",\n        // fullPath:location.href.split('#')[0],\n        fullPath,\n        imgUrl: \"https://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      // TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          self.userId = res.data.data.userId;\n          // alert(`welcome${res.data.data.realname}`)\n          // if (!this.project) {\n          self.loadMusicById();\n          // }\n\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      // 又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {\n    // this.startRecord();\n    setTimeout(() => {\n      this.loading = false;\n    }, 2000);\n    setTimeout(() => {\n      this.workIntroAppear = true;\n    }, 4500);\n    setTimeout(() => {\n      this.controlPanalAppear = true;\n    }, 5500);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div :class=\"['container', loading?'loading':'']\">\n    <div id=\"ground\"></div>\n    <div id=\"spirit\">\n      <div class=\"spirit-part\" id=\"spirit-body\"></div>\n      <div class=\"spirit-part\" id=\"spirit-front-leaf\"></div>\n      <div class=\"spirit-part\" id=\"spirit-back-leaf\"></div>\n      <div class=\"spirit-part\" id=\"spirit-back1\"></div>\n      <div class=\"spirit-part\" id=\"spirit-back2\"></div>\n    </div>\n    <div id=\"mb\" @click=\"togglePlay\">\n      <div :class=\"['mb-part', playing?'playing':'']\" id=\"mb-lid\"></div>\n      <div class=\"mb-part\" id=\"mb-body\">\n        <div id=\"play-btn\" v-show=\"!playing\"></div>\n        <div id=\"pause-btn\" v-show=\"playing\"></div>\n      </div>\n      <div id=\"mb-shiner\" :class=\"[playing?'':'not-playing']\"></div>\n    </div>\n    <transition name=\"fade\">\n      <div id=\"music-aurora\" v-show=\"playing\"></div>\n    </transition>\n    <div id=\"low-leaf1\"></div>\n    <div id=\"low-leaf2\"></div>\n    <div id=\"low-leaf3\"></div>\n    <div id=\"low-leaf4\"></div>\n    <div id=\"mid-leaf1\"></div>\n    <div id=\"mid-leaf2\"></div>\n    <div id=\"mid-leaf3\"></div>\n    <div id=\"mid-leaf4\"></div>\n    <div id=\"top-leaf1\"></div>\n    <div id=\"top-leaf2\"></div>\n    <div id=\"top-leaf3\"></div>\n    <div id=\"top-leaf4\"></div>\n    <div id=\"top-leaf5\"></div>\n    <div id=\"top-leaf6\"></div>\n    <transition name=\"bounce\">\n      <div id=\"work-intro\" v-if=\"workIntroAppear\">\n        <div\n          class=\"title\"\n          @click=\"userId === projectInfo.userId?titleUpdateAppear=true:titleUpdateAppear=false\"\n        >{{finalNewWorkTitle||projectInfo.title}}</div>\n        <div class=\"subtitle\">\n          <span>by</span>\n          <span @click=\"redirectToMusixiser(projectInfo.userVO.userId)\">\n            <img :src=\"projectInfo.userVO.smallAvatar\" alt>\n          </span>\n          <span>{{projectInfo.userVO.realname}}</span>\n        </div>\n        <div v-if=\"userId === projectInfo.userId\" id=\"edit-work\" @click=\"titleUpdateAppear=true\"></div>\n      </div>\n    </transition>\n    <transition name=\"bounce\">\n      <div id=\"control-panal\" v-if=\"controlPanalAppear\">\n        <!-- <div class=\"likeBtn\">\n        <div class=\"active\">\n          <div class=\"\"></div>\n          <p>1</p>\n        </div>\n        <div class=\"inactive\">\n          <div class=\"\"></div>\n          <p>0</p>\n        </div>\n        </div>-->\n        <count-button\n          :initCount=\"projectInfo.collectNum?projectInfo.collectNum:0\"\n          :initActive=\"projectInfo.favStatus?true:false\"\n          iconImg\n          :onClickCall=\"toggleFav\"\n        />\n        <div class=\"purchaseBtn\" @click=\"purchaseItem\">购买</div>\n        <div class=\"makeBtn\" @click=\"redirectToMaker\">编曲</div>\n      </div>\n    </transition>\n    <transition name=\"fade\">\n      <div id=\"title-update-mask\" v-show=\"titleUpdateAppear\">\n        <div class=\"mb-dialog\">\n          <div class=\"title\">作品名称</div>\n          <div class=\"input\">\n            <input v-model=\"newWorkTitle\" type=\"text\" placeholder=\"作品新名称\">\n            <div class=\"splitter\"></div>\n          </div>\n          <div class=\"btns\">\n            <span class=\"btn cancel\" @click=\"titleUpdateAppear=false\">取消</span>\n            <span class=\"btn confirm\" @click=\"updateWorkTitle\">确认</span>\n          </div>\n        </div>\n      </div>\n    </transition>\n    <div></div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n.container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  #spirit {\n    will-change: transform;\n    transition: transform 4.5s ease-out;\n    transform: translateY(0);\n    position: absolute;\n    bottom: 5rem;\n    width: 9.8rem;\n    height: 7.8rem;\n    margin-left: 0.2rem;\n    .spirit-part {\n      position: absolute;\n    }\n    #spirit-body {\n      z-index: 4;\n      left: getRem(220);\n      top: getRem(136);\n      width: getRem(266);\n      height: getRem(368);\n      background: url(\"../assets/viewer/spirit-body.png\") center center\n        no-repeat;\n      background-size: cover;\n    }\n    #spirit-front-leaf {\n      z-index: 5;\n      left: getRem(340);\n      top: getRem(12);\n      width: getRem(398);\n      height: getRem(492);\n      background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/spirit-front-leaf.png\")\n        center center no-repeat;\n      background-size: cover;\n    }\n    #spirit-back-leaf {\n      z-index: 3;\n      width: getRem(462);\n      height: getRem(472);\n      background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/spirit-back-leaf.png\")\n        center center no-repeat;\n      background-size: cover;\n    }\n    #spirit-back1 {\n      z-index: 1;\n      left: getRem(40);\n      top: getRem(16);\n      opacity: 0.6;\n      width: getRem(618);\n      height: getRem(526);\n      background: url(\"../assets/viewer/spirit-back1.png\") center center\n        no-repeat;\n      background-size: cover;\n    }\n    #spirit-back2 {\n      z-index: 2;\n      transform: rotate(-14deg);\n      opacity: 0.3;\n      width: getRem(754);\n      height: getRem(580);\n      background: url(\"../assets/viewer/spirit-back2.png\") center center\n        no-repeat;\n      background-size: cover;\n    }\n  }\n  .not-playing {\n    animation: box-shine 1s linear infinite;\n  }\n  #mb {\n    will-change: transform;\n    transition: transform 4.5s ease-out;\n    transform: translateY(0);\n    position: absolute;\n    bottom: 4.2rem;\n    width: 1.4rem;\n    height: 1.6rem;\n    left: 2.4rem;\n    .mb-part {\n      position: absolute;\n    }\n    #mb-lid {\n      z-index: 2;\n      left: getRem(0);\n      top: getRem(0);\n      transition: 0.5s ease-out;\n      transform: rotate(54deg);\n      width: getRem(48);\n      height: getRem(64);\n      background: url(\"../assets/viewer/mb-lid.png\") center center no-repeat;\n      background-size: cover;\n    }\n    #mb-lid.playing {\n      transform: rotate(0deg) translateX(-0.3rem);\n    }\n    #mb-body {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 1;\n      left: getRem(20);\n      top: getRem(50);\n      width: getRem(64);\n      height: getRem(52);\n      background: url(\"../assets/viewer/mb-body.png\") center center no-repeat;\n      background-size: cover;\n      #play-btn {\n        position: relative;\n        margin-top: 0.3rem;\n        margin-left: 0.1rem;\n        width: getRem(12);\n        height: getRem(16);\n        background: url(\"../assets/viewer/audio-play.png\") center center\n          no-repeat;\n        background-size: cover;\n      }\n      #pause-btn {\n        position: relative;\n        margin-top: 0.3rem;\n        margin-left: 0.05rem;\n        width: getRem(16);\n        height: getRem(14);\n        background: url(\"../assets/viewer/audio-pause.png\") center center\n          no-repeat;\n        background-size: cover;\n      }\n    }\n    #mb-shiner {\n      position: absolute;\n      width: 0.8rem;\n      height: 0.3rem;\n      background-color: rgba(252, 245, 141, 0.56);\n      z-index: 1;\n      bottom: 0.6rem;\n      left: 0.3rem;\n      border-radius: 0.4rem/0.2rem;\n    }\n  }\n  #music-aurora {\n    position: absolute;\n    bottom: 4.2rem;\n    left: 1.5rem;\n    width: getRem(577);\n    height: getRem(577);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/music_sprite.png\"); // background:url('http://c.m.163.com/nc/qa/activity/xijing/img/cover_tit_step2.png');\n    background-size: getRem(577) getRem(4039);\n    animation: music-aurora steps(7) 1.5s infinite;\n    pointer-events: none;\n  }\n  #ground {\n    will-change: transform;\n    transition: transform 4.5s ease-out;\n    position: absolute;\n    left: -3rem;\n    bottom: -2.3rem;\n    opacity: 0.4;\n    width: getRem(1522);\n    height: getRem(852);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/ground.png\") center\n      center no-repeat;\n    background-size: cover;\n  }\n  #low-leaf1 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(162);\n    height: getRem(168);\n    opacity: 0.38;\n    left: getRem(-160);\n    bottom: 6.5rem;\n    background: url(\"../assets/viewer/low-leaf1.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #low-leaf2 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(250);\n    height: getRem(300);\n    left: getRem(-106);\n    bottom: 2rem;\n    background: url(\"../assets/viewer/low-leaf2.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #low-leaf3 {\n    z-index: -1;\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(162);\n    height: getRem(365);\n    left: 4rem;\n    bottom: 8.5rem;\n    background: url(\"../assets/viewer/low-leaf3.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #low-leaf4 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(310);\n    height: getRem(336);\n    transform: rotate(-23deg);\n    right: -3.5rem;\n    bottom: getRem(400);\n    background: url(\"../assets/viewer/low-leaf4.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #mid-leaf1 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(557);\n    height: getRem(419);\n    transform: rotate(-10deg);\n    left: -3rem;\n    bottom: getRem(940);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/mid-leaf1.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #mid-leaf2 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(359);\n    height: getRem(415);\n    transform: rotate(-21deg);\n    left: -2.8rem;\n    bottom: getRem(840);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/mid-leaf2.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #mid-leaf3 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(583);\n    height: getRem(546);\n    right: -4.2rem;\n    transform: rotate(33deg);\n    bottom: getRem(820);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/mid-leaf3.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #mid-leaf4 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(384);\n    height: getRem(537);\n    right: -2.6rem;\n    transform: rotate(25deg);\n    bottom: getRem(740);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/mid-leaf4.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf1 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(1226);\n    height: getRem(1232);\n    transform: rotate(56deg) scale(1);\n    right: -10rem;\n    bottom: getRem(1700);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/top-leaf1.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf2 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(1430);\n    height: getRem(874);\n    opacity: 0.9;\n    transform: rotate(-6deg) scale(0.7);\n    right: -10rem;\n    bottom: getRem(1200);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/top-leaf2.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf3 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(1250);\n    height: getRem(986);\n    transform: rotate(-2deg) scale(0.7);\n    left: -7rem;\n    bottom: getRem(1870);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/top-leaf3.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf4 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(918);\n    height: getRem(752);\n    transform: rotate(44deg) scale(0.8);\n    left: -9.5rem;\n    bottom: getRem(1270);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/top-leaf4.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf5 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(1048);\n    height: getRem(1054);\n    opacity: 0.3;\n    transform: rotate(22deg) scale(0.9);\n    right: -12rem;\n    bottom: getRem(1500);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/top-leaf1.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf6 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(718);\n    height: getRem(566);\n    opacity: 0.5;\n    transform: rotate(-1deg) scale(1.2);\n    left: -6rem;\n    bottom: getRem(1700);\n    background: url(\"//cdn.cnbj1.fds.api.mi-img.com/mbox/img/top-leaf5.png\")\n      center center no-repeat;\n    background-size: cover;\n  }\n  #work-intro {\n    position: absolute;\n    bottom: 3.4rem;\n    text-align: right;\n    right: 1rem;\n    .title {\n      font-size: 0.6rem;\n      margin-bottom: 0.3rem;\n      color: #7d839e;\n    }\n    .subtitle {\n      display: flex;\n      height: getRem(60);\n      font-size: 0.4rem;\n      align-items: center;\n      color: #7d839e;\n      img {\n        width: getRem(60);\n        height: getRem(60);\n        border-radius: 50%;\n        border: none;\n        margin: 0 0.3rem 0 0.3rem;\n      }\n    }\n    #edit-work {\n      position: absolute;\n      width: getRem(28);\n      height: getRem(28);\n      right: getRem(-34);\n      top: getRem(18);\n      background: url(\"../assets/viewer/edit.svg\") center center no-repeat;\n      background-size: cover;\n    }\n  }\n  #control-panal {\n    position: absolute;\n    width: 100%;\n    bottom: 0rem;\n    display: flex;\n    height: 2.4rem;\n    padding: 0 getRem(50);\n    justify-content: space-between;\n    align-items: center;\n    .purchaseBtn {\n      position: relative;\n      width: getRem(250);\n      height: getRem(92);\n      border: none;\n      border-radius: getRem(46);\n      background-color: #4266f5;\n      font-size: 0.47rem;\n      color: white;\n      text-align: center;\n      line-height: getRem(92);\n    }\n    .makeBtn {\n      position: relative;\n      width: getRem(250);\n      height: getRem(92);\n      border: none;\n      border-radius: getRem(46);\n      background-color: #4266f5;\n      font-size: 0.47rem;\n      color: white;\n      text-align: center;\n      line-height: getRem(92);\n    }\n  }\n  #playBtn {\n    width: 2rem;\n    height: 2rem;\n    background-color: pink;\n  }\n}\n.loading {\n  #spirit {\n    transition: none;\n    transform: translateY(13rem) scale(0.85);\n  }\n  #mb {\n    transition: none;\n    transform: translateY(13rem);\n  }\n  #ground {\n    transition: none;\n    transform: translateY(13rem);\n  }\n  #low-leaf1 {\n    transition: none;\n    transform: translateY(13rem);\n    opacity: 1;\n  }\n  #low-leaf2 {\n    transition: none;\n    transform: translateY(13rem) translateX(2rem);\n  }\n  #low-leaf3 {\n    transition: none;\n    transform: translateY(13rem);\n  }\n  #low-leaf4 {\n    transition: none;\n    transform: translateY(13rem) rotate(0deg);\n  }\n  #mid-leaf1 {\n    transition: none;\n    transform: translateY(12rem) rotate(9deg) scale(0.9);\n    opacity: 0.9;\n  }\n  #mid-leaf2 {\n    transition: none;\n    transform: translateY(14rem) translateX(1.8rem) rotate(-8deg) scale(0.9);\n    opacity: 0.8;\n  }\n  #mid-leaf3 {\n    transition: none;\n    transform: translateY(14rem) rotate(8deg) scale(0.9);\n    opacity: 0.8;\n  }\n  #mid-leaf4 {\n    transition: none;\n    transform: translateY(14rem) rotate(0deg) scale(0.9);\n    opacity: 0.8;\n  }\n  #top-leaf1 {\n    transition: none;\n    transform: translateY(16.5rem) rotate(35deg) scale(0.7);\n    opacity: 1;\n  }\n  #top-leaf2 {\n    transition: none;\n    transform: translateY(14.5rem) translateX(-1rem) rotate(-20deg) scale(0.6);\n    opacity: 0.9;\n  }\n  #top-leaf3 {\n    transition: none;\n    transform: translateY(15rem) translateX(1rem) rotate(13deg) scale(0.6);\n    opacity: 0.95;\n  }\n  #top-leaf4 {\n    transition: none;\n    transform: translateY(13rem) translateX(4.5rem) rotate(52deg) scale(0.7);\n    opacity: 1;\n  }\n  #top-leaf5 {\n    transition: none;\n    transform: translateY(18rem) translateX(-5rem) rotate(12deg) scale(0.7);\n    opacity: 0.3;\n  }\n  #top-leaf6 {\n    transition: none;\n    transform: translateY(14.5rem) translateX(2.5rem) rotate(39deg) scale(1);\n    opacity: 0.5;\n  }\n}\n.bounce-enter-active {\n  transition: all 2s cubic-bezier(0.19, 2, 0.32, 0.91);\n}\n.bounce-leave-active {\n  transition: all 0.8s cubic-bezier(0.19, 1.58, 0.42, 0.91);\n}\n.bounce-enter, .bounce-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  transform: translateY(3rem);\n  opacity: 0;\n}\n.fade-enter-active {\n  transition: all 0.3s ease-out;\n}\n.fade-leave-active {\n  transition: all 0.3s ease-out;\n}\n.fade-enter, .fade-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n@keyframes music-aurora {\n  0% {\n    background-position: 0 0;\n  }\n  // 50% {\n  //   background-position: 0 getRem(-4039); // background-position: 0 -97.7%\n  //   // background-position: 0 getRem(-1590); // background-position: 0 -97.7%\n  // }\n  100% {\n    background-position: 0 getRem(-4039); // background-position: 0 -97.7%\n  }\n}\n@keyframes box-shine {\n  0% {\n    box-shadow: 0px 0px 0px 0px rgba(252, 245, 141, 1);\n  }\n  50% {\n    box-shadow: 0px 0px 31px 0px rgba(252, 247, 170, 0.8);\n  }\n  100% {\n    box-shadow: 0px 0px 0px 0px rgba(252, 245, 141, 1);\n  }\n}\n#title-update-mask {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .mb-dialog {\n    position: relative;\n    width: getRem(570);\n    padding-top: getRem(75);\n    border-radius: getRem(50);\n    height: getRem(344);\n    background-color: rgba(255, 255, 255, 0.96);\n    display: flex;\n    flex-direction: column;\n    .title {\n      flex: 1;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-end;\n      position: relative;\n      width: 100%;\n      font-size: 0.32rem;\n    }\n    .input {\n      flex: 2;\n      flex-direction: column;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-start;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      input {\n        background: transparent;\n        border: none;\n        outline: none;\n        width: 100%;\n        height: 1rem;\n        font-size: 0.54rem;\n      }\n      .splitter {\n        position: relative;\n        width: 100%;\n        height: 1px;\n        background-color: gray;\n        padding: 0 getRem(77);\n      }\n    }\n    .btns {\n      flex: 4;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      span.btn {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        display: flex;\n        align-items: center;\n        padding-top: 0.6rem;\n      }\n      .cancel {\n        color: gray;\n        text-align: right;\n        justify-content: flex-start;\n        padding-left: getRem(77);\n      }\n      .confirm {\n        color: blue;\n        text-align: left;\n        justify-content: flex-end;\n        padding-right: getRem(77);\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NMBViewer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['container', _vm.loading?'loading':'']},[_c('div',{attrs:{\"id\":\"ground\"}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mb\"},on:{\"click\":_vm.togglePlay}},[_c('div',{class:['mb-part', _vm.playing?'playing':''],attrs:{\"id\":\"mb-lid\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mb-part\",attrs:{\"id\":\"mb-body\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],attrs:{\"id\":\"play-btn\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"pause-btn\"}})]),_vm._v(\" \"),_c('div',{class:[_vm.playing?'':'not-playing'],attrs:{\"id\":\"mb-shiner\"}})]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"music-aurora\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf5\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf6\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.workIntroAppear)?_c('div',{attrs:{\"id\":\"work-intro\"}},[_c('div',{staticClass:\"title\",on:{\"click\":function($event){_vm.userId === _vm.projectInfo.userId?_vm.titleUpdateAppear=true:_vm.titleUpdateAppear=false}}},[_vm._v(_vm._s(_vm.finalNewWorkTitle||_vm.projectInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"subtitle\"},[_c('span',[_vm._v(\"by\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.redirectToMusixiser(_vm.projectInfo.userVO.userId)}}},[_c('img',{attrs:{\"src\":_vm.projectInfo.userVO.smallAvatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.projectInfo.userVO.realname))])]),_vm._v(\" \"),(_vm.userId === _vm.projectInfo.userId)?_c('div',{attrs:{\"id\":\"edit-work\"},on:{\"click\":function($event){_vm.titleUpdateAppear=true}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.controlPanalAppear)?_c('div',{attrs:{\"id\":\"control-panal\"}},[_c('count-button',{attrs:{\"initCount\":_vm.projectInfo.collectNum?_vm.projectInfo.collectNum:0,\"initActive\":_vm.projectInfo.favStatus?true:false,\"iconImg\":\"\",\"onClickCall\":_vm.toggleFav}}),_vm._v(\" \"),_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.purchaseItem}},[_vm._v(\"购买\")]),_vm._v(\" \"),_c('div',{staticClass:\"makeBtn\",on:{\"click\":_vm.redirectToMaker}},[_vm._v(\"编曲\")])],1):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.titleUpdateAppear),expression:\"titleUpdateAppear\"}],attrs:{\"id\":\"title-update-mask\"}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"作品名称\")]),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newWorkTitle),expression:\"newWorkTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"作品新名称\"},domProps:{\"value\":(_vm.newWorkTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newWorkTitle=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"})]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.titleUpdateAppear=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.updateWorkTitle}},[_vm._v(\"确认\")])])])])]),_vm._v(\" \"),_c('div')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spirit\"}},[_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-body\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-front-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back2\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51eca1d1\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NMBViewer.vue\n// module id = null\n// module chunks = ","<script>\n// https://codepen.io/jo-asakura/pen/stFHi\nexport default {\n  props: {\n    progress: Number,\n  },\n  computed: {\n    style() {},\n  },\n  data() {\n    return {};\n  },\n  watch: {},\n  created() {\n    // alert(this.progress)\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    updateButton() {},\n  },\n};\n</script>\n\n<template>\n  <!-- <div class=\"radial-progress\">\n    <div class=\"circle\">\n      <div class=\"mask full\" :style=\"{transform:`rotate(${progress*1.8}deg)`}\">\n        <div class=\"fill\" :style=\"{transform:`rotate(${progress*1.8}deg)`}\"></div>\n      </div>\n      <div class=\"mask half\">\n        <div class=\"fill\" :style=\"{transform:`rotate(${progress*1.8}deg)`}\"></div>\n        <div class=\"fill fix\" :style=\"{transform:`rotate(${progress*3.6}deg)`}\"></div>\n      </div>      \n    </div>\n  </div> -->\n  <div>\n    <div class=\"pie-wrapper pie-wrapper--solid\">\n      <div class=\"before\" \n      :style=\"{\n        background:progress<=50?'#25252b':'#979797',\n        transform:progress<=50?`rotate(${(100  - progress) / 100 * -360}deg)`:`rotate(${(progress-50) / 100 * 360}deg)`\n        }\" />\n      <!-- <span class=\"label\">{{progress}}<span class=\"smaller\">%</span></span> -->\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../../_common/style/_functions.scss\";\n@import \"../../_common/style/_variables.scss\";\n@import \"../../_common/style/_mixins.scss\";\n@import \"../../_common/style/_reboot.scss\";\n@import \"./pieProgress.scss\";\n\n$big-circle-size: 34px;\n$circle-size: 30px;\n$circle-background: #25252b;\n$circle-color: #979797;\n$transition-length: 0.1s;\n.radial-progress {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: $big-circle-size;\n  height: $big-circle-size;\n  background-color: $circle-background;\n  border-radius: 50%;\n  .circle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .mask,\n    .fill {\n      width: $circle-size;\n      height: $circle-size;\n      position: absolute;\n      border-radius: 50%;\n      // transition: -webkit-transform $transition-length;\n      // transition: -ms-transform $transition-length;\n      // transition: transform $transition-length;\n      backface-visibility: hidden;\n    }\n    .mask {\n      clip: rect(0px, $circle-size, $circle-size, $circle-size/2);\n      .fill {\n        clip: rect(0px, $circle-size/2, $circle-size, 0px);\n        background-color: $circle-color;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/pieProgress.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pie-wrapper pie-wrapper--solid\"},[_c('div',{staticClass:\"before\",style:({\n      background:_vm.progress<=50?'#25252b':'#979797',\n      transform:_vm.progress<=50?(\"rotate(\" + ((100  - _vm.progress) / 100 * -360) + \"deg)\"):(\"rotate(\" + ((_vm.progress-50) / 100 * 360) + \"deg)\")\n      })})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f49f988e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/pieProgress.vue\n// module id = null\n// module chunks = ","<script>\n// TODO: IMPORTANT MEMO: reschedule(clear then schedule, might lead to jump/click)\n// activeJ那块 现找播放行不行\n\nimport * as Util from '../_common/js/util';\nimport * as Api from '../_common/js/api';\nimport * as Cookies from 'js-cookie';\nimport * as Magic from '../_common/js/magic';\nimport * as WxShare from '../_common/js/wx_share';\nimport pieProgress from './common/pieProgress';\nimport Vue from 'vue';\nimport VueKonva from 'vue-konva';\n\nwindow.Tone = require('tone');\nconst musicPart = undefined;\nconst musicScale = [0, 2, 4, 5, 7, 9, 11, 12, 14, 16, 17, 19, 21, 23, 24, 26, 28, 29];\n// const colors = ['#8fd3c7', '#95c631', '#edda28', '#f7943d', '#e43159', '#bf4ea8', '#4d61d9', '#45b5a1', '#8fd3c7', '#95c631', '#edda28', '#f7943d', '#e43159', '#bf4ea8', '#4d61d9', '#45b5a1', '#edda28', '#f7943d']\nconst colors = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18];\ncolors.fill('#9FB2CF', 0, 18);\nconst invalidColors = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18];\ninvalidColors.fill('#7D90AD', 0, 18);\nlet last_i = -1;\nlet last_j = -1;\nwindow.cursorSchedules = [];\nlet aInterval = undefined;\nlet extendBtnsTimeout = undefined;\nconst TIME_PER_NOTE = 0.25;\n// const FULL_NOTE_NUM = 40; //80 notes, then if set 20 per page, it would be 4 pages\nconst FULL_NOTE_NUM = 30; // tempo 180, 20seconds => 120 notes\nconst NOTE_NUM_PER_SECTOR = 10;\n// const MB_DUR = 5; // 20 seconds length\nconst MB_DUR = 5; // 20 seconds length\nconst MIN_TEMPO = 60;\nconst MAX_TEMPO = 180;\nVue.use(VueKonva);\nvar synth = new Tone.Sampler(\n  {\n    C4: 'C4.[mp3|ogg]',\n    'D#4': 'Ds4.[mp3|ogg]',\n    'F#4': 'Fs4.[mp3|ogg]',\n    A4: 'A4.[mp3|ogg]',\n    C5: 'C5.[mp3|ogg]',\n    'D#5': 'Ds5.[mp3|ogg]',\n    'F#5': 'Fs5.[mp3|ogg]',\n    A5: 'A5.[mp3|ogg]',\n    C6: 'C6.[mp3|ogg]',\n  },\n  {\n    release: 1,\n    // 'baseUrl': '/static/audio/'\n    baseUrl: '//cnbj1.fds.api.xiaomi.com/mbox/audio/',\n  },\n).toMaster();\n\nvar pulseOptions = {\n  oscillator: {\n    type: 'triangle',\n  },\n  envelope: {\n    release: 0.07,\n  },\n};\nconst piano = new Tone.PolySynth(18, Tone.Synth, pulseOptions).toMaster();\nexport default {\n  components: {\n    // countButton,\n    pieProgress,\n  },\n  data() {\n    return {\n      NOTE_CATEGORY: 18,\n      ONE_PAGE_NOTE_NUM: 20,\n      NOTE_NUM_PER_SECTOR,\n      tempo: 80,\n      configKonva: {\n        width: 0,\n        height: 0,\n      },\n      configNoteRect: {},\n      activeJ: -1, // highlight timeline\n      sector: 1, // 2*4-1,可以滚动7次，营造处4页的氛围\n      rectArray: [[], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []],\n      alertAppear: false,\n      showExtendBtns: false,\n      playing: false,\n      currentTime: 0,\n    };\n  },\n  filters: {\n    intTime: floatTime => {\n      return Math.floor(floatTime) % 20;\n      // return floatTime\n    },\n  },\n  computed: {\n    tempoLength() {\n      const k = 100 / (MAX_TEMPO - MIN_TEMPO);\n      const b = -(MIN_TEMPO * k);\n      return { height: `${k * this.tempo + b}%` };\n    },\n  },\n  methods: {\n    setupCanvas() {\n      const docElem = document.documentElement;\n      this.configKonva = {\n        width: docElem.getBoundingClientRect().width - 50,\n        height: window.innerHeight,\n      };\n      this.configNoteRect = {\n        width: (docElem.getBoundingClientRect().width - 50) / this.NOTE_CATEGORY,\n        height: window.innerHeight / this.ONE_PAGE_NOTE_NUM,\n        fill: '#fff',\n        stroke: '#000',\n        strokeWidth: 0.5,\n      };\n      this.scheduleCursor();\n    },\n    scheduleCursor() {\n      const fullNoteNumWithinDur = Math.ceil(MB_DUR / (TIME_PER_NOTE * 120 / this.tempo));\n      // const fullNoteNumWithinDur = 10;\n      // console.log('full note num', fullNoteNumWithinDur);\n      // let lastTiming = 0;\n      for (let i = 0; i <= FULL_NOTE_NUM - 1; i++) {\n        if (i <= fullNoteNumWithinDur - 1) {\n          // 在有效范围，已规划 => 要修改\n          Tone.Transport.clear(cursorSchedules[i]);\n          cursorSchedules[i] = Tone.Transport.scheduleRepeat(\n            time => {\n              this.activeJ = i;\n              this.currentTime = i * TIME_PER_NOTE * 120 / this.tempo;\n              // const now = performance.now();\n              // console.log(now - lastTiming);\n              // lastTiming = now;\n              this.rectArray.forEach((noteSeq, noteIndex) => {\n                if (noteSeq[i]) {\n                  synth.triggerAttackRelease(\n                    Tone.Frequency(60 + musicScale[noteIndex], 'midi'),\n                    0.25,\n                  );\n                }\n              });\n              // synth.triggerAttackRelease(Tone.Frequency(60, 'midi'), 0.1);\n            },\n            fullNoteNumWithinDur * TIME_PER_NOTE * 120 / this.tempo,\n            i * TIME_PER_NOTE * 120 / this.tempo,\n          );\n        } else if (i > fullNoteNumWithinDur - 1 && cursorSchedules[i]) {\n          // 不在有效范围，已规划 => 不清除，但禁掉\n          Tone.Transport.clear(cursorSchedules[i]);\n          cursorSchedules[i] = '';\n        } else {\n          // 不在有效范围，未规划 => 储存，但不规划\n        }\n      }\n      console.log(cursorSchedules);\n      console.log(Tone.Transport._scheduledEvents);\n    },\n    setupRect(i, j, sector) {\n      let fill = '';\n      // split NOTE_NUM_PER_SECTOR and this.NOTE_NUM_PER_SECTOR for ANIMATION!!!\n      const index = j + (sector - 2) * NOTE_NUM_PER_SECTOR + 1 * this.NOTE_NUM_PER_SECTOR;\n      const withinDur = index * TIME_PER_NOTE * 120 / this.tempo < MB_DUR;\n      if (index == this.activeJ && this.rectArray[i][index]) {\n        // active current note: lighter color\n        fill = withinDur ? '#6477b1' : '#A9B9FF';\n      } else if (index == this.activeJ && !this.rectArray[i][index]) {\n        // inactive current light blue\n        fill = withinDur ? '#292B3A' : '#2B2E3D';\n      } else if (this.rectArray[i][index]) {\n        // active non-current note\n        fill = withinDur ? colors[i] : '#333740';\n      } else {\n        // incative non-current note\n        fill = withinDur ? `rgba(0,0,0,${0.98 - i * 0.3 / this.NOTE_CATEGORY})` : '#131315';\n      }\n      return {\n        ...this.configNoteRect,\n        x: i * this.configKonva.width / this.NOTE_CATEGORY,\n        y: j * this.configKonva.height / this.ONE_PAGE_NOTE_NUM,\n        fill,\n      };\n    },\n    handleTouchRect(i, j, sector) {\n      // console.log(`trigger ${i},${j+(sector-1)*this.NOTE_NUM_PER_SECTOR}`)\n      // make sound\n      synth.triggerAttackRelease(Tone.Frequency(60 + musicScale[i], 'midi'), 0.25);\n      // this.rectArray[i][j] = !this.rectArray[i][j] // this is how to assign a two dim array in vue 2.0...\n      const newRow = this.rectArray[i].slice(0);\n      newRow[j + (sector - 1) * this.NOTE_NUM_PER_SECTOR] = !newRow[\n        j + (sector - 1) * this.NOTE_NUM_PER_SECTOR\n      ];\n      this.$set(this.rectArray, i, newRow);\n\n      // update last\n      last_i = i;\n      last_j = j;\n    },\n    handleMoveRect(i, j, sector) {\n      const fullJ = j + (sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      const fullLastJ = last_j + (sector - 1) * this.NOTE_NUM_PER_SECTOR;\n      if (j != last_j) {\n        // take this as real note, store arrange\n        this.handleTouchRect(i, j, sector);\n      } else if (i != last_i && j == last_j) {\n        // take this as testing note, no store, no arrange\n        // make sound\n        synth.triggerAttackRelease(Tone.Frequency(60 + musicScale[i], 'midi'), 0.25);\n        // operate current note view\n        const newRow = this.rectArray[i].slice(0);\n        newRow[fullJ] = !newRow[fullJ];\n        this.$set(this.rectArray, i, newRow);\n\n        // restore last note view\n        const newLastRow = this.rectArray[last_i].slice(0);\n        newLastRow[fullLastJ] = !newLastRow[fullLastJ];\n        this.$set(this.rectArray, last_i, newLastRow);\n\n        // update last\n        last_i = i;\n        last_j = j;\n      } else {\n        // console.log(`ignore ${i},${j}`)\n      }\n    },\n    startloop() {\n      Tone.Transport.start('+0.1');\n      this.playing = true;\n    },\n    stoploop() {\n      Tone.Transport.stop();\n      this.playing = false;\n    },\n    toggleReplay() {\n      if (this.playing) this.stoploop();\n      else this.startloop();\n    },\n    minusTempo() {\n      if (this.tempo > MIN_TEMPO) {\n        this.tempo -= 5;\n        Tone.Transport.seconds = this.activeJ * TIME_PER_NOTE * 120 / this.tempo;\n        Tone.Transport.bpm.rampTo(this.tempo, 0.01);\n        setTimeout(() => {\n          // bpm ramp to, so need a settimeout\n          this.scheduleCursor();\n        }, 200);\n      }\n    },\n    addTempo() {\n      if (this.tempo < MAX_TEMPO) {\n        this.tempo += 5;\n        Tone.Transport.seconds = this.activeJ * TIME_PER_NOTE * 120 / this.tempo;\n        Tone.Transport.bpm.rampTo(this.tempo, 0.01);\n        setTimeout(() => {\n          this.scheduleCursor();\n        }, 200);\n      }\n    },\n    scrolldown() {\n      clearInterval(aInterval);\n      this.sector == FULL_NOTE_NUM / NOTE_NUM_PER_SECTOR - 1\n        ? (this.NOTE_NUM_PER_SECTOR = NOTE_NUM_PER_SECTOR - 2)\n        : (this.NOTE_NUM_PER_SECTOR = 1); // for animation,\n      this.sector <= FULL_NOTE_NUM / NOTE_NUM_PER_SECTOR - 2 ? (this.sector += 1) : ''; // this line is real scroll down\n      // below is for animation\n      aInterval = setInterval(() => {\n        this.NOTE_NUM_PER_SECTOR += 1;\n        if (this.NOTE_NUM_PER_SECTOR == 10) {\n          clearInterval(aInterval);\n        }\n      }, 50);\n    },\n    scrollup() {\n      clearInterval(aInterval);\n      this.sector == 1\n        ? (this.NOTE_NUM_PER_SECTOR = NOTE_NUM_PER_SECTOR + 2)\n        : (this.NOTE_NUM_PER_SECTOR = 20); // for animation,\n      this.sector >= 2 ? (this.sector -= 1) : '';\n      aInterval = setInterval(() => {\n        this.NOTE_NUM_PER_SECTOR -= 1;\n        if (this.NOTE_NUM_PER_SECTOR == 10) {\n          clearInterval(aInterval);\n        }\n      }, 50);\n    },\n    checkBouncibility() {\n      const result = [];\n      for (let i = 0; i <= this.NOTE_CATEGORY - 1; i++) {\n        for (let j = 0; j <= FULL_NOTE_NUM - 1; j++) {\n          if (this.rectArray[i][j]) {\n            result.push({\n              note: Tone.Frequency(60 + musicScale[i], 'midi').toNote(),\n              time: j * TIME_PER_NOTE * 120 / this.tempo,\n            });\n          }\n        }\n      }\n      result.sort((a, b) => 0 + a.time - b.time);\n      return Magic.RealMagic(result);\n    },\n    bounceProject() {\n      // finally get something like [{note:'A4',time:0},{note:'A5',time:0.3227}]\n      const result = [];\n      for (let i = 0; i <= this.NOTE_CATEGORY - 1; i++) {\n        for (let j = 0; j <= FULL_NOTE_NUM - 1; j++) {\n          if (this.rectArray[i][j]) {\n            result.push({\n              note: Tone.Frequency(60 + musicScale[i], 'midi').toNote(),\n              time: j * TIME_PER_NOTE * 120 / this.tempo,\n            });\n          }\n        }\n      }\n      this.$store\n        .dispatch('BOUNCE_PROJECT', {\n          record: result,\n          info: {\n            title: '尚未起名',\n            content: 'default',\n            cover: 'default',\n          },\n        })\n        .then(id => {\n          console.log('successfully bounced');\n          this.bouncing = false;\n          this.$toast('作品已为您存储');\n          this.$router.push({\n            path: '/new-music-box-viewer',\n            query: {\n              id,\n            },\n          });\n        })\n        .catch(err => {\n          this.bouncing = false;\n          this.$toast('非常抱歉，上传作品失败了');\n        });\n    },\n    submitProject() {\n      if (this.checkBouncibility()) {\n        // alert(1);\n        this.bounceProject();\n      } else {\n        // alert(2);\n        this.alertAppear = true;\n      }\n    },\n    clearProject() {},\n    btnStart(e) {\n      console.log(e);\n      extendBtnsTimeout = setTimeout(() => {\n        //show extend buttons\n        this.showExtendBtns = true;\n      }, 200);\n    },\n    btnEnd(e) {\n      // console.log(e)\n      clearTimeout(extendBtnsTimeout);\n      const a = document.elementFromPoint(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\n      console.log(a);\n      if (a && a.classList.contains('bounceBtn')) {\n        this.submitProject();\n      } else if (a && (a.classList.contains('playBtn') || a.classList.contains('pauseBtn'))) {\n        //播放\n        // console.log(Tone.Transport.state)\n        this.toggleReplay();\n        this.showExtendBtns = false;\n      } else if (a && (a.classList.contains('playBtn') || a.classList.contains('cancelBtn'))) {\n        //hide extend buttons\n        this.showExtendBtns = false;\n      }\n    },\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    next();\n  },\n  created() {\n    this.setupCanvas();\n\n    // regular setup\n    const self = this;\n    Tone.Transport.cancel();\n    // this is very important\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + 'px';\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    // alert(Cookies.get('serviceToken'))\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: 'MUSIXISE',\n        desc: '划拉划拉八音盒',\n        fullPath: `${location.origin}${location.pathname}#/new-music-box-roll`,\n        imgUrl: 'http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png',\n      });\n    });\n    if (Util.getUrlParam('code') || Cookies.get('serviceToken')) {\n      Api.getUserInfo(Util.getUrlParam('code'))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove('serviceToken');\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                location.origin + location.pathname + '#/new-music-box-roll',\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`,\n            );\n          }\n          console.log('get user info success', res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove('serviceToken');\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              location.origin + location.pathname + '#/new-music-box-roll',\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`,\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          location.origin + location.pathname + '#/new-music-box-roll',\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`,\n      );\n    }\n  },\n  mounted() {},\n  updated() {},\n};\n</script>\n\n<template>\n<div class=\"\">\n  <div class=\"roll\">\n    <v-stage :config=\"configKonva\">\n      <v-layer>\n        <template v-for='i in NOTE_CATEGORY'>\n            <v-rect v-for='j in ONE_PAGE_NOTE_NUM'\n            :key=\"`${i}${j}`\"\n            @touchstart=\"handleTouchRect(i-1,j-1,sector)\"\n            @touchmove=\"handleMoveRect(i-1,j-1,sector)\"\n            :config=\"setupRect(i-1,j-1,sector)\" />\n          </template>\n      </v-layer>\n    </v-stage>\n  </div>\n\n  <div class=\"control-panal\">\n    <div>    \n      <div @touchstart=\"scrollup\" id=\"scrollup\" class=\"rotate\"></div>\n      <div @touchstart=\"scrolldown\" id=\"scrolldown\"></div>\n    </div>\n    <div>\n      <div @touchstart=\"minusTempo\" id=\"minustempo\" class=\"rotate\"></div>\n      <div id=\"tempo-indicator\">\n        <div id=\"tempo-progress\" :style=\"tempoLength\"></div>\n        <p id=\"tempo-num\">{{this.tempo}} bpm</p>\n      </div>\n      <div @touchstart=\"addTempo\" id=\"addtempo\" class=\"rotate\"></div>\n    </div>\n    <div style=\"position:relative;display:flex;align-items:center;justify-content:center;transform:rotate(90deg);\">\n      <pie-progress :progress=\"100*currentTime/5\" />\n      <p style=\"position:absolute;font-size:12px;\">{{currentTime|intTime}}</p>\n      </div>\n    <div class=\"btnContainer\" @touchstart.stop.prevent=\"btnStart\" @touchend.stop.prevent=\"btnEnd\">\n      <div :class=\"[playing?'pauseBtn':'playBtn', 'rotate']\" @click=\"toggleReplay\"></div>\n      <div :class=\"[showExtendBtns?'extendBtnsShow':'extendBtnsHide','extendBtns']\">\n        <div class='bounceBtn rotate'></div>\n        <div class='cancelBtn'></div>\n      </div>\n    </div>\n  </div>\n  \n  <transition name=\"fade\">\n    <div id=\"alert-mask\" v-show=\"alertAppear\">\n      <div class=\"mb-dialog\">\n        <div class=\"title\">\n          减少些音符才能做成音乐盒，是否继续上传\n        </div>\n        <div class=\"btns\">\n          <span class=\"btn cancel\" @click=\"alertAppear=false\">再调整</span>\n          <span class=\"btn confirm\" @click=\"bounceProject\">任性上传</span>\n        </div>\n      </div>\n    </div>\n  </transition>\n</div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n.roll {\n  position: absolute;\n  right: 0;\n}\n.control-panal {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  width: 50px;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background-color: black;\n  color: white;\n  #scrollup {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/left.png\") center center;\n    background-size: contain;\n    margin-bottom: 20px;\n  }\n  #scrolldown {\n    width: 34px;\n    height: 34px;\n    background: url(\"../assets/left.png\") center center;\n    background-size: contain;\n    transform: rotate(270deg);\n  }\n  #tempo-indicator {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 18px;\n    height: 154px;\n    border-radius: 9px;\n    border: 1px solid #25252b;\n    background-color: #25252b;\n    #tempo-progress {\n      position: absolute;\n      top: 0;\n      width: 16px;\n      // height:140px;\n      background-color: rgba(255, 255, 255, 0.2);\n      border-radius: 9px;\n      display: flex;\n      align-items: center;\n      // border:solid 1px transparent;\n    }\n    #tempo-num {\n      position: absolute;\n      width: 60px;\n      left: -22px;\n      transform: rotate(90deg);\n      color: white;\n      font-size: 14px;\n    }\n  }\n  #minustempo {\n    margin-top: 50px;\n    margin-bottom: 10px;\n    width: 20px;\n    height: 20px;\n    background: url(\"../assets/minus.png\") center center;\n    background-size: contain;\n  }\n  #addtempo {\n    width: 20px;\n    height: 20px;\n    margin-top: 10px;\n    background: url(\"../assets/plus.png\") center center;\n    background-size: contain;\n  }\n}\n\n.fadein {\n  animation: fadein 1s;\n  animation-fill-mode: forwards;\n}\n\n.fadeout {\n  animation: fadeout 1s;\n  animation-fill-mode: forwards;\n}\n@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n@keyframes fadeout {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n}\n.btnContainer {\n  position: relative;\n  width: getRem(84);\n  height: getRem(84);\n  margin-top: 0.3rem;\n  .playBtn {\n    z-index: 2;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: getRem(42);\n    background: url(\"../assets/play.svg\") center center no-repeat;\n    background-size: getRem(32);\n    background-color: rgb(69, 106, 255);\n  }\n  .pauseBtn {\n    z-index: 2;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: getRem(42);\n    background: url(\"../assets/pause.svg\") center center no-repeat;\n    background-size: getRem(32);\n    background-color: rgb(69, 106, 255);\n  }\n  .bounceBtn {\n    position: absolute;\n    width: getRem(84);\n    height: getRem(84);\n    border-radius: getRem(42);\n    left: getRem(310);\n    background: url(\"../assets/check.svg\") center center no-repeat;\n    // background-size: getRem(32);\n  }\n  .cancelBtn {\n    position: absolute;\n    width: getRem(84);\n    height: getRem(84);\n    border-radius: getRem(42);\n    left: getRem(600);\n    background: url(\"../assets/cancel.svg\") center center no-repeat;\n    // background-size: getRem(32);\n  }\n  .extendBtns {\n    // this element is within rotate, everything is opposite\n    position: absolute;\n    height: getRem(84);\n    border-radius: getRem(42);\n    overflow: hidden;\n    left: 0px;\n    z-index: 1;\n    transition: width 1s;\n    background: linear-gradient(\n      to left,\n      rgb(254, 64, 64),\n      rgb(142, 122, 239),\n      rgb(69, 106, 255) 80%\n    );\n  }\n  .extendBtnsShow {\n    width: getRem(690);\n  }\n  .extendBtnsHide {\n    width: getRem(84);\n  }\n}\n.rotate {\n  transform: rotate(90deg);\n}\n#alert-mask {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .mb-dialog {\n    position: relative;\n    transform: rotate(90deg);\n    width: getRem(570);\n    padding-top: getRem(75);\n    border-radius: getRem(50);\n    height: getRem(344);\n    background-color: rgba(255, 255, 255, 0.96);\n    display: flex;\n    flex-direction: column;\n    .title {\n      flex: 1;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-end;\n      position: relative;\n      width: 100%;\n      font-size: 0.32rem;\n    }\n    .input {\n      flex: 2;\n      flex-direction: column;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-start;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      input {\n        background: transparent;\n        border: none;\n        outline: none;\n        width: 100%;\n        height: 1rem;\n        font-size: 0.54rem;\n      }\n      .splitter {\n        position: relative;\n        width: 100%;\n        height: 1px;\n        background-color: gray;\n        padding: 0 getRem(77);\n      }\n    }\n    .btns {\n      flex: 4;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      span.btn {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        display: flex;\n        align-items: center;\n        padding-top: 0.6rem;\n      }\n      .cancel {\n        color: gray;\n        text-align: right;\n        justify-content: flex-start;\n        padding-left: getRem(77);\n      }\n      .confirm {\n        color: blue;\n        text-align: left;\n        justify-content: flex-end;\n        padding-right: getRem(77);\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MBRollMaker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"roll\"},[_c('v-stage',{attrs:{\"config\":_vm.configKonva}},[_c('v-layer',[_vm._l((_vm.NOTE_CATEGORY),function(i){return _vm._l((_vm.ONE_PAGE_NOTE_NUM),function(j){return _c('v-rect',{key:(\"\" + i + j),attrs:{\"config\":_vm.setupRect(i-1,j-1,_vm.sector)},on:{\"touchstart\":function($event){_vm.handleTouchRect(i-1,j-1,_vm.sector)},\"touchmove\":function($event){_vm.handleMoveRect(i-1,j-1,_vm.sector)}}})})})],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"control-panal\"},[_c('div',[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"scrollup\"},on:{\"touchstart\":_vm.scrollup}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"scrolldown\"},on:{\"touchstart\":_vm.scrolldown}})]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"minustempo\"},on:{\"touchstart\":_vm.minusTempo}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"tempo-indicator\"}},[_c('div',{style:(_vm.tempoLength),attrs:{\"id\":\"tempo-progress\"}}),_vm._v(\" \"),_c('p',{attrs:{\"id\":\"tempo-num\"}},[_vm._v(_vm._s(this.tempo)+\" bpm\")])]),_vm._v(\" \"),_c('div',{staticClass:\"rotate\",attrs:{\"id\":\"addtempo\"},on:{\"touchstart\":_vm.addTempo}})]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"relative\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"transform\":\"rotate(90deg)\"}},[_c('pie-progress',{attrs:{\"progress\":100*_vm.currentTime/5}}),_vm._v(\" \"),_c('p',{staticStyle:{\"position\":\"absolute\",\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm._f(\"intTime\")(_vm.currentTime)))])],1),_vm._v(\" \"),_c('div',{staticClass:\"btnContainer\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.btnStart($event)},\"touchend\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.btnEnd($event)}}},[_c('div',{class:[_vm.playing?'pauseBtn':'playBtn', 'rotate'],on:{\"click\":_vm.toggleReplay}}),_vm._v(\" \"),_c('div',{class:[_vm.showExtendBtns?'extendBtnsShow':'extendBtnsHide','extendBtns']},[_c('div',{staticClass:\"bounceBtn rotate\"}),_vm._v(\" \"),_c('div',{staticClass:\"cancelBtn\"})])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertAppear),expression:\"alertAppear\"}],attrs:{\"id\":\"alert-mask\"}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n          减少些音符才能做成音乐盒，是否继续上传\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.alertAppear=false}}},[_vm._v(\"再调整\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.bounceProject}},[_vm._v(\"任性上传\")])])])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8e19a336\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MBRollMaker.vue\n// module id = null\n// module chunks = ","<script>\n// window.Tone = require('tone')\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport countButton from \"./common/countButton\";\nimport * as WxShare from \"../_common/js/wx_share\";\nimport infiniteScroll from \"vue-infinite-scroll\";\n\nlet musicPart = undefined;\n\nexport default {\n  directives: {\n    infiniteScroll\n  },\n  components: {\n    countButton\n  },\n  data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true\n    };\n  },\n  computed: {\n    musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    musixiserWorksObj() {\n      return this.$store.state.musixiserWorksObj;\n    }\n  },\n  methods: {\n    loadMusixiserById() {\n      console.log(\"my id: \", this.userId);\n      const id = this.userId;\n      this.$store.dispatch(\"FETCH_MUSIXISER\", {\n        id\n      });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore() {\n      //will call automatically when enter!\n      const id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.musixiserWorksObj.current);\n      this.$store\n        .dispatch(\"FETCH_WORKS_FROM_MUSIXISER\", {\n          id,\n          page: this.musixiserWorksObj.current\n            ? this.musixiserWorksObj.current + 1\n            : 1\n        })\n        .then(() => {\n          console.log(\"2222222\", this.musixiserWorksObj);\n          if (\n            this.musixiserWorksObj.content.length < this.musixiserWorksObj.total\n          ) {\n            this.busy = false;\n          }\n        });\n    },\n    togglePlay() {\n      // alert('111')\n      Magic.preview(this.project);\n      this.playing = !this.playing;\n    },\n    toggleFav() {\n      // this.favStatus = +!this.favStatus;\n      Api.toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      });\n    },\n    redirectToWork(id) {\n      this.$router.push({\n        path: \"/new-music-box-viewer\",\n        query: {\n          id\n        }\n      });\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    next();\n  },\n  created() {\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    const self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 149;\n      self.loadMusixiserById();\n      return;\n    }\n    const fullPath = `${location.origin}${\n      location.pathname\n    }#/new-music-box-viewer?id=${self.$store.state.route.query.id}`;\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"我的地盘你就dê听我的\",\n        // fullPath:location.href.split('#')[0],\n        fullPath,\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          self.userId =\n            this.$store.state.route.query.id || res.data.data.userId;\n          self.isMe = self.userId == res.data.data.userId;\n          self.loadMusixiserById();\n\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {\n    // this.startRecord();\n    setTimeout(() => {\n      this.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <!-- <div class=\"\">\n    {{musixiserInfo.realname}}\n    </div>-->\n    <div\n      class=\"worklist\"\n      v-infinite-scroll=\"loadMore\"\n      infinite-scroll-disabled=\"busy\"\n      infinite-scroll-distance=\"10\"\n    >\n      <div class=\"work\" v-for=\"item in musixiserWorksObj.content\" @click=\"redirectToWork(item.id)\">\n        <img class=\"cover\" :src=\"item.cover=='default'?item.userVO.smallAvatar:item.cover\" alt>\n        <div class=\"detail\">\n          <div class=\"hairline\"></div>\n          <div class=\"line line1\">\n            <p class=\"title\">{{ item.title }}</p>\n            <p class=\"date\">{{ item.createdDate }}</p>\n          </div>\n          <div class=\"line line2\">\n            <p class=\"creator\">{{ item.userVO.realname }}</p>\n            <p class=\"likes\">收藏人数: {{item.collectNum}}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"emptysection\" v-show=\"!loading && musixiserWorksObj.content.length==0\">\n      <div>\n        <p class=\"emptytitle\">暂无作品</p>\n        <img src=\"../assets/oops.png\" style=\"width:6rem;\" alt>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n\n.container {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: #404249;\n}\n.worklist {\n  position: relative;\n  padding: getRem(20);\n  background-color: #404249;\n}\n.hairline {\n  height: 1px;\n  background: #979797;\n  transform: scaleY(0.5);\n}\n.work {\n  position: relative;\n  display: flex;\n  height: getRem(174);\n  margin-bottom: getRem(30);\n  .cover {\n    position: relative;\n    width: getRem(174);\n    height: getRem(174);\n    margin-top: getRem(18);\n  }\n  .detail {\n    flex: 1;\n    padding-left: getRem(30);\n    .line {\n      display: flex;\n      justify-content: space-between;\n    }\n    .line1 {\n      padding-top: getRem(40);\n      padding-bottom: getRem(60);\n      line-height: getRem(30);\n    }\n    .line2 {\n      padding-bottom: getRem(30);\n      line-height: getRem(30);\n    }\n    .title {\n      font-size: getRem(28);\n      color: #8c8c92;\n    }\n    .date {\n      font-size: getRem(20);\n      color: #6d6e75;\n    }\n    .creator {\n      font-size: getRem(24);\n      color: #6d6e75;\n    }\n    .likes {\n      font-size: getRem(20);\n      color: rgba(255, 255, 255, 0.3);\n    }\n  }\n}\n.emptysection {\n  position: relative;\n  height: 100%;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .emptytitle {\n    font-size: 1.4rem;\n    font-weight: 200;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MusixiserDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.musixiserWorksObj.content),function(item){return _c('div',{staticClass:\"work\",on:{\"click\":function($event){_vm.redirectToWork(item.id)}}},[_c('img',{staticClass:\"cover\",attrs:{\"src\":item.cover=='default'?item.userVO.smallAvatar:item.cover,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"hairline\"}),_vm._v(\" \"),_c('div',{staticClass:\"line line1\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(item.createdDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"line line2\"},[_c('p',{staticClass:\"creator\"},[_vm._v(_vm._s(item.userVO.realname))]),_vm._v(\" \"),_c('p',{staticClass:\"likes\"},[_vm._v(\"收藏人数: \"+_vm._s(item.collectNum))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.musixiserWorksObj.content.length==0),expression:\"!loading && musixiserWorksObj.content.length==0\"}],staticClass:\"emptysection\"},[_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"emptytitle\"},[_vm._v(\"暂无作品\")]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"6rem\"},attrs:{\"src\":require(\"../assets/oops.png\"),\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2caa14dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MusixiserDetail.vue\n// module id = null\n// module chunks = ","<script>\n// window.Tone = require('tone')\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport countButton from \"./common/countButton\";\nimport * as WxShare from \"../_common/js/wx_share\";\nimport infiniteScroll from \"vue-infinite-scroll\";\n\nlet musicPart = undefined;\n\nexport default {\n  directives: {\n    infiniteScroll\n  },\n  components: {\n    countButton\n  },\n  data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true\n    };\n  },\n  computed: {\n    musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    favWorksObj() {\n      return this.$store.state.favWorksObj;\n    }\n  },\n  methods: {\n    loadMusixiserById() {\n      console.log(\"my id: \", this.userId);\n      const id = this.userId;\n      this.$store.dispatch(\"FETCH_MUSIXISER\", {\n        id\n      });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore() {\n      //will call automatically when enter!\n      const id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.favWorksObj.current);\n      this.$store\n        .dispatch(\"FETCH_FAV_WORKS\", {\n          id,\n          page: this.favWorksObj.current ? this.favWorksObj.current + 1 : 1\n        })\n        .then(() => {\n          console.log(\"2222222\", this.favWorksObj);\n          if (this.favWorksObj.content.length < this.favWorksObj.total) {\n            this.busy = false;\n          }\n        });\n    },\n    togglePlay() {\n      // alert('111')\n      Magic.preview(this.project);\n      this.playing = !this.playing;\n    },\n    toggleFav() {\n      // this.favStatus = +!this.favStatus;\n      Api.toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      });\n    },\n    redirectToWork(id) {\n      if (id) {\n        this.$router.push({\n          path: \"/new-music-box-viewer\",\n          query: {\n            id\n          }\n        });\n      }\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    next();\n  },\n  created() {\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    const self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 149;\n      self.loadMusixiserById();\n      return;\n    }\n    const fullPath = `${location.origin}${\n      location.pathname\n    }#/new-music-box-viewer?id=${self.$store.state.route.query.id}`;\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"我的地盘你就dê听我的\",\n        // fullPath:location.href.split('#')[0],\n        fullPath,\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          self.userId =\n            this.$store.state.route.query.id || res.data.data.userId;\n          self.isMe = self.userId == res.data.data.userId;\n          self.loadMusixiserById();\n\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {\n    // this.startRecord();\n    setTimeout(() => {\n      this.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <!-- <div class=\"\">\n    {{musixiserInfo.realname}}\n    </div>-->\n    <div\n      class=\"worklist\"\n      v-infinite-scroll=\"loadMore\"\n      infinite-scroll-disabled=\"busy\"\n      infinite-scroll-distance=\"10\"\n    >\n      <div class=\"work\" v-for=\"item in favWorksObj.content\" @click=\"redirectToWork(item.id)\">\n        <img class=\"cover\" :src=\"item.cover=='default'?item.user.smallAvatar:item.cover\" alt>\n        <div class=\"detail\">\n          <div class=\"hairline\"></div>\n          <div class=\"line line1\">\n            <p class=\"title\">{{ item.title }}</p>\n            <p class=\"date\">{{ item.createdDate }}</p>\n          </div>\n          <div class=\"line line2\">\n            <p class=\"creator\">{{ item.user.realname }}</p>\n            <p class=\"likes\">收藏人数: {{item.collectNum}}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"emptysection\" v-show=\"!loading && favWorksObj.content.length==0\">\n      <div>\n        <p class=\"emptytitle\">暂无作品</p>\n        <img src=\"../assets/oops.png\" style=\"width:6rem;\" alt>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n\n.container {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: #404249;\n}\n.worklist {\n  position: relative;\n  padding: getRem(20);\n  background-color: #404249;\n}\n.hairline {\n  height: 1px;\n  background: #979797;\n  transform: scaleY(0.5);\n}\n.work {\n  position: relative;\n  display: flex;\n  height: getRem(174);\n  margin-bottom: getRem(30);\n  .cover {\n    position: relative;\n    width: getRem(174);\n    height: getRem(174);\n    margin-top: getRem(18);\n  }\n  .detail {\n    flex: 1;\n    padding-left: getRem(30);\n    .line {\n      display: flex;\n      justify-content: space-between;\n    }\n    .line1 {\n      padding-top: getRem(40);\n      padding-bottom: getRem(60);\n      line-height: getRem(30);\n    }\n    .line2 {\n      padding-bottom: getRem(30);\n      line-height: getRem(30);\n    }\n    .title {\n      font-size: getRem(28);\n      color: #8c8c92;\n    }\n    .date {\n      font-size: getRem(20);\n      color: #6d6e75;\n    }\n    .creator {\n      font-size: getRem(24);\n      color: #6d6e75;\n    }\n    .likes {\n      font-size: getRem(20);\n      color: rgba(255, 255, 255, 0.3);\n    }\n  }\n}\n.emptysection {\n  position: relative;\n  height: 100%;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .emptytitle {\n    font-size: 1.4rem;\n    font-weight: 200;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MyFav.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.favWorksObj.content),function(item){return _c('div',{staticClass:\"work\",on:{\"click\":function($event){_vm.redirectToWork(item.id)}}},[_c('img',{staticClass:\"cover\",attrs:{\"src\":item.cover=='default'?item.user.smallAvatar:item.cover,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"hairline\"}),_vm._v(\" \"),_c('div',{staticClass:\"line line1\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(item.createdDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"line line2\"},[_c('p',{staticClass:\"creator\"},[_vm._v(_vm._s(item.user.realname))]),_vm._v(\" \"),_c('p',{staticClass:\"likes\"},[_vm._v(\"收藏人数: \"+_vm._s(item.collectNum))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.favWorksObj.content.length==0),expression:\"!loading && favWorksObj.content.length==0\"}],staticClass:\"emptysection\"},[_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"emptytitle\"},[_vm._v(\"暂无作品\")]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"6rem\"},attrs:{\"src\":require(\"../assets/oops.png\"),\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-491033b3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyFav.vue\n// module id = null\n// module chunks = ","<script>\n// window.Tone = require('tone')\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport countButton from \"./common/countButton\";\nimport * as WxShare from \"../_common/js/wx_share\";\nimport infiniteScroll from \"vue-infinite-scroll\";\n\nlet musicPart = undefined;\n\nexport default {\n  directives: {\n    infiniteScroll\n  },\n  components: {\n    countButton\n  },\n  data() {\n    return {\n      // playing: false,\n      loading: true,\n      playing: false,\n      userId: 0,\n      isMe: false,\n      favStatus: false,\n      newWorkTitle: \"\",\n      finalNewWorkTitle: \"\",\n      busy: true\n    };\n  },\n  computed: {\n    musixiserInfo() {\n      return this.$store.state.musixiserInfo;\n    },\n    favWorksObj() {\n      return this.$store.state.favWorksObj;\n    }\n  },\n  methods: {\n    loadMusixiserById() {\n      console.log(\"my id: \", this.userId);\n      const id = this.userId;\n      this.$store.dispatch(\"FETCH_MUSIXISER\", {\n        id\n      });\n      this.busy = false;\n      // this.$store.dispatch('FETCH_WORKS_FROM_MUSIXISER', {\n      //   id,\n      //   page:1\n      // })\n    },\n    loadMore() {\n      //will call automatically when enter!\n      const id = this.userId;\n      // alert(id)\n      this.busy = true;\n      console.log(\"1111111\", this.favWorksObj.current);\n      this.$store\n        .dispatch(\"FETCH_FAV_WORKS\", {\n          id,\n          page: this.favWorksObj.current ? this.favWorksObj.current + 1 : 1\n        })\n        .then(() => {\n          console.log(\"2222222\", this.favWorksObj);\n          if (this.favWorksObj.content.length < this.favWorksObj.total) {\n            this.busy = false;\n          }\n        });\n    },\n    togglePlay() {\n      // alert('111')\n      Magic.preview(this.project);\n      this.playing = !this.playing;\n    },\n    toggleFav() {\n      // this.favStatus = +!this.favStatus;\n      Api.toggleFavSong({\n        workId: this.$store.state.route.query.id,\n        status: this.favStatus\n      });\n    },\n    redirectToWork(id) {\n      if (id) {\n        this.$router.push({\n          path: \"/new-music-box-viewer\",\n          query: {\n            id\n          }\n        });\n      }\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    next();\n  },\n  created() {\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    const self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      this.userId = this.$store.state.route.query.id || 149;\n      self.loadMusixiserById();\n      return;\n    }\n    const fullPath = `${location.origin}${\n      location.pathname\n    }#/new-music-box-viewer?id=${self.$store.state.route.query.id}`;\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"我的地盘你就dê听我的\",\n        // fullPath:location.href.split('#')[0],\n        fullPath,\n        imgUrl: \"http://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          self.userId =\n            this.$store.state.route.query.id || res.data.data.userId;\n          self.isMe = self.userId == res.data.data.userId;\n          self.loadMusixiserById();\n\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {\n    // this.startRecord();\n    setTimeout(() => {\n      this.loading = false;\n    }, 2000);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <!-- <div class=\"\">\n    {{musixiserInfo.realname}}\n    </div>-->\n    <div\n      class=\"worklist\"\n      v-infinite-scroll=\"loadMore\"\n      infinite-scroll-disabled=\"busy\"\n      infinite-scroll-distance=\"10\"\n    >\n      <div class=\"work\" v-for=\"item in favWorksObj.content\" @click=\"redirectToWork(item.id)\">\n        <img class=\"cover\" :src=\"item.cover=='default'?item.user.smallAvatar:item.cover\" alt>\n        <div class=\"detail\">\n          <div class=\"hairline\"></div>\n          <div class=\"line line1\">\n            <p class=\"title\">{{ item.title }}</p>\n            <p class=\"date\">{{ item.createdDate }}</p>\n          </div>\n          <div class=\"line line2\">\n            <p class=\"creator\">{{ item.user.realname }}</p>\n            <p class=\"likes\">收藏人数: {{item.collectNum}}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"emptysection\" v-show=\"!loading && favWorksObj.content.length==0\">\n      <div>\n        <p class=\"emptytitle\">暂无作品</p>\n        <img src=\"../assets/oops.png\" style=\"width:6rem;\" alt>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n\n.container {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: #404249;\n}\n.worklist {\n  position: relative;\n  padding: getRem(20);\n  background-color: #404249;\n}\n.hairline {\n  height: 1px;\n  background: #979797;\n  transform: scaleY(0.5);\n}\n.work {\n  position: relative;\n  display: flex;\n  height: getRem(174);\n  margin-bottom: getRem(30);\n  .cover {\n    position: relative;\n    width: getRem(174);\n    height: getRem(174);\n    margin-top: getRem(18);\n  }\n  .detail {\n    flex: 1;\n    padding-left: getRem(30);\n    .line {\n      display: flex;\n      justify-content: space-between;\n    }\n    .line1 {\n      padding-top: getRem(40);\n      padding-bottom: getRem(60);\n      line-height: getRem(30);\n    }\n    .line2 {\n      padding-bottom: getRem(30);\n      line-height: getRem(30);\n    }\n    .title {\n      font-size: getRem(28);\n      color: #8c8c92;\n    }\n    .date {\n      font-size: getRem(20);\n      color: #6d6e75;\n    }\n    .creator {\n      font-size: getRem(24);\n      color: #6d6e75;\n    }\n    .likes {\n      font-size: getRem(20);\n      color: rgba(255, 255, 255, 0.3);\n    }\n  }\n}\n.emptysection {\n  position: relative;\n  height: 100%;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .emptytitle {\n    font-size: 1.4rem;\n    font-weight: 200;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MyMusic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticClass:\"worklist\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.favWorksObj.content),function(item){return _c('div',{staticClass:\"work\",on:{\"click\":function($event){_vm.redirectToWork(item.id)}}},[_c('img',{staticClass:\"cover\",attrs:{\"src\":item.cover=='default'?item.user.smallAvatar:item.cover,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"hairline\"}),_vm._v(\" \"),_c('div',{staticClass:\"line line1\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(item.createdDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"line line2\"},[_c('p',{staticClass:\"creator\"},[_vm._v(_vm._s(item.user.realname))]),_vm._v(\" \"),_c('p',{staticClass:\"likes\"},[_vm._v(\"收藏人数: \"+_vm._s(item.collectNum))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.favWorksObj.content.length==0),expression:\"!loading && favWorksObj.content.length==0\"}],staticClass:\"emptysection\"},[_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"emptytitle\"},[_vm._v(\"暂无作品\")]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"6rem\"},attrs:{\"src\":require(\"../assets/oops.png\"),\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-19450186\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyMusic.vue\n// module id = null\n// module chunks = ","<script>\n// window.Tone = require('tone')\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport * as Magic from \"../_common/js/magic\";\nimport countButton from \"./common/countButton\";\nimport * as WxShare from \"../_common/js/wx_share\";\nlet musicPart = undefined;\n\nexport default {\n  components: {\n    countButton\n  },\n  data() {\n    return {\n      searching: false,\n      loading: false,\n      recommendations: {}\n    };\n  },\n  computed: {},\n  methods: {\n    load() {\n      Api.getRecommendations().then(res => {\n        console.log(\"index:\", res);\n      });\n    },\n    search() {}\n  },\n  beforeRouteLeave(to, from, next) {\n    Magic.clearTone();\n    next();\n  },\n  created() {\n    //check cookie to get serviceToken first\n    // if stoken not exist, go auth\n    const self = this;\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) {\n      self.loadMusicById();\n      return;\n    }\n    const fullPath = `${location.origin}${\n      location.pathname\n    }#/new-music-box-viewer?id=${self.$store.state.route.query.id}`;\n    WxShare.prepareShareConfig().then(() => {\n      WxShare.prepareShareContent({\n        title: \"MUSIXISE\",\n        desc: \"分享一个八音盒\",\n        // fullPath:location.href.split('#')[0],\n        fullPath,\n        imgUrl: \"https://oaeyej2ty.bkt.clouddn.com/Ocrg2srw_icon33@2x.png\"\n      });\n    });\n    // alert(Cookies.get('serviceToken'))\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              // will publish to node project m-musixise, under '/music-box' path\n              `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n                fullPath\n              )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n            );\n          }\n          self.userId = res.data.data.userId;\n          // alert(`welcome${res.data.data.realname}`)\n          // if (!this.project) {\n          self.loadMusicById();\n          // }\n\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n              fullPath\n            )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        `https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=${encodeURIComponent(\n          fullPath\n        )}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\n      );\n    }\n  },\n  mounted() {\n    // this.startRecord();\n    setTimeout(() => {\n      this.loading = false;\n    }, 2000);\n    setTimeout(() => {\n      this.workIntroAppear = true;\n    }, 4500);\n    setTimeout(() => {\n      this.controlPanalAppear = true;\n    }, 5500);\n    // setTimeout(()=>{this.playing = true},6000)\n  },\n  updated() {}\n};\n</script>\n\n<template>\n  <div :class=\"['container', loading?'loading':'']\">\n    <div id=\"ground\"></div>\n    <div id=\"spirit\">\n      <div class=\"spirit-part\" id=\"spirit-body\"></div>\n      <div class=\"spirit-part\" id=\"spirit-front-leaf\"></div>\n      <div class=\"spirit-part\" id=\"spirit-back-leaf\"></div>\n      <div class=\"spirit-part\" id=\"spirit-back1\"></div>\n      <div class=\"spirit-part\" id=\"spirit-back2\"></div>\n    </div>\n    <div id=\"mb\" @click=\"togglePlay\">\n      <div :class=\"['mb-part', playing?'playing':'']\" id=\"mb-lid\"></div>\n      <div class=\"mb-part\" id=\"mb-body\">\n        <div id=\"play-btn\" v-show=\"!playing\"></div>\n        <div id=\"pause-btn\" v-show=\"playing\"></div>\n      </div>\n    </div>\n    <transition name=\"fade\">\n      <div id=\"music-aurora\" v-show=\"playing\"></div>\n    </transition>\n    <div id=\"low-leaf1\"></div>\n    <div id=\"low-leaf2\"></div>\n    <div id=\"low-leaf3\"></div>\n    <div id=\"low-leaf4\"></div>\n    <div id=\"mid-leaf1\"></div>\n    <div id=\"mid-leaf2\"></div>\n    <div id=\"mid-leaf3\"></div>\n    <div id=\"mid-leaf4\"></div>\n    <div id=\"top-leaf1\"></div>\n    <div id=\"top-leaf2\"></div>\n    <div id=\"top-leaf3\"></div>\n    <div id=\"top-leaf4\"></div>\n    <div id=\"top-leaf5\"></div>\n    <div id=\"top-leaf6\"></div>\n    <transition name=\"bounce\">\n      <div id=\"work-intro\" v-if=\"workIntroAppear\">\n        <div class=\"title\">{{finalNewWorkTitle||projectInfo.title}}</div>\n        <div class=\"subtitle\">\n          <span>by</span>\n          <span>\n            <img :src=\"projectInfo.owner.smallAvatar\" alt>\n          </span>\n          <span>{{projectInfo.owner.nickName}}</span>\n        </div>\n        <div v-if=\"userId === projectInfo.userId\" id=\"edit-work\" @click=\"titleUpdateAppear=true\"></div>\n      </div>\n    </transition>\n    <transition name=\"bounce\">\n      <div id=\"control-panal\" v-if=\"controlPanalAppear\">\n        <!-- <div class=\"likeBtn\">\n        <div class=\"active\">\n          <div class=\"\"></div>\n          <p>1</p>\n        </div>\n        <div class=\"inactive\">\n          <div class=\"\"></div>\n          <p>0</p>\n        </div>\n        </div>-->\n        <count-button\n          :initCount=\"projectInfo.collectNum?projectInfo.collectNum:0\"\n          :initActive=\"projectInfo.favStatus?true:false\"\n          iconImg\n          :onClickCall=\"toggleFav\"\n        />\n        <div class=\"purchaseBtn\" @click=\"purchaseItem\">购买</div>\n        <div class=\"makeBtn\" @click=\"redirectToMaker\">编曲</div>\n      </div>\n    </transition>\n    <transition name=\"fade\">\n      <div id=\"title-update-mask\" v-show=\"titleUpdateAppear\">\n        <div class=\"mb-dialog\">\n          <div class=\"title\">作品名称</div>\n          <div class=\"input\">\n            <input v-model=\"newWorkTitle\" type=\"text\" placeholder=\"作品新名称\">\n            <div class=\"splitter\"></div>\n          </div>\n          <div class=\"btns\">\n            <span class=\"btn cancel\" @click=\"titleUpdateAppear=false\">取消</span>\n            <span class=\"btn confirm\" @click=\"updateWorkTitle\">确认</span>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n.container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  #spirit {\n    will-change: transform;\n    transition: transform 4.5s ease-out;\n    transform: translateY(0);\n    position: absolute;\n    bottom: 5rem;\n    width: 9.8rem;\n    height: 7.8rem;\n    margin-left: 0.2rem;\n    .spirit-part {\n      position: absolute;\n    }\n    #spirit-body {\n      z-index: 4;\n      left: getRem(220);\n      top: getRem(136);\n      width: getRem(266);\n      height: getRem(368);\n      background: url(\"../assets/viewer/spirit-body.png\") center center\n        no-repeat;\n      background-size: cover;\n    }\n    #spirit-front-leaf {\n      z-index: 5;\n      left: getRem(340);\n      top: getRem(12);\n      width: getRem(398);\n      height: getRem(492);\n      background: url(\"../assets/viewer/spirit-front-leaf.png\") center center\n        no-repeat;\n      background-size: cover;\n    }\n    #spirit-back-leaf {\n      z-index: 3;\n      width: getRem(462);\n      height: getRem(472);\n      background: url(\"../assets/viewer/spirit-back-leaf.png\") center center\n        no-repeat;\n      background-size: cover;\n    }\n    #spirit-back1 {\n      z-index: 1;\n      left: getRem(40);\n      top: getRem(16);\n      opacity: 0.6;\n      width: getRem(618);\n      height: getRem(526);\n      background: url(\"../assets/viewer/spirit-back1.png\") center center\n        no-repeat;\n      background-size: cover;\n    }\n    #spirit-back2 {\n      z-index: 2;\n      transform: rotate(-14deg);\n      opacity: 0.3;\n      width: getRem(754);\n      height: getRem(580);\n      background: url(\"../assets/viewer/spirit-back2.png\") center center\n        no-repeat;\n      background-size: cover;\n    }\n  }\n  #mb {\n    will-change: transform;\n    transition: transform 4.5s ease-out;\n    transform: translateY(0);\n    position: absolute;\n    bottom: 4.2rem;\n    width: 1.4rem;\n    height: 1.6rem;\n    left: 2.4rem;\n    .mb-part {\n      position: absolute;\n    }\n    #mb-lid {\n      z-index: 2;\n      left: getRem(0);\n      top: getRem(0);\n      transition: 0.5s ease-out;\n      transform: rotate(54deg);\n      width: getRem(48);\n      height: getRem(64);\n      background: url(\"../assets/viewer/mb-lid.png\") center center no-repeat;\n      background-size: cover;\n    }\n    #mb-lid.playing {\n      transform: rotate(0deg) translateX(-0.3rem);\n    }\n    #mb-body {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 1;\n      left: getRem(20);\n      top: getRem(50);\n      width: getRem(64);\n      height: getRem(52);\n      background: url(\"../assets/viewer/mb-body.png\") center center no-repeat;\n      background-size: cover;\n      #play-btn {\n        position: relative;\n        margin-top: 0.3rem;\n        margin-left: 0.1rem;\n        width: getRem(12);\n        height: getRem(16);\n        background: url(\"../assets/viewer/audio-play.png\") center center\n          no-repeat;\n        background-size: cover;\n      }\n      #pause-btn {\n        position: relative;\n        margin-top: 0.3rem;\n        margin-left: 0.05rem;\n        width: getRem(16);\n        height: getRem(14);\n        background: url(\"../assets/viewer/audio-pause.png\") center center\n          no-repeat;\n        background-size: cover;\n      }\n    }\n  }\n  #music-aurora {\n    position: absolute;\n    bottom: 4.2rem;\n    left: 1.5rem;\n    width: getRem(577);\n    height: getRem(577);\n    background: url(\"../assets/viewer/music_sprite.png\"); // background:url('http://c.m.163.com/nc/qa/activity/xijing/img/cover_tit_step2.png');\n    background-size: getRem(577) getRem(4039);\n    animation: music-aurora steps(7) 1.5s infinite;\n    pointer-events: none;\n  }\n  #ground {\n    will-change: transform;\n    transition: transform 4.5s ease-out;\n    position: absolute;\n    left: -3rem;\n    bottom: -2.3rem;\n    opacity: 0.4;\n    width: getRem(1522);\n    height: getRem(852);\n    background: url(\"../assets/viewer/ground.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #low-leaf1 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(162);\n    height: getRem(168);\n    opacity: 0.38;\n    left: getRem(-160);\n    bottom: 6.5rem;\n    background: url(\"../assets/viewer/low-leaf1.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #low-leaf2 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(250);\n    height: getRem(300);\n    left: getRem(-106);\n    bottom: 2rem;\n    background: url(\"../assets/viewer/low-leaf2.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #low-leaf3 {\n    z-index: -1;\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(162);\n    height: getRem(365);\n    left: 4rem;\n    bottom: 8.5rem;\n    background: url(\"../assets/viewer/low-leaf3.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #low-leaf4 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(310);\n    height: getRem(336);\n    transform: rotate(-23deg);\n    right: -3.5rem;\n    bottom: getRem(400);\n    background: url(\"../assets/viewer/low-leaf4.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #mid-leaf1 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(557);\n    height: getRem(419);\n    transform: rotate(-10deg);\n    left: -3rem;\n    bottom: getRem(940);\n    background: url(\"../assets/viewer/mid-leaf1.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #mid-leaf2 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(359);\n    height: getRem(415);\n    transform: rotate(-21deg);\n    left: -2.8rem;\n    bottom: getRem(840);\n    background: url(\"../assets/viewer/mid-leaf2.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #mid-leaf3 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(583);\n    height: getRem(546);\n    right: -4.2rem;\n    transform: rotate(33deg);\n    bottom: getRem(820);\n    background: url(\"../assets/viewer/mid-leaf3.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #mid-leaf4 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(384);\n    height: getRem(537);\n    right: -2.6rem;\n    transform: rotate(25deg);\n    bottom: getRem(740);\n    background: url(\"../assets/viewer/mid-leaf4.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf1 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(1226);\n    height: getRem(1232);\n    transform: rotate(56deg) scale(1);\n    right: -10rem;\n    bottom: getRem(1700);\n    background: url(\"../assets/viewer/top-leaf1.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf2 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(1430);\n    height: getRem(874);\n    opacity: 0.9;\n    transform: rotate(-6deg) scale(0.7);\n    right: -10rem;\n    bottom: getRem(1200);\n    background: url(\"../assets/viewer/top-leaf2.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf3 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(1250);\n    height: getRem(986);\n    transform: rotate(-2deg) scale(0.7);\n    left: -7rem;\n    bottom: getRem(1870);\n    background: url(\"../assets/viewer/top-leaf3.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf4 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(918);\n    height: getRem(752);\n    transform: rotate(44deg) scale(0.8);\n    left: -9.5rem;\n    bottom: getRem(1270);\n    background: url(\"../assets/viewer/top-leaf4.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf5 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(1048);\n    height: getRem(1054);\n    opacity: 0.3;\n    transform: rotate(22deg) scale(0.9);\n    right: -12rem;\n    bottom: getRem(1500);\n    background: url(\"../assets/viewer/top-leaf1.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #top-leaf6 {\n    will-change: transform;\n    transition: transform 4.5s ease-out, opacity 4.5s ease-out;\n    position: absolute;\n    width: getRem(718);\n    height: getRem(566);\n    opacity: 0.5;\n    transform: rotate(-1deg) scale(1.2);\n    left: -6rem;\n    bottom: getRem(1700);\n    background: url(\"../assets/viewer/top-leaf5.png\") center center no-repeat;\n    background-size: cover;\n  }\n  #work-intro {\n    position: absolute;\n    bottom: 3.4rem;\n    text-align: right;\n    right: 1rem;\n    .title {\n      font-size: 0.6rem;\n      margin-bottom: 0.3rem;\n      color: #7d839e;\n    }\n    .subtitle {\n      display: flex;\n      height: getRem(60);\n      font-size: 0.4rem;\n      align-items: center;\n      color: #7d839e;\n      img {\n        width: getRem(60);\n        height: getRem(60);\n        border-radius: 50%;\n        border: none;\n        margin: 0 0.3rem 0 0.3rem;\n      }\n    }\n    #edit-work {\n      position: absolute;\n      width: getRem(28);\n      height: getRem(28);\n      right: getRem(-34);\n      top: getRem(18);\n      background: url(\"../assets/viewer/edit.svg\") center center no-repeat;\n      background-size: cover;\n    }\n  }\n  #control-panal {\n    position: absolute;\n    width: 100%;\n    bottom: 0rem;\n    display: flex;\n    height: 2.4rem;\n    padding: 0 getRem(50);\n    justify-content: space-between;\n    align-items: center;\n    .purchaseBtn {\n      position: relative;\n      width: getRem(250);\n      height: getRem(92);\n      border: none;\n      border-radius: getRem(46);\n      background-color: #4266f5;\n      font-size: 0.47rem;\n      color: white;\n      text-align: center;\n      line-height: getRem(92);\n    }\n    .makeBtn {\n      position: relative;\n      width: getRem(250);\n      height: getRem(92);\n      border: none;\n      border-radius: getRem(46);\n      background-color: #4266f5;\n      font-size: 0.47rem;\n      color: white;\n      text-align: center;\n      line-height: getRem(92);\n    }\n  }\n  #playBtn {\n    width: 2rem;\n    height: 2rem;\n    background-color: pink;\n  }\n}\n.loading {\n  #spirit {\n    transition: none;\n    transform: translateY(13rem) scale(0.85);\n  }\n  #mb {\n    transition: none;\n    transform: translateY(13rem);\n  }\n  #ground {\n    transition: none;\n    transform: translateY(13rem);\n  }\n  #low-leaf1 {\n    transition: none;\n    transform: translateY(13rem);\n    opacity: 1;\n  }\n  #low-leaf2 {\n    transition: none;\n    transform: translateY(13rem) translateX(2rem);\n  }\n  #low-leaf3 {\n    transition: none;\n    transform: translateY(13rem);\n  }\n  #low-leaf4 {\n    transition: none;\n    transform: translateY(13rem) rotate(0deg);\n  }\n  #mid-leaf1 {\n    transition: none;\n    transform: translateY(12rem) rotate(9deg) scale(0.9);\n    opacity: 0.9;\n  }\n  #mid-leaf2 {\n    transition: none;\n    transform: translateY(14rem) translateX(1.8rem) rotate(-8deg) scale(0.9);\n    opacity: 0.8;\n  }\n  #mid-leaf3 {\n    transition: none;\n    transform: translateY(14rem) rotate(8deg) scale(0.9);\n    opacity: 0.8;\n  }\n  #mid-leaf4 {\n    transition: none;\n    transform: translateY(14rem) rotate(0deg) scale(0.9);\n    opacity: 0.8;\n  }\n  #top-leaf1 {\n    transition: none;\n    transform: translateY(16.5rem) rotate(35deg) scale(0.7);\n    opacity: 1;\n  }\n  #top-leaf2 {\n    transition: none;\n    transform: translateY(14.5rem) translateX(-1rem) rotate(-20deg) scale(0.6);\n    opacity: 0.9;\n  }\n  #top-leaf3 {\n    transition: none;\n    transform: translateY(15rem) translateX(1rem) rotate(13deg) scale(0.6);\n    opacity: 0.95;\n  }\n  #top-leaf4 {\n    transition: none;\n    transform: translateY(13rem) translateX(4.5rem) rotate(52deg) scale(0.7);\n    opacity: 1;\n  }\n  #top-leaf5 {\n    transition: none;\n    transform: translateY(18rem) translateX(-5rem) rotate(12deg) scale(0.7);\n    opacity: 0.3;\n  }\n  #top-leaf6 {\n    transition: none;\n    transform: translateY(14.5rem) translateX(2.5rem) rotate(39deg) scale(1);\n    opacity: 0.5;\n  }\n}\n.bounce-enter-active {\n  transition: all 2s cubic-bezier(0.19, 2, 0.32, 0.91);\n}\n.bounce-leave-active {\n  transition: all 0.8s cubic-bezier(0.19, 1.58, 0.42, 0.91);\n}\n.bounce-enter, .bounce-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  transform: translateY(3rem);\n  opacity: 0;\n}\n.fade-enter-active {\n  transition: all 0.3s ease-out;\n}\n.fade-leave-active {\n  transition: all 0.3s ease-out;\n}\n.fade-enter, .fade-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n@keyframes music-aurora {\n  0% {\n    background-position: 0 0;\n  }\n  // 50% {\n  //   background-position: 0 getRem(-4039); // background-position: 0 -97.7%\n  //   // background-position: 0 getRem(-1590); // background-position: 0 -97.7%\n  // }\n  100% {\n    background-position: 0 getRem(-4039); // background-position: 0 -97.7%\n  }\n}\n#title-update-mask {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .mb-dialog {\n    position: relative;\n    width: getRem(570);\n    padding-top: getRem(75);\n    border-radius: getRem(50);\n    height: getRem(344);\n    background-color: rgba(255, 255, 255, 0.96);\n    display: flex;\n    flex-direction: column;\n    .title {\n      flex: 1;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-end;\n      position: relative;\n      width: 100%;\n      font-size: 0.32rem;\n    }\n    .input {\n      flex: 2;\n      flex-direction: column;\n      padding: 0 getRem(77);\n      display: flex;\n      align-items: flex-start;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      input {\n        background: transparent;\n        border: none;\n        outline: none;\n        width: 100%;\n        height: 1rem;\n        font-size: 0.54rem;\n      }\n      .splitter {\n        position: relative;\n        width: 100%;\n        height: 1px;\n        background-color: gray;\n        padding: 0 getRem(77);\n      }\n    }\n    .btns {\n      flex: 4;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      text-align: center;\n      font-size: 0.5rem;\n      span.btn {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        display: flex;\n        align-items: center;\n        padding-top: 0.6rem;\n      }\n      .cancel {\n        color: gray;\n        text-align: right;\n        justify-content: flex-start;\n        padding-left: getRem(77);\n      }\n      .confirm {\n        color: blue;\n        text-align: left;\n        justify-content: flex-end;\n        padding-right: getRem(77);\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['container', _vm.loading?'loading':'']},[_c('div',{attrs:{\"id\":\"ground\"}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mb\"},on:{\"click\":_vm.togglePlay}},[_c('div',{class:['mb-part', _vm.playing?'playing':''],attrs:{\"id\":\"mb-lid\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mb-part\",attrs:{\"id\":\"mb-body\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.playing),expression:\"!playing\"}],attrs:{\"id\":\"play-btn\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"pause-btn\"}})])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playing),expression:\"playing\"}],attrs:{\"id\":\"music-aurora\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"low-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mid-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf1\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf2\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf3\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf4\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf5\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"top-leaf6\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.workIntroAppear)?_c('div',{attrs:{\"id\":\"work-intro\"}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.finalNewWorkTitle||_vm.projectInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"subtitle\"},[_c('span',[_vm._v(\"by\")]),_vm._v(\" \"),_c('span',[_c('img',{attrs:{\"src\":_vm.projectInfo.owner.smallAvatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.projectInfo.owner.nickName))])]),_vm._v(\" \"),(_vm.userId === _vm.projectInfo.userId)?_c('div',{attrs:{\"id\":\"edit-work\"},on:{\"click\":function($event){_vm.titleUpdateAppear=true}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.controlPanalAppear)?_c('div',{attrs:{\"id\":\"control-panal\"}},[_c('count-button',{attrs:{\"initCount\":_vm.projectInfo.collectNum?_vm.projectInfo.collectNum:0,\"initActive\":_vm.projectInfo.favStatus?true:false,\"iconImg\":\"\",\"onClickCall\":_vm.toggleFav}}),_vm._v(\" \"),_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.purchaseItem}},[_vm._v(\"购买\")]),_vm._v(\" \"),_c('div',{staticClass:\"makeBtn\",on:{\"click\":_vm.redirectToMaker}},[_vm._v(\"编曲\")])],1):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.titleUpdateAppear),expression:\"titleUpdateAppear\"}],attrs:{\"id\":\"title-update-mask\"}},[_c('div',{staticClass:\"mb-dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"作品名称\")]),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newWorkTitle),expression:\"newWorkTitle\"}],attrs:{\"type\":\"text\",\"placeholder\":\"作品新名称\"},domProps:{\"value\":(_vm.newWorkTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newWorkTitle=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"splitter\"})]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('span',{staticClass:\"btn cancel\",on:{\"click\":function($event){_vm.titleUpdateAppear=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn confirm\",on:{\"click\":_vm.updateWorkTitle}},[_vm._v(\"确认\")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spirit\"}},[_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-body\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-front-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back-leaf\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"spirit-part\",attrs:{\"id\":\"spirit-back2\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6504a5df\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Recommend.vue\n// module id = null\n// module chunks = ","<script>\nimport { swiper, swiperSlide } from \"vue-awesome-swiper\";\nexport default {\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String,\n    onClickCall: {\n      type: Function,\n      default() {\n        return function() {\n          console.log(\"tap tap in count Button\");\n        };\n      }\n    }\n  },\n  components: {\n    swiper,\n    swiperSlide\n  },\n  computed: {\n    style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    },\n    productList() {\n      return this.$store.state.productList;\n    }\n  },\n  data() {\n    return {};\n  },\n  watch: {},\n  created() {\n    const self = this;\n    this.productListOption = {\n      loop: true,\n      // spaceBetween: 30,\n      centeredSlides: true,\n      slidesPerView: 1,\n      // slidesPerView: \"auto\",\n      on: {\n        transitionEnd(e) {\n          // console.log(\"3\", this.activeIndex); // THIS!!! within swiper...scope.....\n          console.log(this.realIndex);\n          self.targetProduct = self.productList[this.realIndex];\n        }\n      }\n    };\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    viewProductDetail() {},\n    toConfirmOrder() {\n      console.log(123321);\n      this.$store.commit(\"SAVE_ORDER_INFO\", {\n        product: this.targetProduct\n      }); // store current workId\n      this.$router.push({\n        path: \"/order-confirm\",\n        query: {\n          // id\n        }\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <swiper :options=\"productListOption\" ref=\"productList\">\n      <!-- slides -->\n      <swiper-slide v-for=\"product in productList\">\n        <div class=\"productPage\" @click=\"viewProductDetail\">\n          <div class=\"preview\" :style=\"{background:`url()`}\">\n            <img\n              style=\"width:100%;height:100%;position:relative;display:block;\"\n              :src=\"product.previewImg||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png'\"\n              alt\n            >\n          </div>\n          <div class=\"desc\">\n            <div class=\"desc-title\">{{product.name}}</div>\n            <div style=\"display:flex\">\n              <div style=\"flex:1;color:#6d6e75;font-size:12px;\">\n                <p>大小:20*30*40 (cm)</p>\n                <p>{{product.intro}}</p>\n              </div>\n              <div class=\"price\">¥{{product.price}}</div>\n            </div>\n          </div>\n        </div>\n      </swiper-slide>\n    </swiper>\n    <div\n      style=\"position:absolute;bottom:40px;width:100%;display: flex;align-items: center;justify-content: center;\"\n    >\n      <div class=\"purchaseBtn\" @click=\"toConfirmOrder\">购买</div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n.container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background-color: #1a1c1e;\n  .swiper-slide div {\n    // position: absolute;\n  }\n}\n.productPage {\n  position: relative;\n  width: getRem(638);\n  height: getRem(744);\n  border-radius: 20px;\n  margin: 80px auto;\n  .preview {\n    position: relative;\n    width: 100%;\n    border-radius: 20px 20px 0 0;\n    height: getRem(456);\n    background-color: #d8d8d8;\n  }\n  .desc {\n    position: relative;\n    width: 100%;\n    height: getRem(288);\n    background-color: #2c2d30;\n    border-radius: 0 0 20px 20px;\n    text-align: left;\n    padding-left: getRem(48);\n    .desc-title {\n      color: #a3a4a8;\n      font-size: 18px;\n      line-height: getRem(144);\n    }\n    .price {\n      width: 3rem;\n      font-size: 24px;\n      color: #a3a4a8;\n      text-align: right;\n      padding-right: getRem(48);\n    }\n  }\n}\n.purchaseBtn {\n  background-color: #4564d7;\n  width: getRem(640);\n  height: getRem(92);\n  font-size: 16px;\n  color: white;\n  text-align: center;\n  line-height: getRem(92);\n  border-radius: getRem(46);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ProductList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('swiper',{ref:\"productList\",attrs:{\"options\":_vm.productListOption}},_vm._l((_vm.productList),function(product){return _c('swiper-slide',[_c('div',{staticClass:\"productPage\",on:{\"click\":_vm.viewProductDetail}},[_c('div',{staticClass:\"preview\",style:({background:\"url()\"})},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"relative\",\"display\":\"block\"},attrs:{\"src\":product.previewImg||'https://cdn4.buysellads.net/uu/1/3386/1525189887-61450.png',\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_c('div',{staticClass:\"desc-title\"},[_vm._v(_vm._s(product.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"flex\":\"1\",\"color\":\"#6d6e75\",\"font-size\":\"12px\"}},[_c('p',[_vm._v(\"大小:20*30*40 (cm)\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(product.intro))])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_vm._v(\"¥\"+_vm._s(product.price))])])])])])}),1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"40px\",\"width\":\"100%\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.toConfirmOrder}},[_vm._v(\"购买\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-146a3d45\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProductList.vue\n// module id = null\n// module chunks = ","<script>\nimport * as WxShare from \"../_common/js/wx_share\";\n\nexport default {\n  // https://vuejs.org/v2/guide/components.html#Props\n  props: {\n    initCount: Number,\n    initActive: Boolean,\n    iconImg: String\n  },\n  computed: {\n    style() {\n      // return 'background-color: ' + this.hovering ? this.color: 'red';\n    },\n    orderToCreate() {\n      return this.$store.state.orderToCreate;\n    },\n    targetProduct() {\n      return this.$store.state.targetProduct;\n    },\n    targetWork() {\n      return this.$store.state.targetWork;\n    }\n  },\n  data() {\n    return {\n      currentActiveCount: 0,\n      currentActive: false,\n      userName: \"\",\n      telNum: \"\",\n      address: \"\"\n    };\n  },\n  watch: {},\n  created() {\n    this.currentActive = this.initActive;\n    this.currentActiveCount = this.currentActive\n      ? this.initCount\n      : this.initCount + 1;\n  },\n  mounted() {},\n  updated() {},\n  beforeRouteEnter(to, from, next) {\n    // i think need check here, e.g. cookie address\n    next();\n  },\n  methods: {\n    toConfirmOrder() {\n      // passin orderToCreate TODO\n      if (!this.address) {\n        alert(\"请先填入地址\");\n      } else {\n        console.log(this.orderToCreate);\n        WxShare.makeWxOrder(\n          { ...this.orderToCreate, amount: 1 },\n          () => {\n            console.log(\"pay succeed\");\n          },\n          () => {\n            console.log(\"pay fail\");\n          }\n        );\n      }\n    },\n    editAddress() {\n      //都是同步操作\n      WxShare.createAddress(\n        address => {\n          this.address = address.detailInfo;\n          this.userName = address.userName;\n          this.telNum = address.telNumber;\n          this.$store.commit(\"SAVE_ORDER_INFO\", { address });\n        },\n        () => {}\n      );\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <div class=\"order-confirm\">\n      <div class=\"address\" @click=\"editAddress\">\n        <div id=\"basic-info\">\n          收件人：\n          <span>{{userName}}</span>\n          <span style=\"flex:1\">{{telNum}}</span>\n        </div>\n        <div id=\"address-info\">\n          收件地址：\n          <span>{{address}}</span>\n          <div class=\"address-underline\" id=\"underline1\"></div>\n          <div class=\"address-underline\" id=\"underline2\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"item\">\n      <img src alt>\n      <div class=\"goods\">\n        <p class=\"sub-title\">趣味童年</p>\n        <p>{{this.targetWork.title}}</p>\n      </div>\n      <div class=\"amount\">\n        <span>-</span>\n        <input v-model=\"amount\" type=\"text\">\n        <span>+</span>\n      </div>\n    </div>\n    <div class=\"item-list\">\n      <p class=\"sub-title\">商品清单</p>\n      <div class=\"sub-detail\">\n        <p>八音盒 x 1</p>\n        <p>包装盒 x 1</p>\n        <p>礼品卡 x 1</p>\n      </div>\n    </div>\n    <div class=\"msg\">\n      <input v-model=\"giftMsg\" type=\"text\" placeholder=\"默认祝福语：「在乐音相伴的梦里，世界一片白银」\">\n    </div>\n    <div class=\"readme\">购买说明\n      <ul>\n        <li>此商品的制作周期约为7天，您可以在【我的-八音盒】页面查看进度</li>\n        <li>定制商品非质量问题不得退换货，如需退货请在公众号页面提交申请</li>\n        <li>如有其他疑问可在公众号的【留言】版块留言，我们将尽快为您解答</li>\n      </ul>\n    </div>\n    <div\n      style=\"position:absolute;bottom:40px;width:100%;display: flex;align-items: center;justify-content: center;\"\n    >\n      <div class=\"purchaseBtn\" @click=\"toConfirmOrder\">购买</div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n.container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background-color: $darker-gray;\n}\n.order-confirm {\n  position: relative;\n}\n.address {\n  position: relative;\n  width: getRem(654);\n  height: getRem(264);\n  background-color: #2c2d30;\n  margin: getRem(32) auto;\n  text-align: left;\n  padding-left: getRem(24);\n  #basic-info {\n    position: relative;\n    color: #8c8c92;\n    display: flex;\n    font-size: 14px;\n    width: 100%;\n    height: getRem(100);\n    padding-top: getRem(32);\n  }\n  #address-info {\n    position: relative;\n    color: #6d6e75;\n    font-size: 12px;\n    width: 100%;\n    height: getRem(100);\n    .address-underline {\n      position: absolute;\n      width: getRem(400);\n      height: 1px;\n      transform: scaleY(0.5);\n      background-color: white;\n    }\n    #underline1 {\n      left: getRem(144);\n      top: 0.5rem;\n    }\n    #underline2 {\n      left: getRem(144);\n      top: 1.5rem;\n    }\n  }\n}\n.item {\n  position: relative;\n  width: getRem(644);\n  height: getRem(128);\n  display: flex;\n  .product-img {\n  }\n  .desc {\n  }\n  .amount {\n  }\n}\n.productPage {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n.purchaseBtn {\n  background-color: #4564d7;\n  width: getRem(640);\n  height: getRem(92);\n  font-size: 16px;\n  color: white;\n  text-align: center;\n  line-height: getRem(92);\n  border-radius: getRem(46);\n}\n.readme{\n  margin:0 getRem(48);\n  color:#6D6E75;\n  text-align:left;\n  font-size:getRem(32);\n}\n// reset\ninput{\n  -webkit-appearance: none; -moz-appearance: none; -o-appearance: none; appearance: none;\n  background:none;\n  border:0;\n}\n.msg{\n  padding:getRem(22) 0;\n  margin:getRem(16) getRem(48) getRem(72);\n  border:1px solid #979797;\n  font-size:getRem(24);\n  input{\n    width:100%;\n    text-align:center;\n  }\n}\n.item-list{\n  margin-top:getRem(18);\n  text-align:left;\n  margin-left:getRem(48);\n  .sub-title{\n    color:#6D6E75;\n    font-size:getRem(24);\n  }\n  .sub-detail{\n    color:#6D6E76;\n    font-size:getRem(28);\n  }\n}\n.item{\n  margin:0 getRem(48);\n  border-bottom:1px solid #D8D8D8;\n}\n.goods{\n  color:#8C8C92;\n  .sub-title{\n    font-size:getRem(36);\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/OrderConfirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"order-confirm\"},[_c('div',{staticClass:\"address\",on:{\"click\":_vm.editAddress}},[_c('div',{attrs:{\"id\":\"basic-info\"}},[_vm._v(\"\\n        收件人：\\n        \"),_c('span',[_vm._v(_vm._s(_vm.userName))]),_vm._v(\" \"),_c('span',{staticStyle:{\"flex\":\"1\"}},[_vm._v(_vm._s(_vm.telNum))])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"address-info\"}},[_vm._v(\"\\n        收件地址：\\n        \"),_c('span',[_vm._v(_vm._s(_vm.address))]),_vm._v(\" \"),_c('div',{staticClass:\"address-underline\",attrs:{\"id\":\"underline1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"address-underline\",attrs:{\"id\":\"underline2\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('img',{attrs:{\"src\":\"\",\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"goods\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"趣味童年\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(this.targetWork.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"amount\"},[_c('span',[_vm._v(\"-\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(\"+\")])])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"msg\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.giftMsg),expression:\"giftMsg\"}],attrs:{\"type\":\"text\",\"placeholder\":\"默认祝福语：「在乐音相伴的梦里，世界一片白银」\"},domProps:{\"value\":(_vm.giftMsg)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.giftMsg=$event.target.value}}})]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"40px\",\"width\":\"100%\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('div',{staticClass:\"purchaseBtn\",on:{\"click\":_vm.toConfirmOrder}},[_vm._v(\"购买\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-list\"},[_c('p',{staticClass:\"sub-title\"},[_vm._v(\"商品清单\")]),_vm._v(\" \"),_c('div',{staticClass:\"sub-detail\"},[_c('p',[_vm._v(\"八音盒 x 1\")]),_vm._v(\" \"),_c('p',[_vm._v(\"包装盒 x 1\")]),_vm._v(\" \"),_c('p',[_vm._v(\"礼品卡 x 1\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"readme\"},[_vm._v(\"购买说明\\n    \"),_c('ul',[_c('li',[_vm._v(\"此商品的制作周期约为7天，您可以在【我的-八音盒】页面查看进度\")]),_vm._v(\" \"),_c('li',[_vm._v(\"定制商品非质量问题不得退换货，如需退货请在公众号页面提交申请\")]),_vm._v(\" \"),_c('li',[_vm._v(\"如有其他疑问可在公众号的【留言】版块留言，我们将尽快为您解答\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07c975ea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/OrderConfirm.vue\n// module id = null\n// module chunks = ","<script>\nexport default {\n  // {\n  //   id: 130,\n  //   price: 0.01,\n  //   status: 2,\n  //   shipTime: 1547705540000,\n  //   confirmTime: 1547734350000,\n  //   userId: 0,\n  //   amount: 1,\n  //   product: {\n  //     wid: 148,\n  //     product: {\n  //       id: 1,\n  //       category: 0,\n  //       name: \"产品名01\",\n  //       intro: \"八音盒\",\n  //       price: 0.01,\n  //       status: 0,\n  //       createdDate: 1545545048000\n  //     },\n  //     title: \"castle\",\n  //     userId: 239,\n  //     url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n  //   },\n  //   address: {\n  //     id: 2,\n  //     userId: 239,\n  //     userName: \"花\",\n  //     postalCode: \"100032\",\n  //     provinceName: \"北京市\",\n  //     cityName: \"北京市\",\n  //     countryName: \"西城区\",\n  //     detailInfo: \"哈哈哈哈哈哈哈\",\n  //     nationalCode: \"110102\",\n  //     telNumber: \"13146319393\"\n  //   }\n  // }\n  props: {\n    info: Object\n  },\n  computed: {},\n  data() {\n    return {};\n  },\n  watch: {},\n  created() {\n    // alert(this.progress)\n  },\n  mounted() {},\n  updated() {},\n  methods: {\n    updateButton() {}\n  }\n};\n</script>\n\n<template>\n  <div class=\"order-container\">\n    <div class=\"preview-bg\">\n      <div class=\"shipment\">\n        <img v-if=\"info.status===1\" class=\"statusProcess\" src=\"../../assets/123-1.png\" alt>\n        <p v-if=\"info.status===1\" class=\"statusText\">制作中...</p>\n        <img v-if=\"info.status===2\" class=\"statusProcess\" src=\"../../assets/123-2.png\" alt>\n        <p v-if=\"info.status===2\" class=\"statusText\">运输中...</p>\n        <img v-if=\"info.status===3\" class=\"statusProcess\" src=\"../../assets/123-3.png\" alt>\n        <p v-if=\"info.status===3\" class=\"statusText\">派送中...</p>\n      </div>\n    </div>\n    <div class=\"detail\">\n      <div class=\"detail-basic\">\n        <div class=\"title\">\n          <p class=\"product-name\">{{info.product.product.name}}</p>\n          <p class=\"song-title\">{{info.product.title}}</p>\n        </div>\n        <div class=\"playBtn\"></div>\n      </div>\n      <div class=\"detail-other\">\n        <p>{{info.shipTime}}</p>\n        <p>¥{{info.price}}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import \"../../_common/style/_functions.scss\";\n@import \"../../_common/style/_variables.scss\";\n@import \"../../_common/style/_mixins.scss\";\n@import \"../../_common/style/_reboot.scss\";\n.order-container {\n  display: inline-block;\n  position: relative;\n  width: getRem(342);\n  height: getRem(348);\n  margin-bottom: getRem(16);\n  margin-right: getRem(16);\n  .preview-bg {\n    position: relative;\n    width: 100%;\n    height: getRem(208);\n    .shipment {\n      position: absolute;\n      background-color: $img-mask;\n      width: 100%;\n      height: 100%;\n      text-align: center;\n      .statusProcess {\n        width: getRem(204);\n        height: getRem(28);\n      }\n      .statusText {\n        font-size: 14px;\n        color: white;\n      }\n    }\n  }\n  .detail {\n    position: relative;\n    width: 100%;\n    height: getRem(140);\n    background-color: $dark-gray;\n    color: $gray-text;\n    .detail-basic {\n      display: flex;\n      position: relative;\n      height: getRem(90);\n      width: 100%;\n      padding: getRem(16);\n      align-items: center;\n      .title {\n        flex: 1;\n        .product-name {\n          font-size: 14px;\n        }\n        .song-title {\n          font-size: 12px;\n        }\n      }\n      .playBtn {\n        background: url(\"../../assets/play.svg\") no-repeat center center;\n        background-size: cover;\n        color: yellow;\n        width: getRem(30);\n        height: getRem(30);\n      }\n    }\n    .detail-other {\n      display: flex;\n      justify-content: space-between;\n      padding: getRem(10) getRem(16);\n      font-size: 10px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/Order.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-container\"},[_c('div',{staticClass:\"preview-bg\"},[_c('div',{staticClass:\"shipment\"},[(_vm.info.status===1)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":require(\"../../assets/123-1.png\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===1)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"制作中...\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===2)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":require(\"../../assets/123-2.png\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===2)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"运输中...\")]):_vm._e(),_vm._v(\" \"),(_vm.info.status===3)?_c('img',{staticClass:\"statusProcess\",attrs:{\"src\":require(\"../../assets/123-3.png\"),\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),(_vm.info.status===3)?_c('p',{staticClass:\"statusText\"},[_vm._v(\"派送中...\")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"detail-basic\"},[_c('div',{staticClass:\"title\"},[_c('p',{staticClass:\"product-name\"},[_vm._v(_vm._s(_vm.info.product.product.name))]),_vm._v(\" \"),_c('p',{staticClass:\"song-title\"},[_vm._v(_vm._s(_vm.info.product.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"playBtn\"})]),_vm._v(\" \"),_c('div',{staticClass:\"detail-other\"},[_c('p',[_vm._v(_vm._s(_vm.info.shipTime))]),_vm._v(\" \"),_c('p',[_vm._v(\"¥\"+_vm._s(_vm.info.price))])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50df088b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Order.vue\n// module id = null\n// module chunks = ","<script>\nimport * as Util from \"../_common/js/util\";\nimport * as Api from \"../_common/js/api\";\nimport * as Cookies from \"js-cookie\";\nimport order from \"./common/Order\";\n\nexport default {\n  name: \"myorders\",\n  components: {\n    order\n  },\n  data() {\n    return {\n      msg: \"Welcome to Your Vue.js App\",\n      orderList: [\n        {\n          id: 130,\n          price: 0.01,\n          status: 2,\n          shipTime: 1547705540000,\n          confirmTime: 1547734350000,\n          userId: 0,\n          amount: 1,\n          product: {\n            wid: 148,\n            product: {\n              id: 1,\n              category: 0,\n              name: \"产品名01\",\n              intro: \"八音盒\",\n              price: 0.01,\n              status: 0,\n              createdDate: 1545545048000\n            },\n            title: \"castle\",\n            userId: 239,\n            url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n          },\n          address: {\n            id: 2,\n            userId: 239,\n            userName: \"花\",\n            postalCode: \"100032\",\n            provinceName: \"北京市\",\n            cityName: \"北京市\",\n            countryName: \"西城区\",\n            detailInfo: \"哈哈哈哈哈哈哈\",\n            nationalCode: \"110102\",\n            telNumber: \"13146319393\"\n          }\n        },\n        {\n          id: 129,\n          price: 0.01,\n          status: 1,\n          shipTime: 1547704912000,\n          confirmTime: null,\n          userId: 0,\n          amount: 1,\n          product: {\n            wid: 148,\n            product: {\n              id: 1,\n              category: 0,\n              name: \"产品名01\",\n              intro: \"八音盒\",\n              price: 0.01,\n              status: 0,\n              createdDate: 1545545048000\n            },\n            title: \"castle\",\n            userId: 239,\n            url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n          },\n          address: {\n            id: 1,\n            userId: 239,\n            userName: \"郑一花\",\n            postalCode: \"100101\",\n            provinceName: \"北京市\",\n            cityName: \"北京市\",\n            countryName: \"朝阳区\",\n            detailInfo: \"北京绿城诚园52601\\n\\n\",\n            nationalCode: \"110105\",\n            telNumber: \"18501235898\"\n          }\n        },\n        {\n          id: 128,\n          price: 0.01,\n          status: 1,\n          shipTime: 1547704864000,\n          confirmTime: null,\n          userId: 0,\n          amount: 1,\n          product: {\n            wid: 148,\n            product: {\n              id: 1,\n              category: 0,\n              name: \"产品名01\",\n              intro: \"八音盒\",\n              price: 0.01,\n              status: 0,\n              createdDate: 1545545048000\n            },\n            title: \"castle\",\n            userId: 239,\n            url: \"//img.musixise.com/LIjPhuhF_castle.mid\"\n          },\n          address: {\n            id: 1,\n            userId: 239,\n            userName: \"郑一花\",\n            postalCode: \"100101\",\n            provinceName: \"北京市\",\n            cityName: \"北京市\",\n            countryName: \"朝阳区\",\n            detailInfo: \"北京绿城诚园52601\\n\\n\",\n            nationalCode: \"110105\",\n            telNumber: \"18501235898\"\n          }\n        }\n      ]\n    };\n  },\n  computed: {\n    orders() {\n      return this.$store.state.recordProject;\n    },\n    projectInfo() {\n      return this.$store.state.recordProjectInfo;\n    }\n  },\n  methods: {\n    redirectTo(path) {\n      // IMPORTANT keng. 从主页跳制作页，如果相对路径会带上参数，比如auth回来的code会一直带着，污染之后的auth\n      // 成功auth一次，就写入cookie了，所以往后跳就直接给全路径，摒弃微信弄回来的乱七八糟的参数\n      this.$router.push(path);\n    }\n  },\n  created() {\n    var docElem = document.documentElement;\n    window.rem = docElem.getBoundingClientRect().width / 10;\n    docElem.style.fontSize = window.rem + \"px\";\n\n    const inWechat = /micromessenger/.test(navigator.userAgent.toLowerCase());\n    if (!inWechat) return;\n    if (Util.getUrlParam(\"code\") || Cookies.get(\"serviceToken\")) {\n      //TODO:ajax call to get info\n      Api.getUserInfo(Util.getUrlParam(\"code\"))\n        .then(res => {\n          if (res.data.errcode >= 20000) {\n            // 网页内cookie失效，需要重新验证\n            Cookies.remove(\"serviceToken\");\n            location.replace(\n              \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\"\n            );\n          }\n          alert(`welcome${res.data.data.realname}`);\n          console.log(\"get user info success\", res.data.data);\n        })\n        .catch(err => {\n          Cookies.remove(\"serviceToken\");\n          location.replace(\n            \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\"\n          );\n        });\n    } else {\n      //又没有微信给的auth code又没有token存在cookie，只得验证\n      location.replace(\n        \"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx353a60a8b049d366&redirect_uri=http://m.musixise.com/music-box&response_type=code&scope=snsapi_userinfo&state=type&quan,url=http://m.musixise.com/music-box&connect_redirect=1#wechat_redirect\"\n      );\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <order v-for=\"(order,index) in orderList\" v-bind:info=\"order\" v-bind:key=\"order.id\"></order>\n  </div>\n</template>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n@import \"../_common/style/_functions.scss\";\n@import \"../_common/style/_variables.scss\";\n@import \"../_common/style/_mixins.scss\";\n@import \"../_common/style/_reboot.scss\";\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.container {\n  padding: getRem(32) 0 getRem(46) getRem(26);\n  position: absolute;\n  text-align: left;\n  width: 100%;\n  height: 100%;\n  background-color: $darker-gray;\n  // display: flex;\n  // flex-direction: row;\n  // overflow: scroll;\n  // flex-wrap: wrap;\n  // justify-content: space-between; //挨两头\n}\n.m-logo {\n  position: absolute;\n  width: getRem(200);\n  height: getRem(200);\n  top: 30%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: url(\"//gw.alicdn.com/tps/TB1pfhUOFXXXXaSaXXXXXXXXXXX-350-350.png\")\n    no-repeat center center;\n  background-size: getRem(175) getRem(175);\n  background-color: #ffcc33;\n  border-radius: getRem(25);\n  animation: toupperleftwithsize 4.5s linear;\n  -webkit-animation-fill-mode: forwards;\n  animation-fill-mode: forwards;\n  z-index: 2;\n}\n.redirect-button {\n  width: getRem(450);\n  height: getRem(100);\n  padding: getRem(20) getRem(50);\n  background-color: #ffcc33;\n  border-radius: getRem(10);\n  color: gray;\n}\n.redirect-button,\n#mb-maker {\n  position: absolute;\n  top: 60%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 0.57rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MyOrders.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},_vm._l((_vm.orderList),function(order,index){return _c('order',{key:order.id,attrs:{\"info\":order}})}),1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d2e4974\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyOrders.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport HelloWorld from '@/components/HelloWorld';\n// import MBMaker from '@/components/MBMaker';\n\n// import MBAuthor from '@/components/MBAuthor';\nimport NMBMaker from '@/components/NMBMaker';\n// import MBViewer from '@/components/MBViewer';\nimport NMBViewer from '@/components/NMBViewer';\nimport MBRoll from '@/components/MBRollMaker';\nimport MusixiserDetail from '@/components/MusixiserDetail';\nimport MyFav from '@/components/MyFav';\nimport MyMusic from '@/components/MyMusic';\nimport Recommend from '@/components/Recommend';\nimport ProductList from '@/components/ProductList';\nimport OrderConfirm from '@/components/OrderConfirm';\nimport MyOrders from '@/components/MyOrders';\n\nVue.use(Router);\n\nexport default new Router({\n  // mode: 'history', // avoid hash in url\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld,\n    },\n    {\n      path: '/new-music-box-maker',\n      name: 'NMBMaker',\n      component: NMBMaker,\n    },\n    {\n      path: '/new-music-box-roll',\n      name: 'MBRoll',\n      component: MBRoll,\n    },\n    {\n      path: '/new-music-box-viewer',\n      name: 'NMBViewer',\n      component: NMBViewer,\n    },\n    {\n      path: '/product-list',\n      name: 'productList',\n      component: ProductList,\n    },\n    {\n      path: '/order-confirm',\n      name: 'OrderConfirm',\n      component: OrderConfirm,\n    },\n    {\n      path: '/musixiser',\n      name: 'MusixiserDetail',\n      component: MusixiserDetail,\n    },\n    {\n      path: '/myfav',\n      name: 'MyFav',\n      component: MyFav,\n    },\n    {\n      path: '/mymusic',\n      name: 'MyMusic',\n      component: MyMusic,\n    },\n    {\n      path: '/recommend',\n      name: 'Recommend',\n      component: Recommend,\n    },\n    {\n      path: '/my-orders',\n      name: 'MyOrders',\n      component: MyOrders,\n    }\n  ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport { sync } from 'vuex-router-sync';\n// import VueTouch from 'vue-touch';\nimport 'vue2-toast/lib/toast.css';\nimport Toast from 'vue2-toast';\nimport { createStore } from './store';\nimport App from './App';\nimport router from './router';\n\n// Vue.use(VueTouch, { name: 'v-touch' });\nVue.use(Toast, { defaultType: 'center', duration: 2500, wordWrap: false, width: 'auto' });\nVue.config.productionTip = false;\nconst store = createStore();\nsync(store, router);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  template: '<App/>',\n  components: { App },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/123-2.png\n// module id = SaBO\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/oops.7bb4a06.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/oops.png\n// module id = SpEx\n// module chunks = 1","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/123-3.png\n// module id = t0gW\n// module chunks = 1","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/123-1.png\n// module id = vmYS\n// module chunks = 1"],"sourceRoot":""}